<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ARCTIC INDEX - –ò–Ω–¥–µ–∫—Å —Ä–∞–∑–≤–∏—Ç–∏—è –∞—Ä–∫—Ç–∏—á–µ—Å–∫–∏—Ö –ù–ü</title>
    <script src="https://cdn.plot.ly/plotly-3.1.1.min.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: #f5f7fa;
            color: #2c3e50;
        }

        /* –ö–æ–º–ø–∞–∫—Ç–Ω—ã–π header –¥–ª—è –≤—Å–µ–≥–æ –¥–∞—à–±–æ—Ä–¥–∞ */
        .header {
            background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%);
            color: white;
            padding: 15px 40px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.2);
            position: relative;
            overflow: hidden;
        }

        .header::after {
            content: '';
            position: absolute;
            right: -50px;
            top: -20px;
            width: 200px;
            height: 200px;
            background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 200 200'%3E%3Cpath d='M100,20 L120,40 L140,35 L145,50 L160,55 L155,70 L165,85 L150,95 L145,110 L130,105 L120,120 L105,115 L95,125 L85,120 L75,130 L65,120 L55,125 L50,110 L40,105 L35,90 L25,85 L30,70 L20,60 L30,50 L35,40 L50,35 L60,25 L75,30 L85,20 L100,20 Z' fill='none' stroke='rgba(255,255,255,0.1)' stroke-width='2'/%3E%3Ccircle cx='100' cy='70' r='3' fill='rgba(255,255,255,0.2)'/%3E%3Ccircle cx='130' cy='85' r='2' fill='rgba(255,255,255,0.15)'/%3E%3Ccircle cx='70' cy='90' r='2' fill='rgba(255,255,255,0.15)'/%3E%3C/svg%3E");
            background-size: contain;
            background-repeat: no-repeat;
            opacity: 0.3;
        }

        .header h1 {
            font-size: 28px;
            margin: 0;
            font-weight: 700;
            letter-spacing: 2px;
        }

        .header p {
            font-size: 14px;
            margin: 5px 0 0 0;
            opacity: 0.9;
        }

        /* Tabs Navigation */
        .tabs-navigation {
            display: flex;
            justify-content: center;
            gap: 0;
            background: white;
            border-bottom: 3px solid #e0e0e0;
            padding: 0 40px;
            position: sticky;
            top: 0;
            z-index: 100;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }

        .tab-btn {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 5px;
            padding: 15px 30px;
            background: none;
            border: none;
            border-bottom: 3px solid transparent;
            cursor: pointer;
            font-size: 14px;
            font-weight: 600;
            color: #7f8c8d;
            transition: all 0.3s ease;
        }

        .tab-btn:hover {
            background: #f8f9fa;
            color: #2c3e50;
        }

        .tab-btn.active {
            color: #667eea;
            border-bottom-color: #667eea;
            background: #f0f4ff;
        }

        .tab-icon {
            font-size: 24px;
        }

        .tab-content {
            display: none;
            animation: fadeIn 0.4s ease-in-out;
        }

        .tab-content.active {
            display: block;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* Intro Section */
        .intro-section {
            background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
            padding: 50px 40px;
            text-align: center;
            position: relative;
            overflow: hidden;
        }

        .intro-section::before {
            content: '';
            position: absolute;
            left: 50%;
            top: 50%;
            transform: translate(-50%, -50%);
            width: 600px;
            height: 600px;
            background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 400 400'%3E%3Cpath d='M200,40 L240,80 L280,70 L290,100 L320,110 L310,140 L330,170 L300,190 L290,220 L260,210 L240,240 L210,230 L190,250 L170,240 L150,260 L130,240 L110,250 L100,220 L80,210 L70,180 L50,170 L60,140 L40,120 L60,100 L70,80 L100,70 L120,50 L150,60 L170,40 L200,40 Z' fill='none' stroke='rgba(102,126,234,0.15)' stroke-width='3'/%3E%3Ccircle cx='200' cy='140' r='5' fill='rgba(102,126,234,0.2)'/%3E%3Ccircle cx='260' cy='170' r='4' fill='rgba(102,126,234,0.15)'/%3E%3Ccircle cx='140' cy='180' r='4' fill='rgba(102,126,234,0.15)'/%3E%3C/svg%3E");
            background-size: contain;
            background-repeat: no-repeat;
            opacity: 0.4;
            z-index: 0;
        }

        .intro-section h2 {
            position: relative;
            z-index: 1;
            font-size: 32px;
            margin-bottom: 30px;
            color: #2c3e50;
        }

        .intro-stats {
            position: relative;
            z-index: 1;
            display: flex;
            justify-content: center;
            gap: 50px;
            margin: 40px 0;
        }

        .stat {
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        .stat-number {
            font-size: 52px;
            font-weight: 800;
            color: #667eea;
        }

        .stat-label {
            font-size: 16px;
            color: #7f8c8d;
            margin-top: 8px;
        }

        .intro-text {
            position: relative;
            z-index: 1;
            font-size: 18px;
            color: #34495e;
            margin: 20px 0;
        }

        .intro-sources {
            position: relative;
            z-index: 1;
            font-size: 14px;
            color: #95a5a6;
        }

        /* Story Hero Section */
        .story-hero-section {
            background: white;
            padding: 40px;
            margin: 20px;
            border-radius: 12px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
        }

        .story-hero {
            display: flex;
            align-items: center;
            gap: 20px;
            margin-bottom: 30px;
        }

        .story-hero-icon {
            font-size: 64px;
        }

        .story-hero-badge {
            background: #f39c12;
            color: white;
            padding: 10px 20px;
            border-radius: 25px;
            font-weight: bold;
        }

        .story-text {
            line-height: 1.8;
        }

        .story-text h2 {
            color: #2c3e50;
            margin-bottom: 20px;
        }

        .story-text p {
            margin-bottom: 15px;
            color: #34495e;
        }

        .lead {
            font-size: 18px;
            font-weight: 500;
        }

        .highlight-blue {
            background: #e3f2fd;
            padding: 2px 8px;
            border-radius: 4px;
            font-weight: bold;
            color: #1976d2;
        }

        .highlight-green {
            background: #e8f5e9;
            padding: 2px 8px;
            border-radius: 4px;
            font-weight: bold;
            color: #388e3c;
        }

        .insight-quote {
            background: #fff3cd;
            border-left: 4px solid #ffc107;
            padding: 15px 20px;
            margin: 20px 0;
            font-style: italic;
        }

        .story-contrast {
            margin-top: 40px;
        }

        .story-contrast h3 {
            text-align: center;
            margin-bottom: 20px;
            color: #e74c3c;
        }

        .contrast-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin-bottom: 20px;
        }

        .contrast-card {
            padding: 20px;
            border-radius: 8px;
            border: 2px solid;
        }

        .contrast-card.good {
            background: #e8f5e9;
            border-color: #4caf50;
        }

        .contrast-card.bad {
            background: #ffebee;
            border-color: #f44336;
        }

        .story-question {
            text-align: center;
            font-size: 20px;
            color: #d32f2f;
            font-weight: bold;
            margin-top: 20px;
        }

        /* Section Navigation */
        .section-nav {
            text-align: center;
            padding: 30px;
            background: #f8f9fa;
        }

        .nav-btn {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            padding: 15px 40px;
            font-size: 16px;
            border-radius: 25px;
            cursor: pointer;
            font-weight: 600;
            transition: transform 0.2s ease, box-shadow 0.2s ease;
        }

        .nav-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 16px rgba(102,126,234,0.3);
        }

        /* Filters Section */
        .filters-section {
            background: white;
            padding: 30px 40px;
            margin: 20px;
            border-radius: 12px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
        }

        .filters-title {
            font-size: 18px;
            font-weight: bold;
            margin-bottom: 20px;
            color: #2c3e50;
        }

        .filters-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 20px;
        }

        .filter-group label {
            display: block;
            font-weight: 600;
            margin-bottom: 8px;
            color: #34495e;
        }

        .filter-group select {
            width: 100%;
            padding: 12px;
            border: 2px solid #e0e0e0;
            border-radius: 8px;
            font-size: 14px;
            transition: border-color 0.3s ease;
        }

        .filter-group select:focus {
            outline: none;
            border-color: #667eea;
        }

        /* Multi-select dropdown */
        .multi-select-wrapper {
            position: relative;
        }

        .multi-select-button {
            text-align: left;
            cursor: pointer;
            background: white;
            width: 100%;
            padding: 12px;
            border: 2px solid #e0e0e0;
            border-radius: 8px;
            font-size: 14px;
            transition: border-color 0.3s ease;
        }

        .multi-select-button:hover {
            border-color: #667eea;
        }

        .multi-select-dropdown {
            position: absolute;
            top: 100%;
            left: 0;
            right: 0;
            background: white;
            border: 1px solid #ced4da;
            border-radius: 8px;
            max-height: 250px;
            overflow-y: auto;
            z-index: 1000;
            box-shadow: 0 4px 12px rgba(0,0,0,0.15);
            margin-top: 4px;
        }

        .multi-select-dropdown label {
            display: block;
            padding: 8px 12px;
            margin: 0;
            cursor: pointer;
            font-weight: normal;
        }

        .multi-select-dropdown label:hover {
            background: #f8f9fa;
        }

        .multi-select-dropdown input[type="checkbox"] {
            margin-right: 8px;
        }

        /* Filters header with reset button on the right */
        .filters-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
        }

        .filters-header h4 {
            margin: 0;
            font-size: 18px;
            font-weight: bold;
            color: #2c3e50;
        }

        /* Compact filters grid layout */
        .control-panel {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
            gap: 10px;
            margin-bottom: 20px;
        }

        .form-group, .filter-group {
            margin-bottom: 0;
        }

        .form-group label, .filter-group label {
            font-size: 12px;
            font-weight: 600;
            margin-bottom: 3px;
            display: block;
        }

        /* Compact multi-select buttons */
        .multi-select-button {
            font-size: 13px;
            padding: 8px 10px;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }

        /* Reset button - gray by default, blue when active */
        .btn-reset {
            background: #6c757d;
            color: white;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-size: 18px;
            font-weight: bold;
            padding: 8px 12px;
            min-width: 40px;
            flex-shrink: 0;
            transition: background-color 0.2s;
        }
        .btn-reset:hover {
            background: #5a6268;
        }

        .btn-reset.active {
            background: #007bff;
        }

        .btn-reset.active:hover {
            background: #0056b3;
        }

        /* Reset all button - gray by default, blue when active */
        .btn-reset-all {
            background: #6c757d;
            color: white;
            border: none;
            border-radius: 4px;
            padding: 10px 16px;
            cursor: pointer;
            font-size: 13px;
            font-weight: bold;
            width: auto;
            min-width: 180px;
            white-space: nowrap;
            transition: background-color 0.2s;
        }
        .btn-reset-all:hover {
            background: #5a6268;
        }
        .btn-reset-all.active {
            background: #007bff;
        }
        .btn-reset-all.active:hover {
            background: #0056b3;
        }

        .filter-button-group {
            display: flex;
            gap: 5px;
            align-items: stretch;
        }

        .filter-button-group .multi-select-button {
            flex: 1;
        }

        /* KPI Cards */
        .kpi-section {
            padding: 0 40px 30px;
            margin: 0 20px;
        }

        .kpi-grid {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 20px;
        }

        .kpi-card {
            background: white;
            padding: 20px;
            border-radius: 12px;
            border: 1px solid #e0e0e0;
            border-left: 4px solid;
            cursor: pointer;
            transition: all 0.3s ease;
            text-align: center;
        }

        .kpi-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 20px rgba(0,0,0,0.15);
        }

        .kpi-card.active {
            box-shadow: 0 8px 20px rgba(0,0,0,0.2);
            transform: scale(1.05);
        }

        .kpi-card.critical {
            border-left-color: #d32f2f;
        }

        .kpi-card.low {
            border-left-color: #f57c00;
        }

        .kpi-card.medium {
            border-left-color: #fbc02d;
        }

        .kpi-card.high {
            border-left-color: #388e3c;
        }

        .kpi-card.critical:hover {
            background: rgba(211, 47, 47, 0.05);
        }

        .kpi-card.low:hover {
            background: rgba(245, 124, 0, 0.05);
        }

        .kpi-card.medium:hover {
            background: rgba(251, 192, 45, 0.05);
        }

        .kpi-card.high:hover {
            background: rgba(56, 142, 60, 0.05);
        }

        .kpi-label {
            font-size: 14px;
            color: #7f8c8d;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .kpi-value {
            font-size: 48px;
            font-weight: bold;
            margin: 10px 0;
        }

        .kpi-percent {
            font-size: 24px;
            font-weight: normal;
            opacity: 0.6;
            margin-left: 8px;
        }

        .kpi-description {
            font-size: 12px;
            color: #95a5a6;
        }

        /* Visualizations */
        .vis-section {
            background: white;
            padding: 30px 40px;
            margin: 20px;
            border-radius: 12px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
        }

        .vis-title {
            font-size: 20px;
            font-weight: bold;
            margin-bottom: 20px;
            color: #2c3e50;
        }

        /* Methodology Section */
        .methodology-section {
            background: white;
            padding: 40px;
            margin: 20px;
            border-radius: 12px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
        }

        .methodology-section h2 {
            color: #2c3e50;
            margin-bottom: 20px;
        }

        .methodology-section h3 {
            color: #667eea;
            margin: 30px 0 15px 0;
        }

        .methodology-section p {
            line-height: 1.8;
            color: #34495e;
            margin-bottom: 15px;
        }

        .methodology-formula {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 8px;
            font-family: 'Courier New', monospace;
            font-size: 16px;
            text-align: center;
            margin: 20px 0;
            border-left: 4px solid #667eea;
        }

        .component-list {
            list-style: none;
            padding: 0;
        }

        .component-list li {
            padding: 10px 0;
            border-bottom: 1px solid #e0e0e0;
        }

        .component-list li:last-child {
            border-bottom: none;
        }

        /* Public Benefit Section */
        .public-benefit-section {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 40px;
            margin: 20px;
            border-radius: 12px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
        }

        .public-benefit-section h2 {
            margin-bottom: 20px;
        }

        .benefit-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 20px;
            margin-top: 30px;
        }

        .benefit-card {
            background: rgba(255,255,255,0.1);
            padding: 20px;
            border-radius: 8px;
            backdrop-filter: blur(10px);
        }

        .benefit-icon {
            font-size: 48px;
            margin-bottom: 15px;
        }

        .benefit-title {
            font-size: 18px;
            font-weight: bold;
            margin-bottom: 10px;
        }

        .benefit-text {
            font-size: 14px;
            opacity: 0.9;
            line-height: 1.6;
        }

        /* CTA Section */
        .cta-section {
            background: white;
            padding: 60px 40px;
            margin: 20px;
            text-align: center;
            border-radius: 12px;
        }

        .cta-title {
            font-size: 36px;
            color: #2c3e50;
            margin-bottom: 20px;
        }

        .cta-subtitle {
            font-size: 18px;
            color: #7f8c8d;
            margin-bottom: 40px;
        }

        .cta-buttons {
            display: flex;
            justify-content: center;
            gap: 20px;
        }

        .cta-btn {
            padding: 15px 40px;
            font-size: 16px;
            font-weight: 600;
            border: none;
            border-radius: 25px;
            cursor: pointer;
            transition: transform 0.2s ease, box-shadow 0.2s ease;
        }

        .cta-btn.primary {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
        }

        .cta-btn.secondary {
            background: white;
            color: #667eea;
            border: 2px solid #667eea;
        }

        .cta-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 16px rgba(0,0,0,0.2);
        }

        /* Responsive */
        @media (max-width: 1024px) {
            .filters-grid {
                grid-template-columns: 1fr;
            }

            .kpi-grid {
                grid-template-columns: repeat(2, 1fr);
            }

            .contrast-grid {
                grid-template-columns: 1fr;
            }

            .benefit-grid {
                grid-template-columns: 1fr;
            }

            .intro-stats {
                flex-direction: column;
                gap: 30px;
            }
        }

        /* Critical Settlements Widget Styles */
        .panel-title {
            font-size: 18px;
            font-weight: 600;
            margin-bottom: 16px;
            color: #2c3e50;
            display: flex;
            align-items: center;
        }

        .panel-title .icon {
            font-size: 24px;
            margin-right: 10px;
        }

        .priority-table {
            width: 100%;
            border-collapse: collapse;
        }

        .priority-table th {
            background: #34495e;
            color: white;
            padding: 12px;
            text-align: left;
            font-weight: 600;
        }

        .priority-table td {
            padding: 10px 12px;
            border-bottom: 1px solid #ecf0f1;
        }

        .priority-table tr:hover {
            background: #f8f9fa;
            cursor: pointer;
        }

        .badge {
            padding: 4px 10px;
            border-radius: 12px;
            font-size: 11px;
            font-weight: 600;
        }

        .badge-risk {
            background: #f39c12;
            color: white;
        }

        .table-container {
            overflow-y: auto;
            max-height: 320px;
        }
    </style>
</head>
<body>

<header class="header">
    <h1>ARCTIC INDEX</h1>
    <p>–ò–Ω–¥–µ–∫—Å —Ä–∞–∑–≤–∏—Ç–∏—è –∞—Ä–∫—Ç–∏—á–µ—Å–∫–∏—Ö –Ω–∞—Å–µ–ª—ë–Ω–Ω—ã—Ö –ø—É–Ω–∫—Ç–æ–≤</p>
</header>

<nav class="tabs-navigation">
    <button type="button" class="tab-btn active" onclick="switchTab('story')">
        <span class="tab-icon">üìñ</span>
        <span>–ò—Å—Ç–æ—Ä–∏—è</span>
    </button>
    <button type="button" class="tab-btn" onclick="switchTab('dashboard')">
        <span class="tab-icon">üìä</span>
        <span>–î–∞—à–±–æ—Ä–¥</span>
    </button>
    <button type="button" class="tab-btn" onclick="switchTab('methodology')">
        <span class="tab-icon">üî¨</span>
        <span>–ú–µ—Ç–æ–¥–æ–ª–æ–≥–∏—è</span>
    </button>
</nav>

<!-- –í–ö–õ–ê–î–ö–ê 1: –ò–°–¢–û–†–ò–Ø -->
<div id="tab-story" class="tab-content active">

<section class="intro-section">
    <h2>–ê–†–ö–¢–ò–ö–ê –í –¶–ò–§–†–ê–•: 40 –ù–ü –≤ –∑–æ–Ω–µ —Ä–∏—Å–∫–∞ –æ—Ç—Ç–æ–∫–∞ –Ω–∞—Å–µ–ª–µ–Ω–∏—è</h2>
    <div class="intro-stats">
        <div class="stat">
            <span class="stat-number">128</span>
            <span class="stat-label">–ù–∞—Å–µ–ª—ë–Ω–Ω—ã—Ö –ø—É–Ω–∫—Ç–æ–≤</span>
        </div>
        <div class="stat">
            <span class="stat-number">200k</span>
            <span class="stat-label">–ñ–∏—Ç–µ–ª–µ–π</span>
        </div>
        <div class="stat">
            <span class="stat-number">6</span>
            <span class="stat-label">–ö–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ NDI</span>
        </div>
    </div>
    <p class="intro-text">–ü–µ—Ä–≤—ã–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –¥–ª—è –∞–¥—Ä–µ—Å–Ω–æ–π –≥–æ—Å—É–¥–∞—Ä—Å—Ç–≤–µ–Ω–Ω–æ–π –ø–æ–¥–¥–µ—Ä–∂–∫–∏ –∞—Ä–∫—Ç–∏—á–µ—Å–∫–∏—Ö —Ç–µ—Ä—Ä–∏—Ç–æ—Ä–∏–π –Ω–∞ –æ—Å–Ω–æ–≤–µ –¥–∞–Ω–Ω—ã—Ö</p>
    <p class="intro-sources">–ò—Å—Ç–æ—á–Ω–∏–∫–∏: –†–æ—Å—Å—Ç–∞—Ç (93 –ø–æ–∫–∞–∑–∞—Ç–µ–ª—è –ü–û–†–ê), –°–±–µ—Ä–ò–Ω–¥–µ–∫—Å (2024), Open-Meteo</p>
</section>

<section class="story-hero-section">
    <div class="story-container">
        <div class="story-hero">
            <div class="story-hero-icon">üèÜ</div>
            <div class="story-hero-badge">#1 –≤ –†–æ—Å—Å–∏–∏</div>
        </div>

        <div class="story-text">
            <h2>–ò—Å—Ç–æ—Ä–∏—è –ø–≥—Ç –ù–∞–¥–≤–æ–∏—Ü—ã: –∫–∞–∫ –ö–∞—Ä–µ–ª–∏—è –æ–±–æ–≥–Ω–∞–ª–∞ –Ω–µ—Ñ—Ç—è–Ω–∏–∫–æ–≤</h2>
            <p class="lead">12 —Ç—ã—Å—è—á —á–µ–ª–æ–≤–µ–∫. –ü–æ—Å—ë–ª–æ–∫ –≥–æ—Ä–æ–¥—Å–∫–æ–≥–æ —Ç–∏–ø–∞ –≤ 350 –∫–º –æ—Ç –ü–µ—Ç—Ä–æ–∑–∞–≤–æ–¥—Å–∫–∞. <strong>NDI 7.09/10</strong> ‚Äî –ª—É—á—à–∏–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç —Å—Ä–µ–¥–∏ 128 –∞—Ä–∫—Ç–∏—á–µ—Å–∫–∏—Ö –Ω–∞—Å–µ–ª—ë–Ω–Ω—ã—Ö –ø—É–Ω–∫—Ç–æ–≤.</p>

            <p><strong>–°–µ–∫—Ä–µ—Ç —É—Å–ø–µ—Ö–∞?</strong> –ù–µ –±–æ–≥–∞—Ç—Å—Ç–≤–æ (–ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏–µ 26k —Ä—É–±/–º–µ—Å ‚Äî —Å–∫—Ä–æ–º–Ω–µ–µ, —á–µ–º —É –Ω–µ—Ñ—Ç—è–Ω–∏–∫–æ–≤ –Ø–ù–ê–û). –ù–µ –∫–ª–∏–º–∞—Ç (HDD 6800 ‚Äî —Ö–æ–ª–æ–¥–Ω–æ, –Ω–æ —Ç–µ—Ä–ø–∏–º–æ). –ö–ª—é—á ‚Äî <span class="highlight-blue">market_access = 1.0</span> (100% –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å —Ä—ã–Ω–∫–æ–≤) –∏ <span class="highlight-green">POAD = 0.65</span> (–∫–∞—á–µ—Å—Ç–≤–æ –∂–∏–∑–Ω–∏ –≤—ã—à–µ —Å—Ä–µ–¥–Ω–µ–≥–æ).</p>

            <p class="insight-quote">"–ù–∞–¥–≤–æ–∏—Ü—ã ‚Äî —ç—Ç–æ –∂–∏–≤–æ–π –ø—Ä–∏–º–µ—Ä —Ç–æ–≥–æ, –∫–∞–∫ <strong>–≥–µ–æ–≥—Ä–∞—Ñ–∏—è + –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞</strong> –∫–æ–º–ø–µ–Ω—Å–∏—Ä—É—é—Ç —É–¥–∞–ª—ë–Ω–Ω–æ—Å—Ç—å. –•–æ—Ä–æ—à–∏–µ –¥–æ—Ä–æ–≥–∏ –¥–æ –ü–µ—Ç—Ä–æ–∑–∞–≤–æ–¥—Å–∫–∞, —Ä–∞–±–æ—Ç–∞—é—â–∏–π —Ü–µ–ª–ª—é–ª–æ–∑–Ω–æ-–±—É–º–∞–∂–Ω—ã–π –∫–æ–º–±–∏–Ω–∞—Ç, —Ä–∞–∑–≤–∏—Ç–∞—è —Å–æ—Ü–∏–∞–ª—å–Ω–∞—è —Å—Ñ–µ—Ä–∞. –õ—é–¥–∏ –Ω–µ —É–µ–∑–∂–∞—é—Ç ‚Äî –æ–Ω–∏ <strong>–≤–æ–∑–≤—Ä–∞—â–∞—é—Ç—Å—è</strong>."</p>
        </div>
    </div>

    <div class="story-contrast">
        <h3>–ê —Ç–µ–ø–µ—Ä—å –≤–∑–≥–ª—è–Ω–∏—Ç–µ –Ω–∞ –ø—Ä–æ—Ç–∏–≤–æ–ø–æ–ª–æ–∂–Ω–æ—Å—Ç—å...</h3>
        <div class="contrast-grid">
            <div class="contrast-card good">
                <strong>–ø–≥—Ç –ù–∞–¥–≤–æ–∏—Ü—ã (–ö–∞—Ä–µ–ª–∏—è)</strong><br>
                NDI: 7.09 | –ù–∞—Å–µ–ª–µ–Ω–∏–µ: 12k | –¢—Ä–µ–Ω–¥: —Å—Ç–∞–±–∏–ª—å–Ω–æ<br>
                <span style="font-size: 12px; color: #2e7d32;">‚úì Market access: 100% | ‚úì POAD: 65% | ‚úì Climate: –ø—Ä–∏–µ–º–ª–µ–º–æ</span>
            </div>
            <div class="contrast-card bad">
                <strong>–ø–≥—Ç –î–µ–ø—É—Ç–∞—Ç—Å–∫–∏–π (–Ø–∫—É—Ç–∏—è)</strong><br>
                NDI: 1.51 | –ù–∞—Å–µ–ª–µ–Ω–∏–µ: 2k ‚Üí 1.5k (-25% –∑–∞ 5 –ª–µ—Ç) | –¢—Ä–µ–Ω–¥: –≤—ã–º–∏—Ä–∞–Ω–∏–µ<br>
                <span style="font-size: 12px; color: #c62828;">‚úó Accessibility: 18% | ‚úó Climate: HDD > 10500 | ‚úó POAD: –∫—Ä–∏—Ç–∏—á–Ω–æ</span>
            </div>
        </div>
        <p class="story-question"><strong>–í–æ–ø—Ä–æ—Å –∫ –∂—é—Ä–∏:</strong> –°–∫–æ–ª—å–∫–æ "–î–µ–ø—É—Ç–∞—Ç—Å–∫–∏—Ö" –º—ã –º–æ–∂–µ–º —Å–ø–∞—Å—Ç–∏, –µ—Å–ª–∏ –±—É–¥–µ–º –∑–Ω–∞—Ç—å, <em>–≥–¥–µ</em> –∏ <em>–∫–∞–∫</em> –ø–æ–º–æ–≥–∞—Ç—å?</p>
    </div>
</section>

<div class="section-nav">
    <button type="button" class="nav-btn" onclick="switchTab('dashboard')">–ü–µ—Ä–µ–π—Ç–∏ –∫ –¥–∞—à–±–æ—Ä–¥—É ‚Üí</button>
</div>

</div>
<!-- –ö–û–ù–ï–¶ –í–ö–õ–ê–î–ö–ò 1: –ò–°–¢–û–†–ò–Ø -->

<!-- –í–ö–õ–ê–î–ö–ê 2: –î–ê–®–ë–û–†–î -->
<div id="tab-dashboard" class="tab-content">

<!-- –§–ò–õ–¨–¢–†–´ -->
<section class="filters-section">
    <div class="filters-header">
        <h4 style="color: #6c757d;">–í—ã–±–µ—Ä–∏—Ç–µ —Ñ–∏–ª—å—Ç—Ä</h4>
        <button type="button" class="btn-reset-all" id="reset-all-filters">
            üîÑ –°–±—Ä–æ—Å–∏—Ç—å –≤—Å–µ
        </button>
    </div>

    <div class="control-panel">
        <div class="filter-group">
            <label id="region-filter-label">–†–µ–≥–∏–æ–Ω</label>
            <div class="multi-select-wrapper" id="region-filter-wrapper">
                <div class="filter-button-group">
                    <button type="button" class="multi-select-button" id="region-filter-button" aria-labelledby="region-filter-label">
                        –í—Å–µ —Ä–µ–≥–∏–æ–Ω—ã ‚ñº
                    </button>
                    <button type="button" class="btn-reset" id="region-filter-reset" title="–°–±—Ä–æ—Å–∏—Ç—å —Ñ–∏–ª—å—Ç—Ä —Ä–µ–≥–∏–æ–Ω–æ–≤">√ó</button>
                </div>
                <div class="multi-select-dropdown" id="region-filter-dropdown" style="display: none;">
                    <label><input type="checkbox" class="region-checkbox" value="–ê—Ä—Ö–∞–Ω–≥–µ–ª—å—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å"> –ê—Ä—Ö–∞–Ω–≥–µ–ª—å—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å</label>
                    <label><input type="checkbox" class="region-checkbox" value="–ö—Ä–∞—Å–Ω–æ—è—Ä—Å–∫–∏–π –∫—Ä–∞–π"> –ö—Ä–∞—Å–Ω–æ—è—Ä—Å–∫–∏–π –∫—Ä–∞–π</label>
                    <label><input type="checkbox" class="region-checkbox" value="–ú—É—Ä–º–∞–Ω—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å"> –ú—É—Ä–º–∞–Ω—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å</label>
                    <label><input type="checkbox" class="region-checkbox" value="–ù–µ–Ω–µ—Ü–∫–∏–π –∞–≤—Ç–æ–Ω–æ–º–Ω—ã–π –æ–∫—Ä—É–≥"> –ù–µ–Ω–µ—Ü–∫–∏–π –∞–≤—Ç–æ–Ω–æ–º–Ω—ã–π –æ–∫—Ä—É–≥</label>
                    <label><input type="checkbox" class="region-checkbox" value="–†–µ—Å–ø—É–±–ª–∏–∫–∞ –ö–∞—Ä–µ–ª–∏—è"> –†–µ—Å–ø—É–±–ª–∏–∫–∞ –ö–∞—Ä–µ–ª–∏—è</label>
                    <label><input type="checkbox" class="region-checkbox" value="–†–µ—Å–ø—É–±–ª–∏–∫–∞ –ö–æ–º–∏"> –†–µ—Å–ø—É–±–ª–∏–∫–∞ –ö–æ–º–∏</label>
                    <label><input type="checkbox" class="region-checkbox" value="–†–µ—Å–ø—É–±–ª–∏–∫–∞ –°–∞—Ö–∞ (–Ø–∫—É—Ç–∏—è)"> –†–µ—Å–ø—É–±–ª–∏–∫–∞ –°–∞—Ö–∞ (–Ø–∫—É—Ç–∏—è)</label>
                    <label><input type="checkbox" class="region-checkbox" value="–•–∞–Ω—Ç—ã-–ú–∞–Ω—Å–∏–π—Å–∫–∏–π –∞–≤—Ç–æ–Ω–æ–º–Ω—ã–π –æ–∫—Ä—É–≥ - –Æ–≥—Ä–∞"> –•–∞–Ω—Ç—ã-–ú–∞–Ω—Å–∏–π—Å–∫–∏–π –∞–≤—Ç–æ–Ω–æ–º–Ω—ã–π –æ–∫—Ä—É–≥ - –Æ–≥—Ä–∞</label>
                    <label><input type="checkbox" class="region-checkbox" value="–ß—É–∫–æ—Ç—Å–∫–∏–π –∞–≤—Ç–æ–Ω–æ–º–Ω—ã–π –æ–∫—Ä—É–≥"> –ß—É–∫–æ—Ç—Å–∫–∏–π –∞–≤—Ç–æ–Ω–æ–º–Ω—ã–π –æ–∫—Ä—É–≥</label>
                    <label><input type="checkbox" class="region-checkbox" value="–Ø–º–∞–ª–æ-–ù–µ–Ω–µ—Ü–∫–∏–π –∞–≤—Ç–æ–Ω–æ–º–Ω—ã–π –æ–∫—Ä—É–≥"> –Ø–º–∞–ª–æ-–ù–µ–Ω–µ—Ü–∫–∏–π –∞–≤—Ç–æ–Ω–æ–º–Ω—ã–π –æ–∫—Ä—É–≥</label>
                </div>
            </div>
        </div>

        <div class="filter-group">
            <label id="settlement-filter-label">–ù–∞—Å–µ–ª—ë–Ω–Ω—ã–π –ø—É–Ω–∫—Ç</label>
            <div class="multi-select-wrapper" id="settlement-filter-wrapper">
                <div class="filter-button-group">
                    <button type="button" class="multi-select-button" id="settlement-filter-button" aria-labelledby="settlement-filter-label">
                        –í—Å–µ –ù–ü ‚ñº
                    </button>
                    <button type="button" class="btn-reset" id="settlement-filter-reset" title="–°–±—Ä–æ—Å–∏—Ç—å —Ñ–∏–ª—å—Ç—Ä –Ω–∞—Å–µ–ª—ë–Ω–Ω—ã—Ö –ø—É–Ω–∫—Ç–æ–≤">√ó</button>
                </div>
                <div class="multi-select-dropdown" id="settlement-filter-dropdown" style="display: none;">
                </div>
            </div>
        </div>

        <div class="filter-group">
            <label for="filter-category">–£—Ä–æ–≤–µ–Ω—å –ø—Ä–∏–≤–ª–µ–∫–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–∏</label>
            <select id="filter-category">
                <option value="">–í—Å–µ —É—Ä–æ–≤–Ω–∏</option>
                <option value="–ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–π">‚ùå –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–π (NDI < 3.0)</option>
                <option value="–ù–∏–∑–∫–∏–π">üî¥ –ù–∏–∑–∫–∏–π (3.0 ‚â§ NDI < 4.5)</option>
                <option value="–°—Ä–µ–¥–Ω–∏–π">üü° –°—Ä–µ–¥–Ω–∏–π (4.5 ‚â§ NDI < 6.5)</option>
                <option value="–í—ã—Å–æ–∫–∏–π">üü¢ –í—ã—Å–æ–∫–∏–π (NDI ‚â• 6.5)</option>
            </select>
        </div>

        <div class="filter-group">
            <label for="filter-arctic">–ê—Ä–∫—Ç–∏—á–µ—Å–∫–∞—è –∑–æ–Ω–∞</label>
            <select id="filter-arctic">
                <option value="">–í—Å–µ</option>
                <option value="true">–î–∞ (–∞—Ä–∫—Ç–∏—á–µ—Å–∫–∏–µ)</option>
                <option value="false">–ù–µ—Ç (–Ω–µ–∞—Ä–∫—Ç–∏—á–µ—Å–∫–∏–µ)</option>
            </select>
        </div>
    </div>
</section>

<!-- KPI CARDS -->
<section class="kpi-section">
    <div class="kpi-grid">
        <div class="kpi-card critical" data-category="–ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–π" onclick="filterByCategory('–ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–π')">
            <div class="kpi-label">–ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–π</div>
            <div class="kpi-value">14</div>
            <div class="kpi-description">–Ω–∞—Å–µ–ª—ë–Ω–Ω—ã—Ö –ø—É–Ω–∫—Ç–æ–≤</div>
        </div>
        <div class="kpi-card low" data-category="–ù–∏–∑–∫–∏–π" onclick="filterByCategory('–ù–∏–∑–∫–∏–π')">
            <div class="kpi-label">–ù–∏–∑–∫–∏–π</div>
            <div class="kpi-value">63</div>
            <div class="kpi-description">–Ω–∞—Å–µ–ª—ë–Ω–Ω—ã—Ö –ø—É–Ω–∫—Ç–æ–≤</div>
        </div>
        <div class="kpi-card medium" data-category="–°—Ä–µ–¥–Ω–∏–π" onclick="filterByCategory('–°—Ä–µ–¥–Ω–∏–π')">
            <div class="kpi-label">–°—Ä–µ–¥–Ω–∏–π</div>
            <div class="kpi-value">47</div>
            <div class="kpi-description">–Ω–∞—Å–µ–ª—ë–Ω–Ω—ã—Ö –ø—É–Ω–∫—Ç–æ–≤</div>
        </div>
        <div class="kpi-card high" data-category="–í—ã—Å–æ–∫–∏–π" onclick="filterByCategory('–í—ã—Å–æ–∫–∏–π')">
            <div class="kpi-label">–í—ã—Å–æ–∫–∏–π</div>
            <div class="kpi-value">4</div>
            <div class="kpi-description">–Ω–∞—Å–µ–ª—ë–Ω–Ω—ã—Ö –ø—É–Ω–∫—Ç–æ–≤</div>
        </div>
    </div>
</section>

<!-- CRITICAL SETTLEMENTS -->
<section class="vis-section">
    <div class="panel-title">
        <span class="icon">üö®</span>
        –¢–û–ü-15 –ù–ü –í –ö–†–ò–¢–ò–ß–ï–°–ö–û–ô –ó–û–ù–ï (NDI < 3.0)
    </div>

    <div class="table-container">
        <table class="priority-table" id="criticalTable">
            <thead>
                <tr>
                    <th>#</th>
                    <th>–ù–∞—Å–µ–ª—ë–Ω–Ω—ã–π –ø—É–Ω–∫—Ç</th>
                    <th>NDI</th>
                    <th>–†–µ–≥–∏–æ–Ω</th>
                    <th>–°—Ç–∞—Ç—É—Å</th>
                </tr>
            </thead>
            <tbody id="criticalTableBody">
                <!-- –ë—É–¥–µ—Ç –∑–∞–ø–æ–ª–Ω–µ–Ω–æ JavaScript -->
            </tbody>
        </table>
    </div>

    <div id="critical-treemap" style="height: 280px; margin-top: 20px;"></div>
</section>

<!-- TREEMAP -->
<section class="vis-section">
    <div class="vis-title">
        üó∫Ô∏è –ö–∞—Ä—Ç–∞ –ø—Ä–∏–≤–ª–µ–∫–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –ù–ü –ø–æ —Ä–µ–≥–∏–æ–Ω–∞–º
        <button type="button" id="treemap-back-btn" style="display:none; margin-left: 20px; padding: 5px 15px; background: #6c757d; color: white; border: none; border-radius: 4px; cursor: pointer;">
            ‚Üê –ù–∞–∑–∞–¥ –∫ —Ä–µ–≥–∏–æ–Ω–∞–º
        </button>
    </div>
    <div id="treemap" style="height: 550px;"></div>
</section>

<!-- TODO: –°–µ–∫—Ü–∏—è "üìä –î–µ–∫–æ–º–ø–æ–∑–∏—Ü–∏—è NDI –∏ —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤" (waterfall/radar)
     –±—É–¥–µ—Ç –¥–æ–±–∞–≤–ª–µ–Ω–∞ –ø–æ–∑–∂–µ. –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ: —Å–º. git history –∏–ª–∏ connected_arctic_dashboard (1).html -->

<div class="section-nav">
    <button type="button" class="nav-btn" onclick="switchTab('story')">‚Üê –ö –∏—Å—Ç–æ—Ä–∏–∏</button>
    <button type="button" class="nav-btn" onclick="switchTab('methodology')">–ö –º–µ—Ç–æ–¥–æ–ª–æ–≥–∏–∏ ‚Üí</button>
</div>

</div>
<!-- –ö–û–ù–ï–¶ –í–ö–õ–ê–î–ö–ò 2: –î–ê–®–ë–û–†–î -->

<!-- –í–ö–õ–ê–î–ö–ê 3: –ú–ï–¢–û–î–û–õ–û–ì–ò–Ø -->
<div id="tab-methodology" class="tab-content">

<!-- PUBLIC BENEFIT -->
<section class="public-benefit-section">
    <h2>üéØ –î–ª—è —á–µ–≥–æ —ç—Ç–æ –Ω—É–∂–Ω–æ?</h2>
    <p>ARCTIC INDEX ‚Äî –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –¥–ª—è –∞–¥—Ä–µ—Å–Ω–æ–π –≥–æ—Å—É–¥–∞—Ä—Å—Ç–≤–µ–Ω–Ω–æ–π –ø–æ–¥–¥–µ—Ä–∂–∫–∏ –∞—Ä–∫—Ç–∏—á–µ—Å–∫–∏—Ö —Ç–µ—Ä—Ä–∏—Ç–æ—Ä–∏–π</p>

    <div class="benefit-grid">
        <div class="benefit-card">
            <div class="benefit-icon">üèõÔ∏è</div>
            <div class="benefit-title">–î–ª—è —á–∏–Ω–æ–≤–Ω–∏–∫–æ–≤</div>
            <div class="benefit-text">–û–±—ä–µ–∫—Ç–∏–≤–Ω—ã–µ –∫—Ä–∏—Ç–µ—Ä–∏–∏ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –±—é–¥–∂–µ—Ç–∞. –í–º–µ—Å—Ç–æ "–≤—Å–µ–º –ø–æ—Ä–æ–≤–Ω—É" ‚Äî –∞–¥—Ä–µ—Å–Ω–∞—è –ø–æ–º–æ—â—å —Ç–µ–º, –∫—Ç–æ –≤ –Ω–µ–π –Ω—É–∂–¥–∞–µ—Ç—Å—è.</div>
        </div>
        <div class="benefit-card">
            <div class="benefit-icon">üìä</div>
            <div class="benefit-title">–î–ª—è –∞–Ω–∞–ª–∏—Ç–∏–∫–æ–≤</div>
            <div class="benefit-text">–û—Ç–∫—Ä—ã—Ç—ã–µ –¥–∞–Ω–Ω—ã–µ, –≤–æ—Å–ø—Ä–æ–∏–∑–≤–æ–¥–∏–º–∞—è –º–µ—Ç–æ–¥–æ–ª–æ–≥–∏—è. SQL VIEW –≤ PostgreSQL ‚Äî –∫–æ–ø–∏—Ä—É–π, –ø—Ä–æ–≤–µ—Ä—è–π, —É–ª—É—á—à–∞–π.</div>
        </div>
        <div class="benefit-card">
            <div class="benefit-icon">üó≥Ô∏è</div>
            <div class="benefit-title">–î–ª—è –≥—Ä–∞–∂–¥–∞–Ω</div>
            <div class="benefit-text">–ü—Ä–æ–∑—Ä–∞—á–Ω–æ—Å—Ç—å —Ä–∞—Å—Ö–æ–¥–æ–≤–∞–Ω–∏—è —Å—Ä–µ–¥—Å—Ç–≤. –ö–∞–∂–¥—ã–π –º–æ–∂–µ—Ç –ø—Ä–æ–≤–µ—Ä–∏—Ç—å, –ø–æ—á–µ–º—É –µ–≥–æ –ù–ü –ø–æ–ª—É—á–∏–ª (–∏–ª–∏ –Ω–µ –ø–æ–ª—É—á–∏–ª) –ø–æ–¥–¥–µ—Ä–∂–∫—É.</div>
        </div>
    </div>
</section>

<!-- METHODOLOGY -->
<section class="methodology-section">
    <h2>üî¨ –ú–µ—Ç–æ–¥–æ–ª–æ–≥–∏—è —Ä–∞—Å—á—ë—Ç–∞ NDI</h2>

    <p>Northern Development Index (NDI) ‚Äî –∫–æ–º–ø–æ–∑–∏—Ç–Ω—ã–π –∏–Ω–¥–µ–∫—Å —Ä–∞–∑–≤–∏—Ç–∏—è –∞—Ä–∫—Ç–∏—á–µ—Å–∫–∏—Ö –Ω–∞—Å–µ–ª—ë–Ω–Ω—ã—Ö –ø—É–Ω–∫—Ç–æ–≤, —Ä–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ–º—ã–π –ø–æ —Ñ–æ—Ä–º—É–ª–µ:</p>

    <div class="methodology-formula">
        NDI = 0.35√óPOAD + 0.20√óMarket + 0.15√óConsumption + 0.15√óAccess + 0.10√óClimate + 0.05√óMobility
    </div>

    <h3>–ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –∏–Ω–¥–µ–∫—Å–∞</h3>
    <ul class="component-list">
        <li><strong>POAD (35%)</strong> ‚Äî –ö–∞—á–µ—Å—Ç–≤–æ –∂–∏–∑–Ω–∏. –ò—Å—Ç–æ—á–Ω–∏–∫: 93 –ø–æ–∫–∞–∑–∞—Ç–µ–ª—è –ü–û–†–ê (–†–æ—Å—Å—Ç–∞—Ç). –ù–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è: min-max –ø–æ 128 –ù–ü.</li>
        <li><strong>Market Access (20%)</strong> ‚Äî –î–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å —Ä—ã–Ω–∫–æ–≤. –ò—Å—Ç–æ—á–Ω–∏–∫: –°–±–µ—Ä–ò–Ω–¥–µ–∫—Å (2024). –ü—Ä–æ–ø—É—Å–∫–∏ –∑–∞–ø–æ–ª–Ω–µ–Ω—ã —Ä–µ–≥–∏–æ–Ω–∞–ª—å–Ω—ã–º–∏ —Å—Ä–µ–¥–Ω–∏–º–∏.</li>
        <li><strong>Consumption (15%)</strong> ‚Äî –ü–æ—Ç—Ä–µ–±–ª–µ–Ω–∏–µ. –ò—Å—Ç–æ—á–Ω–∏–∫: –°–±–µ—Ä–ò–Ω–¥–µ–∫—Å (–∏—é–ª—å-–¥–µ–∫–∞–±—Ä—å 2024). –†–∞—Å—á—ë—Ç: welfare ratio (–ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏–µ / –ø—Ä–æ–∂–∏—Ç–æ—á–Ω—ã–π –º–∏–Ω–∏–º—É–º), clip at 2.0.</li>
        <li><strong>Accessibility (15%)</strong> ‚Äî –î–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å –¥–æ —Ö–∞–±–æ–≤. –ò—Å—Ç–æ—á–Ω–∏–∫: —Ä–∞—Å—Å—Ç–æ—è–Ω–∏–µ –¥–æ 12 –∫—Ä—É–ø–Ω–µ–π—à–∏—Ö –≥–æ—Ä–æ–¥–æ–≤. –ù–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è: –æ–±—Ä–∞—Ç–Ω–∞—è –¥–∏—Å—Ç–∞–Ω—Ü–∏—è.</li>
        <li><strong>Climate (10%)</strong> ‚Äî –ö–ª–∏–º–∞—Ç–∏—á–µ—Å–∫–∞—è –Ω–∞–≥—Ä—É–∑–∫–∞ (HDD). –ò—Å—Ç–æ—á–Ω–∏–∫: Open-Meteo (2019-2024). –ò–Ω–≤–µ—Ä—Å–∏—è: —Ö–æ–ª–æ–¥ = –Ω–∏–∑–∫–∏–π –±–∞–ª–ª.</li>
        <li><strong>Mobility (5%)</strong> ‚Äî –ú–æ–±–∏–ª—å–Ω–æ—Å—Ç—å –Ω–∞—Å–µ–ª–µ–Ω–∏—è. Placeholder: 0.5 (–Ω–µ—Ç –¥–∞–Ω–Ω—ã—Ö).</li>
    </ul>

    <h3>–ò—Å—Ç–æ—á–Ω–∏–∫–∏ –¥–∞–Ω–Ω—ã—Ö</h3>
    <p>‚Ä¢ –†–æ—Å—Å—Ç–∞—Ç: 93 –ø–æ–∫–∞–∑–∞—Ç–µ–ª—è –ü–û–†–ê (–∫–∞—á–µ—Å—Ç–≤–æ –∂–∏–∑–Ω–∏)<br>
    ‚Ä¢ –°–±–µ—Ä–ò–Ω–¥–µ–∫—Å: market access, –ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏–µ (2024)<br>
    ‚Ä¢ Open-Meteo: –∫–ª–∏–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –¥–∞–Ω–Ω—ã–µ (2019-2024)<br>
    ‚Ä¢ –ì–µ–æ–∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏–µ: —Ä–∞—Å—Å—Ç–æ—è–Ω–∏—è –¥–æ —Ö–∞–±–æ–≤</p>

    <h3>–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è</h3>
    <p>‚Ä¢ PostgreSQL VIEW: <code>sberindex.vw_ndi_calculation</code><br>
    ‚Ä¢ Python ETL: pandas, psycopg2<br>
    ‚Ä¢ –î–∞—à–±–æ—Ä–¥: Plotly, HTML5, CSS3, JavaScript</p>

    <h3>–û—Ç–∫—Ä—ã—Ç—ã–π –∫–æ–¥</h3>
    <p>–í—Å–µ —Å–∫—Ä–∏–ø—Ç—ã, SQL –∑–∞–ø—Ä–æ—Å—ã –∏ –º–µ—Ç–æ–¥–æ–ª–æ–≥–∏—è –¥–æ—Å—Ç—É–ø–Ω—ã –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏. –í–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–∏—Ç–µ —Ä–∞—Å—á—ë—Ç —Å–∞–º–æ—Å—Ç–æ—è—Ç–µ–ª—å–Ω–æ:</p>
    <div class="methodology-formula">
        psql -f scripts/12_create_ndi_view.sql<br>
        SELECT * FROM sberindex.vw_ndi_calculation ORDER BY ndi_10 DESC;
    </div>
</section>

<!-- CTA -->
<section class="cta-section">
    <h2 class="cta-title">–ì–æ—Ç–æ–≤—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å ARCTIC INDEX?</h2>
    <p class="cta-subtitle">–ü—Ä–∏—Å–æ–µ–¥–∏–Ω—è–π—Ç–µ—Å—å –∫ –ø—Ä–æ–µ–∫—Ç—É –æ—Ç–∫—Ä—ã—Ç—ã—Ö –¥–∞–Ω–Ω—ã—Ö –¥–ª—è –ê—Ä–∫—Ç–∏–∫–∏</p>
    <div class="cta-buttons">
        <button type="button" class="cta-btn primary" onclick="alert('–ö–æ–Ω—Ç–∞–∫—Ç: arctic.index@example.com')">–°–≤—è–∑–∞—Ç—å—Å—è —Å –Ω–∞–º–∏</button>
        <button type="button" class="cta-btn secondary" onclick="alert('GitHub: github.com/arctic-index')">–ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –∫–æ–¥</button>
    </div>
</section>

<div class="section-nav">
    <button type="button" class="nav-btn" onclick="switchTab('dashboard')">‚Üê –ö –¥–∞—à–±–æ—Ä–¥—É</button>
</div>

</div>
<!-- –ö–û–ù–ï–¶ –í–ö–õ–ê–î–ö–ò 3: –ú–ï–¢–û–î–û–õ–û–ì–ò–Ø -->

<script>
// ============================================================================
// –î–ê–ù–ù–´–ï
// ============================================================================

let allData = [{"settlement_id":43,"settlement_name":"–ø–≥—Ç –ù–∞–¥–≤–æ–∏—Ü—ã","settlement_type":"–ø–≥—Ç","region_name":"–†–µ—Å–ø—É–±–ª–∏–∫–∞ –ö–∞—Ä–µ–ª–∏—è","poad_score":0.6532,"market_score":1.0,"consumption_score":0.6579,"accessibility_score":0.4564,"climate_score":0.8872,"mobility_score":0.5,"ndi_score":0.7095,"ndi_10":7.09,"ndi_rank":1,"avg_hdd_yearly":5350.327272727272},{"settlement_id":31,"settlement_name":"–ø–≥—Ç –ë–∞—Ä—Å–æ–≤–æ","settlement_type":"–ø–≥—Ç","region_name":"–•–∞–Ω—Ç—ã-–ú–∞–Ω—Å–∏–π—Å–∫–∏–π –∞–≤—Ç–æ–Ω–æ–º–Ω—ã–π –æ–∫—Ä—É–≥ - –Æ–≥—Ä–∞","poad_score":1.0,"market_score":0.2325,"consumption_score":0.375,"accessibility_score":0.9921,"climate_score":0.6276,"mobility_score":0.5,"ndi_score":0.6893,"ndi_10":6.89,"ndi_rank":2,"avg_hdd_yearly":6885.2},{"settlement_id":19,"settlement_name":"–ø–æ—Å—ë–ª–æ–∫ –°–æ–ª–Ω–µ—á–Ω—ã–π","settlement_type":"–ø–æ—Å–µ–ª–æ–∫","region_name":"–•–∞–Ω—Ç—ã-–ú–∞–Ω—Å–∏–π—Å–∫–∏–π –∞–≤—Ç–æ–Ω–æ–º–Ω—ã–π –æ–∫—Ä—É–≥ - –Æ–≥—Ä–∞","poad_score":0.9717,"market_score":0.2216,"consumption_score":0.3266,"accessibility_score":1.0,"climate_score":0.6258,"mobility_score":0.5,"ndi_score":0.671,"ndi_10":6.71,"ndi_rank":3,"avg_hdd_yearly":6895.745454545455},{"settlement_id":15,"settlement_name":"–ø–≥—Ç –ë–µ–ª—ã–π –Ø—Ä","settlement_type":"–ø–≥—Ç","region_name":"–•–∞–Ω—Ç—ã-–ú–∞–Ω—Å–∏–π—Å–∫–∏–π –∞–≤—Ç–æ–Ω–æ–º–Ω—ã–π –æ–∫—Ä—É–≥ - –Æ–≥—Ä–∞","poad_score":0.8325,"market_score":0.1749,"consumption_score":0.5692,"accessibility_score":1.0,"climate_score":0.6327,"mobility_score":0.5,"ndi_score":0.65,"ndi_10":6.5,"ndi_rank":4,"avg_hdd_yearly":6855.018181818182},{"settlement_id":95,"settlement_name":"—Å–µ–ª–æ –Ø—Ä–µ–Ω—Å–∫","settlement_type":"—Å–µ–ª–æ","region_name":"–ê—Ä—Ö–∞–Ω–≥–µ–ª—å—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å","poad_score":0.8748,"market_score":0.1875,"consumption_score":0.4655,"accessibility_score":0.7977,"climate_score":0.8288,"mobility_score":0.5,"ndi_score":0.641,"ndi_10":6.41,"ndi_rank":5,"avg_hdd_yearly":5695.772727272727},{"settlement_id":14,"settlement_name":"—Å–µ–ª–æ –ë–æ–≥—É—á–∞–Ω—ã","settlement_type":"—Å–µ–ª–æ","region_name":"–ö—Ä–∞—Å–Ω–æ—è—Ä—Å–∫–∏–π –∫—Ä–∞–π","poad_score":0.6815,"market_score":0.2437,"consumption_score":0.6085,"accessibility_score":1.0,"climate_score":0.6951,"mobility_score":0.5,"ndi_score":0.6231,"ndi_10":6.23,"ndi_rank":6,"avg_hdd_yearly":6485.909090909091},{"settlement_id":125,"settlement_name":"–ø–≥—Ç –í–æ–π–≤–æ–∂","settlement_type":"–ø–≥—Ç","region_name":"–†–µ—Å–ø—É–±–ª–∏–∫–∞ –ö–æ–º–∏","poad_score":0.9266,"market_score":0.217,"consumption_score":0.4252,"accessibility_score":0.6072,"climate_score":0.7122,"mobility_score":0.5,"ndi_score":0.6188,"ndi_10":6.19,"ndi_rank":7,"avg_hdd_yearly":6384.854545454546},{"settlement_id":28,"settlement_name":"—Å–µ–ª–æ –Ø—Ä-–°–∞–ª–µ","settlement_type":"—Å–µ–ª–æ","region_name":"–Ø–º–∞–ª–æ-–ù–µ–Ω–µ—Ü–∫–∏–π –∞–≤—Ç–æ–Ω–æ–º–Ω—ã–π –æ–∫—Ä—É–≥","poad_score":0.9549,"market_score":0.1847,"consumption_score":0.3721,"accessibility_score":0.6736,"climate_score":0.4155,"mobility_score":0.5,"ndi_score":0.5946,"ndi_10":5.95,"ndi_rank":8,"avg_hdd_yearly":8139.072727272727},{"settlement_id":32,"settlement_name":"–ø–≥—Ç –ö–∞–ª–µ–≤–∞–ª–∞","settlement_type":"–ø–≥—Ç","region_name":"–†–µ—Å–ø—É–±–ª–∏–∫–∞ –ö–∞—Ä–µ–ª–∏—è","poad_score":0.9363,"market_score":0.1778,"consumption_score":0.4302,"accessibility_score":0.3476,"climate_score":0.8798,"mobility_score":0.5,"ndi_score":0.5929,"ndi_10":5.93,"ndi_rank":9,"avg_hdd_yearly":5393.936363636363},{"settlement_id":71,"settlement_name":"–ø–æ—Å—ë–ª–æ–∫ –°–∏–Ω–≥–∞–ø–∞–π","settlement_type":"–ø–æ—Å–µ–ª–æ–∫","region_name":"–•–∞–Ω—Ç—ã-–ú–∞–Ω—Å–∏–π—Å–∫–∏–π –∞–≤—Ç–æ–Ω–æ–º–Ω—ã–π –æ–∫—Ä—É–≥ - –Æ–≥—Ä–∞","poad_score":0.6671,"market_score":0.2358,"consumption_score":0.4061,"accessibility_score":0.9282,"climate_score":0.6466,"mobility_score":0.5,"ndi_score":0.5705,"ndi_10":5.7,"ndi_rank":10,"avg_hdd_yearly":6772.645454545454},{"settlement_id":107,"settlement_name":"–ø–≥—Ç –ü–æ–π–∫–æ–≤—Å–∫–∏–π","settlement_type":"–ø–≥—Ç","region_name":"–•–∞–Ω—Ç—ã-–ú–∞–Ω—Å–∏–π—Å–∫–∏–π –∞–≤—Ç–æ–Ω–æ–º–Ω—ã–π –æ–∫—Ä—É–≥ - –Æ–≥—Ä–∞","poad_score":0.6377,"market_score":0.2015,"consumption_score":0.4061,"accessibility_score":1.0,"climate_score":0.6758,"mobility_score":0.5,"ndi_score":0.567,"ndi_10":5.67,"ndi_rank":11,"avg_hdd_yearly":6600.527272727273},{"settlement_id":60,"settlement_name":"–ø–æ—Å—ë–ª–æ–∫ –°–∞–ª—ã–º","settlement_type":"–ø–æ—Å–µ–ª–æ–∫","region_name":"–•–∞–Ω—Ç—ã-–ú–∞–Ω—Å–∏–π—Å–∫–∏–π –∞–≤—Ç–æ–Ω–æ–º–Ω—ã–π –æ–∫—Ä—É–≥ - –Æ–≥—Ä–∞","poad_score":0.6615,"market_score":0.253,"consumption_score":0.4565,"accessibility_score":0.7991,"climate_score":0.7069,"mobility_score":0.5,"ndi_score":0.5661,"ndi_10":5.66,"ndi_rank":12,"avg_hdd_yearly":6416.618181818182},{"settlement_id":21,"settlement_name":"–ø–æ—Å—ë–ª–æ–∫ –ù–∏–∂–Ω–µ—Å–æ—Ä—Ç—ã–º—Å–∫–∏–π","settlement_type":"–ø–æ—Å–µ–ª–æ–∫","region_name":"–•–∞–Ω—Ç—ã-–ú–∞–Ω—Å–∏–π—Å–∫–∏–π –∞–≤—Ç–æ–Ω–æ–º–Ω—ã–π –æ–∫—Ä—É–≥ - –Æ–≥—Ä–∞","poad_score":0.6462,"market_score":0.2187,"consumption_score":0.3664,"accessibility_score":1.0,"climate_score":0.5898,"mobility_score":0.5,"ndi_score":0.5589,"ndi_10":5.59,"ndi_rank":13,"avg_hdd_yearly":7108.590909090909},{"settlement_id":126,"settlement_name":"–ø–≥—Ç –ú–æ—Ä—Ç–∫–∞","settlement_type":"–ø–≥—Ç","region_name":"–•–∞–Ω—Ç—ã-–ú–∞–Ω—Å–∏–π—Å–∫–∏–π –∞–≤—Ç–æ–Ω–æ–º–Ω—ã–π –æ–∫—Ä—É–≥ - –Æ–≥—Ä–∞","poad_score":0.5771,"market_score":0.207,"consumption_score":0.4588,"accessibility_score":0.9371,"climate_score":0.7617,"mobility_score":0.5,"ndi_score":0.554,"ndi_10":5.54,"ndi_rank":14,"avg_hdd_yearly":6092.581818181819},{"settlement_id":117,"settlement_name":"–ø–≥—Ç –ö–æ–Ω–¥–∏–Ω—Å–∫–æ–µ","settlement_type":"–ø–≥—Ç","region_name":"–•–∞–Ω—Ç—ã-–ú–∞–Ω—Å–∏–π—Å–∫–∏–π –∞–≤—Ç–æ–Ω–æ–º–Ω—ã–π –æ–∫—Ä—É–≥ - –Æ–≥—Ä–∞","poad_score":0.6547,"market_score":0.2113,"consumption_score":0.3828,"accessibility_score":0.8311,"climate_score":0.7513,"mobility_score":0.5,"ndi_score":0.5536,"ndi_10":5.54,"ndi_rank":15,"avg_hdd_yearly":6153.918181818181},{"settlement_id":97,"settlement_name":"–ø–æ—Å–µ–ª–æ–∫ –¢–∞–∑–æ–≤—Å–∫–∏–π","settlement_type":"–ø–æ—Å–µ–ª–æ–∫","region_name":"–Ø–º–∞–ª–æ-–ù–µ–Ω–µ—Ü–∫–∏–π –∞–≤—Ç–æ–Ω–æ–º–Ω—ã–π –æ–∫—Ä—É–≥","poad_score":0.9053,"market_score":0.0155,"consumption_score":0.5025,"accessibility_score":0.6079,"climate_score":0.3266,"mobility_score":0.5,"ndi_score":0.5442,"ndi_10":5.44,"ndi_rank":16,"avg_hdd_yearly":8664.936363636363},{"settlement_id":121,"settlement_name":"–ø–≥—Ç –ù–æ–≤–æ–∞–≥–∞–Ω—Å–∫","settlement_type":"–ø–≥—Ç","region_name":"–•–∞–Ω—Ç—ã-–ú–∞–Ω—Å–∏–π—Å–∫–∏–π –∞–≤—Ç–æ–Ω–æ–º–Ω—ã–π –æ–∫—Ä—É–≥ - –Æ–≥—Ä–∞","poad_score":0.6845,"market_score":0.2199,"consumption_score":0.3759,"accessibility_score":0.7908,"climate_score":0.5986,"mobility_score":0.5,"ndi_score":0.5434,"ndi_10":5.43,"ndi_rank":17,"avg_hdd_yearly":7056.754545454545},{"settlement_id":4,"settlement_name":"–ø–≥—Ç –•–∞—Ä–ø","settlement_type":"–ø–≥—Ç","region_name":"–Ø–º–∞–ª–æ-–ù–µ–Ω–µ—Ü–∫–∏–π –∞–≤—Ç–æ–Ω–æ–º–Ω—ã–π –æ–∫—Ä—É–≥","poad_score":0.7178,"market_score":0.2148,"consumption_score":0.6325,"accessibility_score":0.487,"climate_score":0.4526,"mobility_score":0.5,"ndi_score":0.5324,"ndi_10":5.32,"ndi_rank":18,"avg_hdd_yearly":7919.863636363636},{"settlement_id":96,"settlement_name":"–ø–≥—Ç –ò–≥—Ä–∏–º","settlement_type":"–ø–≥—Ç","region_name":"–•–∞–Ω—Ç—ã-–ú–∞–Ω—Å–∏–π—Å–∫–∏–π –∞–≤—Ç–æ–Ω–æ–º–Ω—ã–π –æ–∫—Ä—É–≥ - –Æ–≥—Ä–∞","poad_score":0.7058,"market_score":0.2608,"consumption_score":0.4061,"accessibility_score":0.5014,"climate_score":0.6352,"mobility_score":0.5,"ndi_score":0.5238,"ndi_10":5.24,"ndi_rank":19,"avg_hdd_yearly":6840.354545454546},{"settlement_id":34,"settlement_name":"–ø–≥—Ç –ú–µ–∂–¥—É—Ä–µ—á–µ–Ω—Å–∫–∏–π","settlement_type":"–ø–≥—Ç","region_name":"–•–∞–Ω—Ç—ã-–ú–∞–Ω—Å–∏–π—Å–∫–∏–π –∞–≤—Ç–æ–Ω–æ–º–Ω—ã–π –æ–∫—Ä—É–≥ - –Æ–≥—Ä–∞","poad_score":0.4923,"market_score":0.219,"consumption_score":0.3779,"accessibility_score":1.0,"climate_score":0.7599,"mobility_score":0.5,"ndi_score":0.5238,"ndi_10":5.24,"ndi_rank":20,"avg_hdd_yearly":6103.272727272727},{"settlement_id":18,"settlement_name":"–ø–≥—Ç –§–µ–¥–æ—Ä–æ–≤—Å–∫–∏–π","settlement_type":"–ø–≥—Ç","region_name":"–•–∞–Ω—Ç—ã-–ú–∞–Ω—Å–∏–π—Å–∫–∏–π –∞–≤—Ç–æ–Ω–æ–º–Ω—ã–π –æ–∫—Ä—É–≥ - –Æ–≥—Ä–∞","poad_score":0.5292,"market_score":0.2148,"consumption_score":0.3863,"accessibility_score":1.0,"climate_score":0.621,"mobility_score":0.5,"ndi_score":0.5232,"ndi_10":5.23,"ndi_rank":21,"avg_hdd_yearly":6924.390909090909},{"settlement_id":47,"settlement_name":"–ø–≥—Ç –ü–∞–Ω–≥–æ–¥—ã","settlement_type":"–ø–≥—Ç","region_name":"–Ø–º–∞–ª–æ-–ù–µ–Ω–µ—Ü–∫–∏–π –∞–≤—Ç–æ–Ω–æ–º–Ω—ã–π –æ–∫—Ä—É–≥","poad_score":0.6415,"market_score":0.0129,"consumption_score":0.5025,"accessibility_score":1.0,"climate_score":0.4045,"mobility_score":0.5,"ndi_score":0.5179,"ndi_10":5.18,"ndi_rank":22,"avg_hdd_yearly":8204.627272727274},{"settlement_id":64,"settlement_name":"–ø–≥—Ç –£–º–±–∞","settlement_type":"–ø–≥—Ç","region_name":"–ú—É—Ä–º–∞–Ω—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å","poad_score":0.6964,"market_score":0.2187,"consumption_score":0.4651,"accessibility_score":0.3294,"climate_score":0.8497,"mobility_score":0.5,"ndi_score":0.5166,"ndi_10":5.17,"ndi_rank":23,"avg_hdd_yearly":5571.836363636364},{"settlement_id":12,"settlement_name":"–ø–≥—Ç –ë–µ—Ä–µ–∑–æ–≤–æ","settlement_type":"–ø–≥—Ç","region_name":"–•–∞–Ω—Ç—ã-–ú–∞–Ω—Å–∏–π—Å–∫–∏–π –∞–≤—Ç–æ–Ω–æ–º–Ω—ã–π –æ–∫—Ä—É–≥ - –Æ–≥—Ä–∞","poad_score":0.7191,"market_score":0.1925,"consumption_score":0.4061,"accessibility_score":0.506,"climate_score":0.5782,"mobility_score":0.5,"ndi_score":0.5098,"ndi_10":5.1,"ndi_rank":24,"avg_hdd_yearly":7177.081818181819},{"settlement_id":124,"settlement_name":"–ø–≥—Ç –ö–æ–º–º—É–Ω–∏—Å—Ç–∏—á–µ—Å–∫–∏–π","settlement_type":"–ø–≥—Ç","region_name":"–•–∞–Ω—Ç—ã-–ú–∞–Ω—Å–∏–π—Å–∫–∏–π –∞–≤—Ç–æ–Ω–æ–º–Ω—ã–π –æ–∫—Ä—É–≥ - –Æ–≥—Ä–∞","poad_score":0.6164,"market_score":0.2037,"consumption_score":0.4061,"accessibility_score":0.6212,"climate_score":0.6727,"mobility_score":0.5,"ndi_score":0.5028,"ndi_10":5.03,"ndi_rank":25,"avg_hdd_yearly":6618.763636363637},{"settlement_id":17,"settlement_name":"—Å–µ–ª–æ –í—ã–ª—å–≥–æ—Ä—Ç","settlement_type":"—Å–µ–ª–æ","region_name":"–†–µ—Å–ø—É–±–ª–∏–∫–∞ –ö–æ–º–∏","poad_score":0.3801,"market_score":0.2137,"consumption_score":0.4169,"accessibility_score":1.0,"climate_score":0.8185,"mobility_score":0.5,"ndi_score":0.4952,"ndi_10":4.95,"ndi_rank":26,"avg_hdd_yearly":5756.354545454546},{"settlement_id":110,"settlement_name":"–ø–æ—Å—ë–ª–æ–∫ –ì–æ—Ä–Ω–æ–ø—Ä–∞–≤–¥–∏–Ω—Å–∫","settlement_type":"–ø–æ—Å–µ–ª–æ–∫","region_name":"–•–∞–Ω—Ç—ã-–ú–∞–Ω—Å–∏–π—Å–∫–∏–π –∞–≤—Ç–æ–Ω–æ–º–Ω—ã–π –æ–∫—Ä—É–≥ - –Æ–≥—Ä–∞","poad_score":0.4786,"market_score":0.2663,"consumption_score":0.4445,"accessibility_score":0.7343,"climate_score":0.7098,"mobility_score":0.5,"ndi_score":0.4936,"ndi_10":4.94,"ndi_rank":27,"avg_hdd_yearly":6399.381818181818},{"settlement_id":99,"settlement_name":"—Ä–ø –£—Ä–¥–æ–º–∞","settlement_type":"—Ä–ø","region_name":"–ê—Ä—Ö–∞–Ω–≥–µ–ª—å—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å","poad_score":0.4535,"market_score":0.1875,"consumption_score":0.4655,"accessibility_score":0.7801,"climate_score":0.8397,"mobility_score":0.5,"ndi_score":0.4921,"ndi_10":4.92,"ndi_rank":28,"avg_hdd_yearly":5630.881818181818},{"settlement_id":36,"settlement_name":"—Ä–ø –û–∫—Ç—è–±—Ä—å—Å–∫–∏–π","settlement_type":"—Ä–ø","region_name":"–ê—Ä—Ö–∞–Ω–≥–µ–ª—å—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å","poad_score":0.4389,"market_score":0.2261,"consumption_score":0.4233,"accessibility_score":0.7238,"climate_score":0.8971,"mobility_score":0.5,"ndi_score":0.4856,"ndi_10":4.86,"ndi_rank":29,"avg_hdd_yearly":5291.6},{"settlement_id":123,"settlement_name":"–ø–≥—Ç –¢–∞–µ–∂–Ω—ã–π","settlement_type":"–ø–≥—Ç","region_name":"–•–∞–Ω—Ç—ã-–ú–∞–Ω—Å–∏–π—Å–∫–∏–π –∞–≤—Ç–æ–Ω–æ–º–Ω—ã–π –æ–∫—Ä—É–≥ - –Æ–≥—Ä–∞","poad_score":0.5545,"market_score":0.2041,"consumption_score":0.41,"accessibility_score":0.6175,"climate_score":0.7103,"mobility_score":0.5,"ndi_score":0.485,"ndi_10":4.85,"ndi_rank":30,"avg_hdd_yearly":6396.363636363636},{"settlement_id":40,"settlement_name":"–ø–æ—Å—ë–ª–æ–∫ –ë–µ—Ä–µ–∑–Ω–∏–∫","settlement_type":"–ø–æ—Å–µ–ª–æ–∫","region_name":"–ê—Ä—Ö–∞–Ω–≥–µ–ª—å—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å","poad_score":0.4881,"market_score":0.2135,"consumption_score":0.4177,"accessibility_score":0.6211,"climate_score":0.8689,"mobility_score":0.5,"ndi_score":0.4812,"ndi_10":4.81,"ndi_rank":31,"avg_hdd_yearly":5458.618181818182},{"settlement_id":92,"settlement_name":"–ø–≥—Ç –ó–µ–ª–µ–Ω–æ–±–æ—Ä—Å–∫–∏–π","settlement_type":"–ø–≥—Ç","region_name":"–ú—É—Ä–º–∞–Ω—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å","poad_score":0.6239,"market_score":0.1473,"consumption_score":0.5146,"accessibility_score":0.3066,"climate_score":0.8264,"mobility_score":0.5,"ndi_score":0.4787,"ndi_10":4.79,"ndi_rank":32,"avg_hdd_yearly":5710.0},{"settlement_id":5,"settlement_name":"—Å–µ–ª–æ –ö–∞—Ä–ø–æ–≥–æ—Ä—ã","settlement_type":"—Å–µ–ª–æ","region_name":"–ê—Ä—Ö–∞–Ω–≥–µ–ª—å—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å","poad_score":0.5355,"market_score":0.0723,"consumption_score":0.644,"accessibility_score":0.4887,"climate_score":0.8176,"mobility_score":0.5,"ndi_score":0.4785,"ndi_10":4.79,"ndi_rank":33,"avg_hdd_yearly":5761.954545454545},{"settlement_id":100,"settlement_name":"–ø–≥—Ç –ê–≥–∏—Ä–∏—à","settlement_type":"–ø–≥—Ç","region_name":"–•–∞–Ω—Ç—ã-–ú–∞–Ω—Å–∏–π—Å–∫–∏–π –∞–≤—Ç–æ–Ω–æ–º–Ω—ã–π –æ–∫—Ä—É–≥ - –Æ–≥—Ä–∞","poad_score":0.5582,"market_score":0.2275,"consumption_score":0.4061,"accessibility_score":0.565,"climate_score":0.666,"mobility_score":0.5,"ndi_score":0.4781,"ndi_10":4.78,"ndi_rank":34,"avg_hdd_yearly":6658.345454545454},{"settlement_id":66,"settlement_name":"—Ä–ø –ö–æ–Ω–æ—à–∞","settlement_type":"—Ä–ø","region_name":"–ê—Ä—Ö–∞–Ω–≥–µ–ª—å—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å","poad_score":0.3398,"market_score":0.129,"consumption_score":0.4655,"accessibility_score":1.0,"climate_score":0.87,"mobility_score":0.5,"ndi_score":0.4765,"ndi_10":4.77,"ndi_rank":35,"avg_hdd_yearly":5452.109090909091},{"settlement_id":79,"settlement_name":"—Å–µ–ª–æ –£—Å—Ç—å-–ö—É–ª–æ–º","settlement_type":"—Å–µ–ª–æ","region_name":"–†–µ—Å–ø—É–±–ª–∏–∫–∞ –ö–æ–º–∏","poad_score":0.496,"market_score":0.1406,"consumption_score":0.413,"accessibility_score":0.7283,"climate_score":0.7855,"mobility_score":0.5,"ndi_score":0.4765,"ndi_10":4.76,"ndi_rank":36,"avg_hdd_yearly":5951.372727272727},{"settlement_id":98,"settlement_name":"–ø–≥—Ç –¢–∞–ª–∏–Ω–∫–∞","settlement_type":"–ø–≥—Ç","region_name":"–•–∞–Ω—Ç—ã-–ú–∞–Ω—Å–∏–π—Å–∫–∏–π –∞–≤—Ç–æ–Ω–æ–º–Ω—ã–π –æ–∫—Ä—É–≥ - –Æ–≥—Ä–∞","poad_score":0.4582,"market_score":0.3177,"consumption_score":0.4061,"accessibility_score":0.6476,"climate_score":0.6891,"mobility_score":0.5,"ndi_score":0.4759,"ndi_10":4.76,"ndi_rank":37,"avg_hdd_yearly":6521.818181818182},{"settlement_id":83,"settlement_name":"–ø–≥—Ç –ú–∞–ª–∏–Ω–æ–≤—Å–∫–∏–π","settlement_type":"–ø–≥—Ç","region_name":"–•–∞–Ω—Ç—ã-–ú–∞–Ω—Å–∏–π—Å–∫–∏–π –∞–≤—Ç–æ–Ω–æ–º–Ω—ã–π –æ–∫—Ä—É–≥ - –Æ–≥—Ä–∞","poad_score":0.5114,"market_score":0.1773,"consumption_score":0.474,"accessibility_score":0.6198,"climate_score":0.7159,"mobility_score":0.5,"ndi_score":0.4751,"ndi_10":4.75,"ndi_rank":38,"avg_hdd_yearly":6363.2},{"settlement_id":86,"settlement_name":"—Å–µ–ª–æ –û–±—ä—è—á–µ–≤–æ","settlement_type":"—Å–µ–ª–æ","region_name":"–†–µ—Å–ø—É–±–ª–∏–∫–∞ –ö–æ–º–∏","poad_score":0.4737,"market_score":0.1299,"consumption_score":0.413,"accessibility_score":0.7258,"climate_score":0.8578,"mobility_score":0.5,"ndi_score":0.4734,"ndi_10":4.73,"ndi_rank":39,"avg_hdd_yearly":5524.209090909091},{"settlement_id":37,"settlement_name":"—Å–µ–ª–æ –•–æ–ª–º–æ–≥–æ—Ä—ã","settlement_type":"—Å–µ–ª–æ","region_name":"–ê—Ä—Ö–∞–Ω–≥–µ–ª—å—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å","poad_score":0.5296,"market_score":0.2006,"consumption_score":0.4086,"accessibility_score":0.5113,"climate_score":0.8488,"mobility_score":0.5,"ndi_score":0.4733,"ndi_10":4.73,"ndi_rank":40,"avg_hdd_yearly":5577.190909090909},{"settlement_id":104,"settlement_name":"–ø–≥—Ç –ü—Ä–æ–≤–∏–¥–µ–Ω–∏—è","settlement_type":"–ø–≥—Ç","region_name":"–ß—É–∫–æ—Ç—Å–∫–∏–π –∞–≤—Ç–æ–Ω–æ–º–Ω—ã–π –æ–∫—Ä—É–≥","poad_score":0.787,"market_score":0.2544,"consumption_score":0.4364,"accessibility_score":0.0,"climate_score":0.506,"mobility_score":0.5,"ndi_score":0.4674,"ndi_10":4.67,"ndi_rank":41,"avg_hdd_yearly":7604.436363636363},{"settlement_id":109,"settlement_name":"–ø–≥—Ç –ê–Ω–¥—Ä–∞","settlement_type":"–ø–≥—Ç","region_name":"–•–∞–Ω—Ç—ã-–ú–∞–Ω—Å–∏–π—Å–∫–∏–π –∞–≤—Ç–æ–Ω–æ–º–Ω—ã–π –æ–∫—Ä—É–≥ - –Æ–≥—Ä–∞","poad_score":0.5702,"market_score":0.1882,"consumption_score":0.3684,"accessibility_score":0.566,"climate_score":0.6475,"mobility_score":0.5,"ndi_score":0.4671,"ndi_10":4.67,"ndi_rank":42,"avg_hdd_yearly":6767.309090909091},{"settlement_id":76,"settlement_name":"—Å–µ–ª–æ –ö–æ—Ä—Ç–∫–µ—Ä–æ—Å","settlement_type":"—Å–µ–ª–æ","region_name":"–†–µ—Å–ø—É–±–ª–∏–∫–∞ –ö–æ–º–∏","poad_score":0.3868,"market_score":0.1409,"consumption_score":0.413,"accessibility_score":0.901,"climate_score":0.8124,"mobility_score":0.5,"ndi_score":0.4669,"ndi_10":4.67,"ndi_rank":43,"avg_hdd_yearly":5792.409090909091},{"settlement_id":127,"settlement_name":"–ø–≥—Ç –ó–µ–ª–µ–Ω–æ–±–æ—Ä—Å–∫","settlement_type":"–ø–≥—Ç","region_name":"–•–∞–Ω—Ç—ã-–ú–∞–Ω—Å–∏–π—Å–∫–∏–π –∞–≤—Ç–æ–Ω–æ–º–Ω—ã–π –æ–∫—Ä—É–≥ - –Æ–≥—Ä–∞","poad_score":0.5198,"market_score":0.1811,"consumption_score":0.3949,"accessibility_score":0.6342,"climate_score":0.69,"mobility_score":0.5,"ndi_score":0.4665,"ndi_10":4.67,"ndi_rank":44,"avg_hdd_yearly":6516.463636363636},{"settlement_id":87,"settlement_name":"–ø–≥—Ç –ö—Ä–∞—Å–Ω–æ–∑–∞—Ç–æ–Ω—Å–∫–∏–π","settlement_type":"–ø–≥—Ç","region_name":"–†–µ—Å–ø—É–±–ª–∏–∫–∞ –ö–æ–º–∏","poad_score":0.3363,"market_score":0.1585,"consumption_score":0.413,"accessibility_score":0.971,"climate_score":0.8242,"mobility_score":0.5,"ndi_score":0.4644,"ndi_10":4.64,"ndi_rank":45,"avg_hdd_yearly":5722.8},{"settlement_id":42,"settlement_name":"–ø–≥—Ç –ò–∑–ª—É—á–∏–Ω—Å–∫","settlement_type":"–ø–≥—Ç","region_name":"–•–∞–Ω—Ç—ã-–ú–∞–Ω—Å–∏–π—Å–∫–∏–π –∞–≤—Ç–æ–Ω–æ–º–Ω—ã–π –æ–∫—Ä—É–≥ - –Æ–≥—Ä–∞","poad_score":0.3529,"market_score":0.2151,"consumption_score":0.3992,"accessibility_score":1.0,"climate_score":0.6273,"mobility_score":0.5,"ndi_score":0.4641,"ndi_10":4.64,"ndi_rank":46,"avg_hdd_yearly":6887.263636363637},{"settlement_id":7,"settlement_name":"—Ä–ø –ö—É–ª–æ–π","settlement_type":"—Ä–ø","region_name":"–ê—Ä—Ö–∞–Ω–≥–µ–ª—å—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å","poad_score":0.3924,"market_score":0.0687,"consumption_score":0.5444,"accessibility_score":0.7761,"climate_score":0.8969,"mobility_score":0.5,"ndi_score":0.4639,"ndi_10":4.64,"ndi_rank":47,"avg_hdd_yearly":5293.072727272727},{"settlement_id":54,"settlement_name":"–ø–≥—Ç –ö–æ–∂–≤–∞","settlement_type":"–ø–≥—Ç","region_name":"–†–µ—Å–ø—É–±–ª–∏–∫–∞ –ö–æ–º–∏","poad_score":0.7048,"market_score":0.0007,"consumption_score":0.413,"accessibility_score":0.4259,"climate_score":0.6416,"mobility_score":0.5,"ndi_score":0.4618,"ndi_10":4.62,"ndi_rank":48,"avg_hdd_yearly":6802.409090909091},{"settlement_id":6,"settlement_name":"–ø–≥—Ç –°–∞—Ñ–æ–Ω–æ–≤–æ","settlement_type":"–ø–≥—Ç","region_name":"–ú—É—Ä–º–∞–Ω—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å","poad_score":0.5698,"market_score":0.0742,"consumption_score":0.6871,"accessibility_score":0.2443,"climate_score":0.79,"mobility_score":0.5,"ndi_score":0.458,"ndi_10":4.58,"ndi_rank":49,"avg_hdd_yearly":5924.890909090909},{"settlement_id":108,"settlement_name":"–ø–≥—Ç –í–µ—Ä—Ö–Ω—è—è –ú–∞–∫—Å–∞–∫–æ–≤–∫–∞","settlement_type":"–ø–≥—Ç","region_name":"–†–µ—Å–ø—É–±–ª–∏–∫–∞ –ö–æ–º–∏","poad_score":0.3055,"market_score":0.1585,"consumption_score":0.413,"accessibility_score":0.9758,"climate_score":0.8239,"mobility_score":0.5,"ndi_score":0.4543,"ndi_10":4.54,"ndi_rank":50,"avg_hdd_yearly":5724.745454545455},{"settlement_id":45,"settlement_name":"–ø–≥—Ç –ñ–µ—à–∞—Ä—Ç","settlement_type":"–ø–≥—Ç","region_name":"–†–µ—Å–ø—É–±–ª–∏–∫–∞ –ö–æ–º–∏","poad_score":0.3326,"market_score":0.2358,"consumption_score":0.3739,"accessibility_score":0.8408,"climate_score":0.8192,"mobility_score":0.5,"ndi_score":0.4527,"ndi_10":4.53,"ndi_rank":51,"avg_hdd_yearly":5752.1},{"settlement_id":85,"settlement_name":"–ø–≥—Ç –ü–∏–æ–Ω–µ—Ä—Å–∫–∏–π","settlement_type":"–ø–≥—Ç","region_name":"–•–∞–Ω—Ç—ã-–ú–∞–Ω—Å–∏–π—Å–∫–∏–π –∞–≤—Ç–æ–Ω–æ–º–Ω—ã–π –æ–∫—Ä—É–≥ - –Æ–≥—Ä–∞","poad_score":0.4837,"market_score":0.1516,"consumption_score":0.39,"accessibility_score":0.6216,"climate_score":0.7125,"mobility_score":0.5,"ndi_score":0.4476,"ndi_10":4.48,"ndi_rank":52,"avg_hdd_yearly":6382.990909090909},{"settlement_id":77,"settlement_name":"—Å–µ–ª–æ –ò–∂–º–∞","settlement_type":"—Å–µ–ª–æ","region_name":"–†–µ—Å–ø—É–±–ª–∏–∫–∞ –ö–æ–º–∏","poad_score":0.4908,"market_score":0.2287,"consumption_score":0.413,"accessibility_score":0.4829,"climate_score":0.7048,"mobility_score":0.5,"ndi_score":0.4474,"ndi_10":4.47,"ndi_rank":53,"avg_hdd_yearly":6428.918181818181},{"settlement_id":69,"settlement_name":"–ø–≥—Ç –í—ã—Å–æ–∫–∏–π","settlement_type":"–ø–≥—Ç","region_name":"–•–∞–Ω—Ç—ã-–ú–∞–Ω—Å–∏–π—Å–∫–∏–π –∞–≤—Ç–æ–Ω–æ–º–Ω—ã–π –æ–∫—Ä—É–≥ - –Æ–≥—Ä–∞","poad_score":0.3807,"market_score":0.1742,"consumption_score":0.383,"accessibility_score":0.8882,"climate_score":0.635,"mobility_score":0.5,"ndi_score":0.4473,"ndi_10":4.47,"ndi_rank":54,"avg_hdd_yearly":6841.636363636364},{"settlement_id":116,"settlement_name":"–ø–≥—Ç –õ—É–≥–æ–≤–æ–π","settlement_type":"–ø–≥—Ç","region_name":"–•–∞–Ω—Ç—ã-–ú–∞–Ω—Å–∏–π—Å–∫–∏–π –∞–≤—Ç–æ–Ω–æ–º–Ω—ã–π –æ–∫—Ä—É–≥ - –Æ–≥—Ä–∞","poad_score":0.2824,"market_score":0.2047,"consumption_score":0.4061,"accessibility_score":0.9662,"climate_score":0.7634,"mobility_score":0.5,"ndi_score":0.447,"ndi_10":4.47,"ndi_rank":55,"avg_hdd_yearly":6082.372727272727},{"settlement_id":114,"settlement_name":"–ø–≥—Ç –û–∫—Ç—è–±—Ä—å—Å–∫–æ–µ","settlement_type":"–ø–≥—Ç","region_name":"–•–∞–Ω—Ç—ã-–ú–∞–Ω—Å–∏–π—Å–∫–∏–π –∞–≤—Ç–æ–Ω–æ–º–Ω—ã–π –æ–∫—Ä—É–≥ - –Æ–≥—Ä–∞","poad_score":0.4827,"market_score":0.197,"consumption_score":0.4112,"accessibility_score":0.5734,"climate_score":0.6494,"mobility_score":0.5,"ndi_score":0.446,"ndi_10":4.46,"ndi_rank":56,"avg_hdd_yearly":6756.145454545454},{"settlement_id":112,"settlement_name":"–°–µ–≤–µ—Ä–æ-–ï–Ω–∏—Å–µ–π—Å–∫–∏–π –≥–ø","settlement_type":"–ø–≥—Ç","region_name":"–ö—Ä–∞—Å–Ω–æ—è—Ä—Å–∫–∏–π –∫—Ä–∞–π","poad_score":0.557,"market_score":0.1899,"consumption_score":0.3665,"accessibility_score":0.5383,"climate_score":0.5128,"mobility_score":0.5,"ndi_score":0.4449,"ndi_10":4.45,"ndi_rank":57,"avg_hdd_yearly":7563.936363636363},{"settlement_id":56,"settlement_name":"–ø–≥—Ç –ë–ª–∞–≥–æ–µ–≤–æ","settlement_type":"–ø–≥—Ç","region_name":"–†–µ—Å–ø—É–±–ª–∏–∫–∞ –ö–æ–º–∏","poad_score":0.5223,"market_score":0.0088,"consumption_score":0.413,"accessibility_score":0.6201,"climate_score":0.798,"mobility_score":0.5,"ndi_score":0.4443,"ndi_10":4.44,"ndi_rank":58,"avg_hdd_yearly":5877.781818181818},{"settlement_id":55,"settlement_name":"—Å–µ–ª–æ –í–∏–∑–∏–Ω–≥–∞","settlement_type":"—Å–µ–ª–æ","region_name":"–†–µ—Å–ø—É–±–ª–∏–∫–∞ –ö–æ–º–∏","poad_score":0.4138,"market_score":0.0,"consumption_score":0.413,"accessibility_score":0.8571,"climate_score":0.8374,"mobility_score":0.5,"ndi_score":0.4441,"ndi_10":4.44,"ndi_rank":59,"avg_hdd_yearly":5644.572727272727},{"settlement_id":2,"settlement_name":"—Å–µ–ª–æ –ü—Ä–∏–≥–æ—Ä–æ–¥–Ω—ã–π","settlement_type":"—Å–µ–ª–æ","region_name":"–†–µ—Å–ø—É–±–ª–∏–∫–∞ –°–∞—Ö–∞ (–Ø–∫—É—Ç–∏—è)","poad_score":0.7048,"market_score":0.2122,"consumption_score":0.4716,"accessibility_score":0.2359,"climate_score":0.2351,"mobility_score":0.5,"ndi_score":0.4438,"ndi_10":4.44,"ndi_rank":60,"avg_hdd_yearly":9205.872727272726},{"settlement_id":115,"settlement_name":"—Å–µ–ª–æ –ê–π–∫–∏–Ω–æ","settlement_type":"—Å–µ–ª–æ","region_name":"–†–µ—Å–ø—É–±–ª–∏–∫–∞ –ö–æ–º–∏","poad_score":0.3128,"market_score":0.174,"consumption_score":0.4401,"accessibility_score":0.8453,"climate_score":0.8041,"mobility_score":0.5,"ndi_score":0.4425,"ndi_10":4.42,"ndi_rank":61,"avg_hdd_yearly":5841.845454545454},{"settlement_id":88,"settlement_name":"—Ä–ø –®–∏–ø–∏—Ü—ã–Ω–æ","settlement_type":"—Ä–ø","region_name":"–ê—Ä—Ö–∞–Ω–≥–µ–ª—å—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å","poad_score":0.3771,"market_score":0.1371,"consumption_score":0.4655,"accessibility_score":0.6386,"climate_score":0.8829,"mobility_score":0.5,"ndi_score":0.4383,"ndi_10":4.38,"ndi_rank":62,"avg_hdd_yearly":5375.445454545455},{"settlement_id":111,"settlement_name":"–ø–æ—Å–µ–ª–æ–∫ –•–∞–Ω—ã–º–µ–π","settlement_type":"–ø–æ—Å–µ–ª–æ–∫","region_name":"–Ø–º–∞–ª–æ-–ù–µ–Ω–µ—Ü–∫–∏–π –∞–≤—Ç–æ–Ω–æ–º–Ω—ã–π –æ–∫—Ä—É–≥","poad_score":0.4552,"market_score":0.2223,"consumption_score":0.4289,"accessibility_score":0.6194,"climate_score":0.5065,"mobility_score":0.5,"ndi_score":0.4367,"ndi_10":4.37,"ndi_rank":63,"avg_hdd_yearly":7601.590909090909},{"settlement_id":105,"settlement_name":"–ø–≥—Ç –ü–æ–≤–µ–Ω–µ—Ü","settlement_type":"–ø–≥—Ç","region_name":"–†–µ—Å–ø—É–±–ª–∏–∫–∞ –ö–∞—Ä–µ–ª–∏—è","poad_score":0.34,"market_score":0.2397,"consumption_score":0.481,"accessibility_score":0.524,"climate_score":0.9284,"mobility_score":0.5,"ndi_score":0.4355,"ndi_10":4.36,"ndi_rank":64,"avg_hdd_yearly":5106.863636363636},{"settlement_id":91,"settlement_name":"–ø–≥—Ç –°–∏–Ω–¥–æ—Ä","settlement_type":"–ø–≥—Ç","region_name":"–†–µ—Å–ø—É–±–ª–∏–∫–∞ –ö–æ–º–∏","poad_score":0.3866,"market_score":0.1316,"consumption_score":0.413,"accessibility_score":0.7353,"climate_score":0.7596,"mobility_score":0.5,"ndi_score":0.4348,"ndi_10":4.35,"ndi_rank":65,"avg_hdd_yearly":6104.963636363636},{"settlement_id":113,"settlement_name":"–ø–≥—Ç –í–µ—Ä—Ö–Ω–µ—Ç—É–ª–æ–º—Å–∫–∏–π","settlement_type":"–ø–≥—Ç","region_name":"–ú—É—Ä–º–∞–Ω—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å","poad_score":0.5575,"market_score":0.1908,"consumption_score":0.3917,"accessibility_score":0.2494,"climate_score":0.7789,"mobility_score":0.5,"ndi_score":0.4323,"ndi_10":4.32,"ndi_rank":66,"avg_hdd_yearly":5990.909090909091},{"settlement_id":1,"settlement_name":"–ø–≥—Ç –£—Ä–µ–Ω–≥–æ–π","settlement_type":"–ø–≥—Ç","region_name":"–Ø–º–∞–ª–æ-–ù–µ–Ω–µ—Ü–∫–∏–π –∞–≤—Ç–æ–Ω–æ–º–Ω—ã–π –æ–∫—Ä—É–≥","poad_score":0.4369,"market_score":0.2223,"consumption_score":0.4289,"accessibility_score":0.6997,"climate_score":0.3961,"mobility_score":0.5,"ndi_score":0.4313,"ndi_10":4.31,"ndi_rank":67,"avg_hdd_yearly":8254.181818181818},{"settlement_id":103,"settlement_name":"—Å–µ–ª–æ –ê–∫—Å–∞—Ä–∫–∞","settlement_type":"—Å–µ–ª–æ","region_name":"–Ø–º–∞–ª–æ-–ù–µ–Ω–µ—Ü–∫–∏–π –∞–≤—Ç–æ–Ω–æ–º–Ω—ã–π –æ–∫—Ä—É–≥","poad_score":0.4524,"market_score":0.1882,"consumption_score":0.5415,"accessibility_score":0.5593,"climate_score":0.4343,"mobility_score":0.5,"ndi_score":0.4295,"ndi_10":4.3,"ndi_rank":68,"avg_hdd_yearly":8027.990909090909},{"settlement_id":25,"settlement_name":"–ø–æ—Å—ë–ª–æ–∫ –£–Ω—ä—é–≥–∞–Ω","settlement_type":"–ø–æ—Å–µ–ª–æ–∫","region_name":"–•–∞–Ω—Ç—ã-–ú–∞–Ω—Å–∏–π—Å–∫–∏–π –∞–≤—Ç–æ–Ω–æ–º–Ω—ã–π –æ–∫—Ä—É–≥ - –Æ–≥—Ä–∞","poad_score":0.3983,"market_score":0.231,"consumption_score":0.4073,"accessibility_score":0.5981,"climate_score":0.666,"mobility_score":0.5,"ndi_score":0.428,"ndi_10":4.28,"ndi_rank":69,"avg_hdd_yearly":6658.045454545455},{"settlement_id":30,"settlement_name":"—Å–µ–ª–æ –õ–µ—à—É–∫–æ–Ω—Å–∫–æ–µ","settlement_type":"—Å–µ–ª–æ","region_name":"–ê—Ä—Ö–∞–Ω–≥–µ–ª—å—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å","poad_score":0.3758,"market_score":0.2339,"consumption_score":0.506,"accessibility_score":0.4602,"climate_score":0.7774,"mobility_score":0.5,"ndi_score":0.426,"ndi_10":4.26,"ndi_rank":70,"avg_hdd_yearly":5999.272727272727},{"settlement_id":118,"settlement_name":"–ø–≥—Ç –ó–∞–ø–æ–ª—è—Ä–Ω—ã–π","settlement_type":"–ø–≥—Ç","region_name":"–Ø–º–∞–ª–æ-–ù–µ–Ω–µ—Ü–∫–∏–π –∞–≤—Ç–æ–Ω–æ–º–Ω—ã–π –æ–∫—Ä—É–≥","poad_score":0.4419,"market_score":0.0129,"consumption_score":0.5025,"accessibility_score":0.8546,"climate_score":0.3984,"mobility_score":0.5,"ndi_score":0.4256,"ndi_10":4.26,"ndi_rank":71,"avg_hdd_yearly":8240.40909090909},{"settlement_id":70,"settlement_name":"–ø–≥—Ç –£—Å–æ–≥–æ—Ä—Å–∫","settlement_type":"–ø–≥—Ç","region_name":"–†–µ—Å–ø—É–±–ª–∏–∫–∞ –ö–æ–º–∏","poad_score":0.3794,"market_score":0.1545,"consumption_score":0.413,"accessibility_score":0.6408,"climate_score":0.7888,"mobility_score":0.5,"ndi_score":0.4256,"ndi_10":4.26,"ndi_rank":72,"avg_hdd_yearly":5932.190909090909},{"settlement_id":90,"settlement_name":"–ø–≥—Ç –ú–µ–∂–¥—É—Ä–µ—á–µ–Ω—Å–∫","settlement_type":"–ø–≥—Ç","region_name":"–†–µ—Å–ø—É–±–ª–∏–∫–∞ –ö–æ–º–∏","poad_score":0.3656,"market_score":0.1554,"consumption_score":0.413,"accessibility_score":0.659,"climate_score":0.7818,"mobility_score":0.5,"ndi_score":0.423,"ndi_10":4.23,"ndi_rank":73,"avg_hdd_yearly":5973.254545454545},{"settlement_id":41,"settlement_name":"—Å–µ–ª–æ –£—Å—Ç—å-–¶–∏–ª—å–º–∞","settlement_type":"—Å–µ–ª–æ","region_name":"–†–µ—Å–ø—É–±–ª–∏–∫–∞ –ö–æ–º–∏","poad_score":0.4718,"market_score":0.2142,"consumption_score":0.3247,"accessibility_score":0.4678,"climate_score":0.708,"mobility_score":0.5,"ndi_score":0.4226,"ndi_10":4.23,"ndi_rank":74,"avg_hdd_yearly":6409.6},{"settlement_id":44,"settlement_name":"–ø–≥—Ç –ê–π—Ö–∞–ª","settlement_type":"–ø–≥—Ç","region_name":"–†–µ—Å–ø—É–±–ª–∏–∫–∞ –°–∞—Ö–∞ (–Ø–∫—É—Ç–∏—è)","poad_score":0.3959,"market_score":0.2099,"consumption_score":0.3431,"accessibility_score":1.0,"climate_score":0.1386,"mobility_score":0.5,"ndi_score":0.4209,"ndi_10":4.21,"ndi_rank":75,"avg_hdd_yearly":9776.690909090908},{"settlement_id":27,"settlement_name":"–ø–æ—Å—ë–ª–æ–∫ –ö–∞—Ç—É–Ω–∏–Ω–æ","settlement_type":"–ø–æ—Å–µ–ª–æ–∫","region_name":"–ê—Ä—Ö–∞–Ω–≥–µ–ª—å—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å","poad_score":0.3663,"market_score":0.2346,"consumption_score":0.4018,"accessibility_score":0.5026,"climate_score":0.8505,"mobility_score":0.5,"ndi_score":0.4208,"ndi_10":4.21,"ndi_rank":76,"avg_hdd_yearly":5567.345454545454},{"settlement_id":52,"settlement_name":"–ø–≥—Ç –•–µ–ª—é–ª—è","settlement_type":"–ø–≥—Ç","region_name":"–†–µ—Å–ø—É–±–ª–∏–∫–∞ –ö–∞—Ä–µ–ª–∏—è","poad_score":0.4431,"market_score":0.0195,"consumption_score":0.481,"accessibility_score":0.4143,"climate_score":1.0,"mobility_score":0.5,"ndi_score":0.4183,"ndi_10":4.18,"ndi_rank":77,"avg_hdd_yearly":4683.345454545454},{"settlement_id":10,"settlement_name":"–ø–≥—Ç –í–æ–¥–Ω—ã–π","settlement_type":"–ø–≥—Ç","region_name":"–†–µ—Å–ø—É–±–ª–∏–∫–∞ –ö–æ–º–∏","poad_score":0.4059,"market_score":0.0645,"consumption_score":0.4666,"accessibility_score":0.6172,"climate_score":0.7445,"mobility_score":0.5,"ndi_score":0.417,"ndi_10":4.17,"ndi_rank":78,"avg_hdd_yearly":6194.190909090909},{"settlement_id":73,"settlement_name":"–ø–≥—Ç –¢—Ä–æ–∏—Ü–∫–æ-–ü–µ—á–æ—Ä—Å–∫","settlement_type":"–ø–≥—Ç","region_name":"–†–µ—Å–ø—É–±–ª–∏–∫–∞ –ö–æ–º–∏","poad_score":0.4097,"market_score":0.1452,"consumption_score":0.413,"accessibility_score":0.5627,"climate_score":0.7234,"mobility_score":0.5,"ndi_score":0.4161,"ndi_10":4.16,"ndi_rank":79,"avg_hdd_yearly":6319.045454545455},{"settlement_id":82,"settlement_name":"–ø–≥—Ç –ü—Ä–∏–æ–±—å–µ","settlement_type":"–ø–≥—Ç","region_name":"–•–∞–Ω—Ç—ã-–ú–∞–Ω—Å–∏–π—Å–∫–∏–π –∞–≤—Ç–æ–Ω–æ–º–Ω—ã–π –æ–∫—Ä—É–≥ - –Æ–≥—Ä–∞","poad_score":0.4305,"market_score":0.1742,"consumption_score":0.3703,"accessibility_score":0.5545,"climate_score":0.6472,"mobility_score":0.5,"ndi_score":0.414,"ndi_10":4.14,"ndi_rank":80,"avg_hdd_yearly":6769.654545454546},{"settlement_id":22,"settlement_name":"–ø–≥—Ç –ü–∏–Ω–¥—É—à–∏","settlement_type":"–ø–≥—Ç","region_name":"–†–µ—Å–ø—É–±–ª–∏–∫–∞ –ö–∞—Ä–µ–ª–∏—è","poad_score":0.3215,"market_score":0.2015,"consumption_score":0.4388,"accessibility_score":0.5127,"climate_score":0.9233,"mobility_score":0.5,"ndi_score":0.4129,"ndi_10":4.13,"ndi_rank":81,"avg_hdd_yearly":5136.972727272727},{"settlement_id":16,"settlement_name":"–ø–≥—Ç –ü–æ–¥—Ç–µ—Å–æ–≤–æ","settlement_type":"–ø–≥—Ç","region_name":"–ö—Ä–∞—Å–Ω–æ—è—Ä—Å–∫–∏–π –∫—Ä–∞–π","poad_score":0.4097,"market_score":0.1837,"consumption_score":0.3518,"accessibility_score":0.5572,"climate_score":0.7011,"mobility_score":0.5,"ndi_score":0.4116,"ndi_10":4.12,"ndi_rank":82,"avg_hdd_yearly":6450.418181818181},{"settlement_id":94,"settlement_name":"–ø–≥—Ç –ö–∏–ª—å–¥–∏–Ω—Å—Ç—Ä–æ–π","settlement_type":"–ø–≥—Ç","region_name":"–ú—É—Ä–º–∞–Ω—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å","poad_score":0.4684,"market_score":0.1364,"consumption_score":0.5146,"accessibility_score":0.2506,"climate_score":0.7783,"mobility_score":0.5,"ndi_score":0.4088,"ndi_10":4.09,"ndi_rank":83,"avg_hdd_yearly":5994.363636363636},{"settlement_id":39,"settlement_name":"–ø–≥—Ç –ù–∏–∂–Ω–∏–π –û–¥–µ—Å","settlement_type":"–ø–≥—Ç","region_name":"–†–µ—Å–ø—É–±–ª–∏–∫–∞ –ö–æ–º–∏","poad_score":0.3591,"market_score":0.222,"consumption_score":0.3763,"accessibility_score":0.5627,"climate_score":0.7026,"mobility_score":0.5,"ndi_score":0.4062,"ndi_10":4.06,"ndi_rank":84,"avg_hdd_yearly":6441.536363636364},{"settlement_id":106,"settlement_name":"–ø–≥—Ç –®—É–¥–∞—è–≥","settlement_type":"–ø–≥—Ç","region_name":"–†–µ—Å–ø—É–±–ª–∏–∫–∞ –ö–æ–º–∏","poad_score":0.3783,"market_score":0.0645,"consumption_score":0.4666,"accessibility_score":0.6093,"climate_score":0.7424,"mobility_score":0.5,"ndi_score":0.4059,"ndi_10":4.06,"ndi_rank":85,"avg_hdd_yearly":6206.654545454546},{"settlement_id":23,"settlement_name":"–ø–≥—Ç –õ–æ—É—Ö–∏","settlement_type":"–ø–≥—Ç","region_name":"–†–µ—Å–ø—É–±–ª–∏–∫–∞ –ö–∞—Ä–µ–ª–∏—è","poad_score":0.3974,"market_score":0.2225,"consumption_score":0.3971,"accessibility_score":0.3409,"climate_score":0.8465,"mobility_score":0.5,"ndi_score":0.4039,"ndi_10":4.04,"ndi_rank":86,"avg_hdd_yearly":5591.181818181818},{"settlement_id":8,"settlement_name":"–ø–æ—Å–µ–ª–æ–∫ –£–µ–º—Å–∫–∏–π","settlement_type":"–ø–æ—Å–µ–ª–æ–∫","region_name":"–ê—Ä—Ö–∞–Ω–≥–µ–ª—å—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å","poad_score":0.3981,"market_score":0.0602,"consumption_score":0.4585,"accessibility_score":0.495,"climate_score":0.8443,"mobility_score":0.5,"ndi_score":0.4038,"ndi_10":4.04,"ndi_rank":87,"avg_hdd_yearly":5603.827272727272},{"settlement_id":80,"settlement_name":"–ø–≥—Ç –°–µ–¥–∫—ã—Ä–∫–µ—â","settlement_type":"–ø–≥—Ç","region_name":"–†–µ—Å–ø—É–±–ª–∏–∫–∞ –ö–æ–º–∏","poad_score":0.1548,"market_score":0.1585,"consumption_score":0.413,"accessibility_score":0.9667,"climate_score":0.8234,"mobility_score":0.5,"ndi_score":0.4002,"ndi_10":4.0,"ndi_rank":88,"avg_hdd_yearly":5727.290909090909},{"settlement_id":102,"settlement_name":"–ø–≥—Ç –ú—É–µ–∑–µ—Ä—Å–∫–∏–π","settlement_type":"–ø–≥—Ç","region_name":"–†–µ—Å–ø—É–±–ª–∏–∫–∞ –ö–∞—Ä–µ–ª–∏—è","poad_score":0.2445,"market_score":0.3369,"consumption_score":0.481,"accessibility_score":0.4031,"climate_score":0.8854,"mobility_score":0.5,"ndi_score":0.3991,"ndi_10":3.99,"ndi_rank":89,"avg_hdd_yearly":5361.0},{"settlement_id":63,"settlement_name":"–ø–æ—Å–µ–ª–æ–∫ –¢–∞–µ–∂–Ω—ã–π","settlement_type":"–ø–æ—Å–µ–ª–æ–∫","region_name":"–ö—Ä–∞—Å–Ω–æ—è—Ä—Å–∫–∏–π –∫—Ä–∞–π","poad_score":0.1893,"market_score":0.1692,"consumption_score":0.4461,"accessibility_score":0.925,"climate_score":0.6795,"mobility_score":0.5,"ndi_score":0.3987,"ndi_10":3.99,"ndi_rank":90,"avg_hdd_yearly":6578.163636363636},{"settlement_id":58,"settlement_name":"—Ä–ø –ü—Ä–∏–≤–æ–¥–∏–Ω–æ","settlement_type":"—Ä–ø","region_name":"–ê—Ä—Ö–∞–Ω–≥–µ–ª—å—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å","poad_score":0.3282,"market_score":0.0171,"consumption_score":0.4655,"accessibility_score":0.6317,"climate_score":0.8748,"mobility_score":0.5,"ndi_score":0.3954,"ndi_10":3.95,"ndi_rank":91,"avg_hdd_yearly":5423.627272727273},{"settlement_id":68,"settlement_name":"–ø–≥—Ç –í—è—Ä—Ç—Å–∏–ª—è","settlement_type":"–ø–≥—Ç","region_name":"–†–µ—Å–ø—É–±–ª–∏–∫–∞ –ö–∞—Ä–µ–ª–∏—è","poad_score":0.3117,"market_score":0.15,"consumption_score":0.481,"accessibility_score":0.4114,"climate_score":0.9571,"mobility_score":0.5,"ndi_score":0.3937,"ndi_10":3.94,"ndi_rank":92,"avg_hdd_yearly":4937.281818181818},{"settlement_id":93,"settlement_name":"–ø–≥—Ç –ö—É–º–∏–Ω—Å–∫–∏–π","settlement_type":"–ø–≥—Ç","region_name":"–•–∞–Ω—Ç—ã-–ú–∞–Ω—Å–∏–π—Å–∫–∏–π –∞–≤—Ç–æ–Ω–æ–º–Ω—ã–π –æ–∫—Ä—É–≥ - –Æ–≥—Ä–∞","poad_score":0.2086,"market_score":0.1509,"consumption_score":0.4061,"accessibility_score":0.83,"climate_score":0.7761,"mobility_score":0.5,"ndi_score":0.3912,"ndi_10":3.91,"ndi_rank":93,"avg_hdd_yearly":6007.309090909091},{"settlement_id":84,"settlement_name":"–ø–≥—Ç –†–µ–≤–¥–∞","settlement_type":"–ø–≥—Ç","region_name":"–ú—É—Ä–º–∞–Ω—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å","poad_score":0.4286,"market_score":0.115,"consumption_score":0.5146,"accessibility_score":0.2845,"climate_score":0.7216,"mobility_score":0.5,"ndi_score":0.39,"ndi_10":3.9,"ndi_rank":94,"avg_hdd_yearly":6329.327272727272},{"settlement_id":3,"settlement_name":"—Ä–∞–±–æ—á–∏–π –ø–æ—Å–µ–ª–æ–∫ –ò—Å–∫–∞—Ç–µ–ª–µ–π","settlement_type":"—Ä–ø","region_name":"–ù–µ–Ω–µ—Ü–∫–∏–π –∞–≤—Ç–æ–Ω–æ–º–Ω—ã–π –æ–∫—Ä—É–≥","poad_score":0.377,"market_score":0.2021,"consumption_score":0.5245,"accessibility_score":0.3357,"climate_score":0.6006,"mobility_score":0.5,"ndi_score":0.3864,"ndi_10":3.86,"ndi_rank":95,"avg_hdd_yearly":7044.963636363636},{"settlement_id":72,"settlement_name":"–ø–≥—Ç –ú–æ–ª–æ—á–Ω—ã–π","settlement_type":"–ø–≥—Ç","region_name":"–ú—É—Ä–º–∞–Ω—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å","poad_score":0.3902,"market_score":0.15,"consumption_score":0.5146,"accessibility_score":0.2488,"climate_score":0.7766,"mobility_score":0.5,"ndi_score":0.3838,"ndi_10":3.84,"ndi_rank":96,"avg_hdd_yearly":6004.027272727273},{"settlement_id":53,"settlement_name":"–ø–≥—Ç –ß–µ—Ä–Ω—ã—à–µ–≤—Å–∫–∏–π","settlement_type":"–ø–≥—Ç","region_name":"–†–µ—Å–ø—É–±–ª–∏–∫–∞ –°–∞—Ö–∞ (–Ø–∫—É—Ç–∏—è)","poad_score":0.4921,"market_score":0.0185,"consumption_score":0.4519,"accessibility_score":0.5433,"climate_score":0.2973,"mobility_score":0.5,"ndi_score":0.38,"ndi_10":3.8,"ndi_rank":97,"avg_hdd_yearly":8837.981818181817},{"settlement_id":13,"settlement_name":"–ø–≥—Ç –Ø—Ä–µ–≥–∞","settlement_type":"–ø–≥—Ç","region_name":"–†–µ—Å–ø—É–±–ª–∏–∫–∞ –ö–æ–º–∏","poad_score":0.2995,"market_score":0.0645,"consumption_score":0.4666,"accessibility_score":0.6187,"climate_score":0.7261,"mobility_score":0.5,"ndi_score":0.3781,"ndi_10":3.78,"ndi_rank":98,"avg_hdd_yearly":6303.054545454545},{"settlement_id":101,"settlement_name":"–ø–≥—Ç –°–≤–µ—Ç–ª—ã–π","settlement_type":"–ø–≥—Ç","region_name":"–†–µ—Å–ø—É–±–ª–∏–∫–∞ –°–∞—Ö–∞ (–Ø–∫—É—Ç–∏—è)","poad_score":0.3946,"market_score":0.1733,"consumption_score":0.4519,"accessibility_score":0.5384,"climate_score":0.2917,"mobility_score":0.5,"ndi_score":0.3755,"ndi_10":3.75,"ndi_rank":99,"avg_hdd_yearly":8871.518181818183},{"settlement_id":75,"settlement_name":"–ø–≥—Ç –ù–∏–∫–µ–ª—å","settlement_type":"–ø–≥—Ç","region_name":"–ú—É—Ä–º–∞–Ω—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å","poad_score":0.3868,"market_score":0.1225,"consumption_score":0.5146,"accessibility_score":0.2212,"climate_score":0.7621,"mobility_score":0.5,"ndi_score":0.3714,"ndi_10":3.71,"ndi_rank":100,"avg_hdd_yearly":6090.263636363637},{"settlement_id":24,"settlement_name":"–ø–≥—Ç –í–æ—Ä–≥–∞—à–æ—Ä","settlement_type":"–ø–≥—Ç","region_name":"–†–µ—Å–ø—É–±–ª–∏–∫–∞ –ö–æ–º–∏","poad_score":0.3823,"market_score":0.2375,"consumption_score":0.3929,"accessibility_score":0.4204,"climate_score":0.4159,"mobility_score":0.5,"ndi_score":0.3699,"ndi_10":3.7,"ndi_rank":101,"avg_hdd_yearly":8136.736363636363},{"settlement_id":89,"settlement_name":"—Å–µ–ª–æ –ê–ª–∞–∫—É—Ä—Ç—Ç–∏","settlement_type":"—Å–µ–ª–æ","region_name":"–ú—É—Ä–º–∞–Ω—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å","poad_score":0.3395,"market_score":0.1316,"consumption_score":0.5146,"accessibility_score":0.2845,"climate_score":0.7839,"mobility_score":0.5,"ndi_score":0.3684,"ndi_10":3.68,"ndi_rank":102,"avg_hdd_yearly":5960.990909090909},{"settlement_id":33,"settlement_name":"—Ä–ø –ú–∞–ª–æ—à—É–π–∫–∞","settlement_type":"—Ä–ø","region_name":"–ê—Ä—Ö–∞–Ω–≥–µ–ª—å—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å","poad_score":0.1873,"market_score":0.2356,"consumption_score":0.3848,"accessibility_score":0.5368,"climate_score":0.9012,"mobility_score":0.5,"ndi_score":0.366,"ndi_10":3.66,"ndi_rank":103,"avg_hdd_yearly":5267.327272727272},{"settlement_id":20,"settlement_name":"–ø–≥—Ç –°–µ–≤–µ—Ä–Ω—ã–π","settlement_type":"–ø–≥—Ç","region_name":"–†–µ—Å–ø—É–±–ª–∏–∫–∞ –ö–æ–º–∏","poad_score":0.3553,"market_score":0.2375,"consumption_score":0.3929,"accessibility_score":0.427,"climate_score":0.437,"mobility_score":0.5,"ndi_score":0.3635,"ndi_10":3.64,"ndi_rank":104,"avg_hdd_yearly":8012.4},{"settlement_id":74,"settlement_name":"–ø–≥—Ç –†–∞–∑–¥–æ–ª–∏–Ω—Å–∫","settlement_type":"–ø–≥—Ç","region_name":"–ö—Ä–∞—Å–Ω–æ—è—Ä—Å–∫–∏–π –∫—Ä–∞–π","poad_score":0.1911,"market_score":0.1354,"consumption_score":0.4461,"accessibility_score":0.7141,"climate_score":0.6581,"mobility_score":0.5,"ndi_score":0.3588,"ndi_10":3.59,"ndi_rank":105,"avg_hdd_yearly":6704.845454545454},{"settlement_id":26,"settlement_name":"—Å–µ–ª–æ –í–µ—Ä—Ö–Ω–µ–ø–∞—à–∏–Ω–æ","settlement_type":"—Å–µ–ª–æ","region_name":"–ö—Ä–∞—Å–Ω–æ—è—Ä—Å–∫–∏–π –∫—Ä–∞–π","poad_score":0.113,"market_score":0.2294,"consumption_score":0.6036,"accessibility_score":0.5655,"climate_score":0.7099,"mobility_score":0.5,"ndi_score":0.3568,"ndi_10":3.57,"ndi_rank":106,"avg_hdd_yearly":6398.827272727272},{"settlement_id":78,"settlement_name":"–Ω–∞—Å–µ–ª–µ–Ω–Ω—ã–π –ø—É–Ω–∫—Ç –í–∏–¥—è–µ–≤–æ","settlement_type":"–ø–æ—Å–µ–ª–æ–∫","region_name":"–ú—É—Ä–º–∞–Ω—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å","poad_score":0.3081,"market_score":0.1377,"consumption_score":0.5146,"accessibility_score":0.2352,"climate_score":0.799,"mobility_score":0.5,"ndi_score":0.3527,"ndi_10":3.53,"ndi_rank":107,"avg_hdd_yearly":5871.581818181819},{"settlement_id":81,"settlement_name":"–ø–≥—Ç –ü–µ—á–µ–Ω–≥–∞","settlement_type":"–ø–≥—Ç","region_name":"–ú—É—Ä–º–∞–Ω—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å","poad_score":0.31,"market_score":0.1225,"consumption_score":0.5146,"accessibility_score":0.2226,"climate_score":0.782,"mobility_score":0.5,"ndi_score":0.3468,"ndi_10":3.47,"ndi_rank":108,"avg_hdd_yearly":5972.390909090909},{"settlement_id":48,"settlement_name":"–ø–≥—Ç –ú—É—Ä–º–∞—à–∏","settlement_type":"–ø–≥—Ç","region_name":"–ú—É—Ä–º–∞–Ω—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å","poad_score":0.3494,"market_score":0.0036,"consumption_score":0.5146,"accessibility_score":0.2489,"climate_score":0.7778,"mobility_score":0.5,"ndi_score":0.3403,"ndi_10":3.4,"ndi_rank":109,"avg_hdd_yearly":5997.445454545455},{"settlement_id":9,"settlement_name":"—Å–µ–ª–æ –ö—Ä–∞—Å–Ω–æ—Å–µ–ª—å–∫—É–ø","settlement_type":"—Å–µ–ª–æ","region_name":"–Ø–º–∞–ª–æ-–ù–µ–Ω–µ—Ü–∫–∏–π –∞–≤—Ç–æ–Ω–æ–º–Ω—ã–π –æ–∫—Ä—É–≥","poad_score":0.2503,"market_score":0.0642,"consumption_score":0.611,"accessibility_score":0.5153,"climate_score":0.4094,"mobility_score":0.5,"ndi_score":0.3353,"ndi_10":3.35,"ndi_rank":110,"avg_hdd_yearly":8175.472727272727},{"settlement_id":46,"settlement_name":"—Å–µ–ª–æ –í–∞–Ω–∞–≤–∞—Ä–∞","settlement_type":"—Å–µ–ª–æ","region_name":"–ö—Ä–∞—Å–Ω–æ—è—Ä—Å–∫–∏–π –∫—Ä–∞–π","poad_score":0.2078,"market_score":0.2361,"consumption_score":0.3391,"accessibility_score":0.5258,"climate_score":0.5041,"mobility_score":0.5,"ndi_score":0.3251,"ndi_10":3.25,"ndi_rank":111,"avg_hdd_yearly":7615.636363636364},{"settlement_id":62,"settlement_name":"–ø–≥—Ç –ú–æ—Ç—ã–≥–∏–Ω–æ","settlement_type":"–ø–≥—Ç","region_name":"–ö—Ä–∞—Å–Ω–æ—è—Ä—Å–∫–∏–π –∫—Ä–∞–π","poad_score":0.0537,"market_score":0.1549,"consumption_score":0.4635,"accessibility_score":0.7172,"climate_score":0.6959,"mobility_score":0.5,"ndi_score":0.3215,"ndi_10":3.21,"ndi_rank":112,"avg_hdd_yearly":6481.572727272727},{"settlement_id":51,"settlement_name":"—Å–µ–ª–æ –ì—ã–¥–∞","settlement_type":"—Å–µ–ª–æ","region_name":"–Ø–º–∞–ª–æ-–ù–µ–Ω–µ—Ü–∫–∏–π –∞–≤—Ç–æ–Ω–æ–º–Ω—ã–π –æ–∫—Ä—É–≥","poad_score":0.3987,"market_score":0.0155,"consumption_score":0.5025,"accessibility_score":0.3801,"climate_score":0.2126,"mobility_score":0.5,"ndi_score":0.3213,"ndi_10":3.21,"ndi_rank":113,"avg_hdd_yearly":9339.09090909091},{"settlement_id":119,"settlement_name":"–ø–≥—Ç –ê–ª–º–∞–∑–Ω—ã–π","settlement_type":"–ø–≥—Ç","region_name":"–†–µ—Å–ø—É–±–ª–∏–∫–∞ –°–∞—Ö–∞ (–Ø–∫—É—Ç–∏—è)","poad_score":0.2109,"market_score":0.1901,"consumption_score":0.4519,"accessibility_score":0.4801,"climate_score":0.3597,"mobility_score":0.5,"ndi_score":0.3126,"ndi_10":3.13,"ndi_rank":114,"avg_hdd_yearly":8469.190909090908},{"settlement_id":122,"settlement_name":"—Å–µ–ª–æ –•–∞—Ç–∞—Å—Å—ã","settlement_type":"—Å–µ–ª–æ","region_name":"–†–µ—Å–ø—É–±–ª–∏–∫–∞ –°–∞—Ö–∞ (–Ø–∫—É—Ç–∏—è)","poad_score":0.255,"market_score":0.2122,"consumption_score":0.4716,"accessibility_score":0.2355,"climate_score":0.2378,"mobility_score":0.5,"ndi_score":0.2865,"ndi_10":2.87,"ndi_rank":115,"avg_hdd_yearly":9189.963636363636},{"settlement_id":29,"settlement_name":"—Å–µ–ª–æ –ê–Ω—Ç–æ–Ω–æ–≤–∫–∞","settlement_type":"—Å–µ–ª–æ","region_name":"–†–µ—Å–ø—É–±–ª–∏–∫–∞ –°–∞—Ö–∞ (–Ø–∫—É—Ç–∏—è)","poad_score":0.136,"market_score":0.2254,"consumption_score":0.4559,"accessibility_score":0.4601,"climate_score":0.305,"mobility_score":0.5,"ndi_score":0.2856,"ndi_10":2.86,"ndi_rank":116,"avg_hdd_yearly":8792.445454545454},{"settlement_id":65,"settlement_name":"–ø–æ—Å–µ–ª–æ–∫ –¢—É—Ä–∞","settlement_type":"–ø–æ—Å–µ–ª–æ–∫","region_name":"–ö—Ä–∞—Å–Ω–æ—è—Ä—Å–∫–∏–π –∫—Ä–∞–π","poad_score":0.1048,"market_score":0.3334,"consumption_score":0.4461,"accessibility_score":0.3922,"climate_score":0.3046,"mobility_score":0.5,"ndi_score":0.2846,"ndi_10":2.85,"ndi_rank":117,"avg_hdd_yearly":8795.127272727274},{"settlement_id":50,"settlement_name":"—Å–µ–ª–æ –ë–∞–π–∫–∏—Ç","settlement_type":"—Å–µ–ª–æ","region_name":"–ö—Ä–∞—Å–Ω–æ—è—Ä—Å–∫–∏–π –∫—Ä–∞–π","poad_score":0.151,"market_score":0.0059,"consumption_score":0.4461,"accessibility_score":0.5088,"climate_score":0.4733,"mobility_score":0.5,"ndi_score":0.2696,"ndi_10":2.7,"ndi_rank":118,"avg_hdd_yearly":7797.881818181818},{"settlement_id":59,"settlement_name":"–ø–≥—Ç –ó—ã—Ä—è–Ω–∫–∞","settlement_type":"–ø–≥—Ç","region_name":"–†–µ—Å–ø—É–±–ª–∏–∫–∞ –°–∞—Ö–∞ (–Ø–∫—É—Ç–∏—è)","poad_score":0.4165,"market_score":0.0104,"consumption_score":0.4519,"accessibility_score":0.103,"climate_score":0.134,"mobility_score":0.5,"ndi_score":0.2695,"ndi_10":2.69,"ndi_rank":119,"avg_hdd_yearly":9803.90909090909},{"settlement_id":61,"settlement_name":"–ø–≥—Ç –ë–µ—Ä–∏–Ω–≥–æ–≤—Å–∫–∏–π","settlement_type":"–ø–≥—Ç","region_name":"–ß—É–∫–æ—Ç—Å–∫–∏–π –∞–≤—Ç–æ–Ω–æ–º–Ω—ã–π –æ–∫—Ä—É–≥","poad_score":0.3154,"market_score":0.1452,"consumption_score":0.353,"accessibility_score":0.0087,"climate_score":0.4949,"mobility_score":0.5,"ndi_score":0.2682,"ndi_10":2.68,"ndi_rank":120,"avg_hdd_yearly":7669.7},{"settlement_id":49,"settlement_name":"—Å–µ–ª–æ –ú—É–∂–∏","settlement_type":"—Å–µ–ª–æ","region_name":"–Ø–º–∞–ª–æ-–ù–µ–Ω–µ—Ü–∫–∏–π –∞–≤—Ç–æ–Ω–æ–º–Ω—ã–π –æ–∫—Ä—É–≥","poad_score":0.1158,"market_score":0.0088,"consumption_score":0.5025,"accessibility_score":0.4535,"climate_score":0.5307,"mobility_score":0.5,"ndi_score":0.2638,"ndi_10":2.64,"ndi_rank":121,"avg_hdd_yearly":7458.181818181818},{"settlement_id":11,"settlement_name":"—Å–µ–ª–æ –¢—É—Ä—É—Ö–∞–Ω—Å–∫","settlement_type":"—Å–µ–ª–æ","region_name":"–ö—Ä–∞—Å–Ω–æ—è—Ä—Å–∫–∏–π –∫—Ä–∞–π","poad_score":0.088,"market_score":0.2173,"consumption_score":0.39,"accessibility_score":0.3664,"climate_score":0.3937,"mobility_score":0.5,"ndi_score":0.2521,"ndi_10":2.52,"ndi_rank":122,"avg_hdd_yearly":8268.436363636363},{"settlement_id":67,"settlement_name":"–ø–≥—Ç –≠–ª—å–¥–∏–∫–∞–Ω","settlement_type":"–ø–≥—Ç","region_name":"–†–µ—Å–ø—É–±–ª–∏–∫–∞ –°–∞—Ö–∞ (–Ø–∫—É—Ç–∏—è)","poad_score":0.1568,"market_score":0.1454,"consumption_score":0.4519,"accessibility_score":0.1683,"climate_score":0.1871,"mobility_score":0.5,"ndi_score":0.2207,"ndi_10":2.21,"ndi_rank":123,"avg_hdd_yearly":9490.081818181818},{"settlement_id":35,"settlement_name":"–ø–≥—Ç –£–≥–æ–ª—å–Ω—ã–µ –ö–æ–ø–∏","settlement_type":"–ø–≥—Ç","region_name":"–ß—É–∫–æ—Ç—Å–∫–∏–π –∞–≤—Ç–æ–Ω–æ–º–Ω—ã–π –æ–∫—Ä—É–≥","poad_score":0.1163,"market_score":0.2242,"consumption_score":0.4036,"accessibility_score":0.0165,"climate_score":0.4009,"mobility_score":0.5,"ndi_score":0.2136,"ndi_10":2.14,"ndi_rank":124,"avg_hdd_yearly":8225.854545454546},{"settlement_id":38,"settlement_name":"–ø–≥—Ç –£—Å—Ç—å-–ú–∞—è","settlement_type":"–ø–≥—Ç","region_name":"–†–µ—Å–ø—É–±–ª–∏–∫–∞ –°–∞—Ö–∞ (–Ø–∫—É—Ç–∏—è)","poad_score":0.0034,"market_score":0.2041,"consumption_score":0.5812,"accessibility_score":0.1688,"climate_score":0.221,"mobility_score":0.5,"ndi_score":0.2016,"ndi_10":2.02,"ndi_rank":125,"avg_hdd_yearly":9289.272727272728},{"settlement_id":57,"settlement_name":"—Å–µ–ª–æ –•–∞—Ç–∞–Ω–≥–∞","settlement_type":"—Å–µ–ª–æ","region_name":"–ö—Ä–∞—Å–Ω–æ—è—Ä—Å–∫–∏–π –∫—Ä–∞–π","poad_score":0.1158,"market_score":0.0104,"consumption_score":0.4461,"accessibility_score":0.3056,"climate_score":0.0618,"mobility_score":0.5,"ndi_score":0.1865,"ndi_10":1.87,"ndi_rank":126,"avg_hdd_yearly":10230.709090909091},{"settlement_id":120,"settlement_name":"–ø–≥—Ç –≠–≥–≤–µ–∫–∏–Ω–æ—Ç","settlement_type":"–ø–≥—Ç","region_name":"–ß—É–∫–æ—Ç—Å–∫–∏–π –∞–≤—Ç–æ–Ω–æ–º–Ω—ã–π –æ–∫—Ä—É–≥","poad_score":0.0469,"market_score":0.1646,"consumption_score":0.3959,"accessibility_score":0.0184,"climate_score":0.3104,"mobility_score":0.5,"ndi_score":0.1675,"ndi_10":1.68,"ndi_rank":127,"avg_hdd_yearly":8760.736363636364},{"settlement_id":128,"settlement_name":"–ø–≥—Ç –î–µ–ø—É—Ç–∞—Ç—Å–∫–∏–π","settlement_type":"–ø–≥—Ç","region_name":"–†–µ—Å–ø—É–±–ª–∏–∫–∞ –°–∞—Ö–∞ (–Ø–∫—É—Ç–∏—è)","poad_score":0.0,"market_score":0.2054,"consumption_score":0.3882,"accessibility_score":0.178,"climate_score":0.0,"mobility_score":0.5,"ndi_score":0.151,"ndi_10":1.51,"ndi_rank":128,"avg_hdd_yearly":10596.127272727274}];
let activeCategory = null;
let currentFilteredData = allData;

// ============================================================================
// –í–°–ü–û–ú–û–ì–ê–¢–ï–õ–¨–ù–´–ï –§–£–ù–ö–¶–ò–ò
// ============================================================================

function getCategoryFromNDI(ndi) {
    if (ndi < 3.0) return '–ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–π';
    if (ndi < 4.5) return '–ù–∏–∑–∫–∏–π';
    if (ndi < 6.5) return '–°—Ä–µ–¥–Ω–∏–π';
    return '–í—ã—Å–æ–∫–∏–π';
}

function getColorByNDI(ndi) {
    if (ndi < 3.0) return 'rgb(165,0,38)';      // –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–π - —Ç–µ–º–Ω–æ-–∫—Ä–∞—Å–Ω—ã–π
    if (ndi < 4.5) return 'rgb(244,109,67)';    // –ù–∏–∑–∫–∏–π - –∫—Ä–∞—Å–Ω—ã–π
    if (ndi < 6.5) return 'rgb(254,224,139)';   // –°—Ä–µ–¥–Ω–∏–π - –∂–µ–ª—Ç—ã–π
    return 'rgb(0,104,55)';                     // –í—ã—Å–æ–∫–∏–π - –∑–µ–ª–µ–Ω—ã–π
}

function switchTab(tabName) {
    // –£–¥–∞–ª—è–µ–º –∞–∫—Ç–∏–≤–Ω—ã–π –∫–ª–∞—Å—Å —Å–æ –≤—Å–µ—Ö –∫–Ω–æ–ø–æ–∫ –∏ –∫–æ–Ω—Ç–µ–Ω—Ç–∞
    document.querySelectorAll('.tab-btn').forEach(btn => btn.classList.remove('active'));
    document.querySelectorAll('.tab-content').forEach(content => content.classList.remove('active'));

    // –î–æ–±–∞–≤–ª—è–µ–º –∞–∫—Ç–∏–≤–Ω—ã–π –∫–ª–∞—Å—Å –∫ –≤—ã–±—Ä–∞–Ω–Ω–æ–π –≤–∫–ª–∞–¥–∫–µ
    const tabButton = event?.target?.closest('.tab-btn') || document.querySelector(`[onclick*="${tabName}"]`);
    if (tabButton) tabButton.classList.add('active');

    document.getElementById(`tab-${tabName}`).classList.add('active');
    window.scrollTo({ top: 0, behavior: 'smooth' });

    // –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —à–∏—Ä–∏–Ω—ã treemap –ø—Ä–∏ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–∏ –Ω–∞ –≤–∫–ª–∞–¥–∫—É "–î–∞—à–±–æ—Ä–¥"
    if (tabName === 'dashboard') {
        // –î–∞—ë–º –≤—Ä–µ–º—è –±—Ä–∞—É–∑–µ—Ä—É –æ—Ç–æ–±—Ä–∞–∑–∏—Ç—å –≤–∫–ª–∞–¥–∫—É, –∑–∞—Ç–µ–º –ø–µ—Ä–µ—Å—á–∏—Ç—ã–≤–∞–µ–º —Ä–∞–∑–º–µ—Ä—ã –≥—Ä–∞—Ñ–∏–∫–æ–≤
        setTimeout(() => {
            if (document.getElementById('treemap')) {
                Plotly.Plots.resize('treemap');
            }
            if (document.getElementById('critical-treemap')) {
                Plotly.Plots.resize('critical-treemap');
            }
        }, 100);
    }

    console.log(`üìë –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–æ –Ω–∞ –≤–∫–ª–∞–¥–∫—É: ${tabName}`);
}

function filterByCategory(category) {
    const cards = document.querySelectorAll('.kpi-card');
    const categorySelect = document.getElementById('filter-category');

    // Toggle active state
    if (activeCategory === category) {
        activeCategory = null;
        cards.forEach(c => c.classList.remove('active'));
        categorySelect.value = '';
        applyFilters(null);
    } else {
        activeCategory = category;
        cards.forEach(c => c.classList.remove('active'));
        document.querySelector(`.kpi-card[data-category="${category}"]`).classList.add('active');
        categorySelect.value = category;
        applyFilters(category);
    }
}

function applyFilters(category) {
    let filtered = allData;

    // –§–∏–ª—å—Ç—Ä –ø–æ —Ä–µ–≥–∏–æ–Ω—É (multi-select)
    const selectedRegions = Array.from(document.querySelectorAll('.region-checkbox:checked')).map(cb => cb.value);
    if (selectedRegions.length > 0) {
        filtered = filtered.filter(d => selectedRegions.includes(d.region_name));
    }

    // –§–∏–ª—å—Ç—Ä –ø–æ –ù–ü (multi-select)
    const selectedSettlements = Array.from(document.querySelectorAll('.settlement-checkbox:checked')).map(cb => cb.value);
    if (selectedSettlements.length > 0) {
        filtered = filtered.filter(d => selectedSettlements.includes(d.settlement_id.toString()));
    }

    // –§–∏–ª—å—Ç—Ä –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏
    if (category) {
        filtered = filtered.filter(d => getCategoryFromNDI(d.ndi_10) === category);
    }

    // –§–∏–ª—å—Ç—Ä –ø–æ –∞—Ä–∫—Ç–∏—á–µ—Å–∫–æ–π –∑–æ–Ω–µ
    const arcticFilter = document.getElementById('filter-arctic').value;
    if (arcticFilter !== '') {
        const isArcticBool = arcticFilter === 'true';
        filtered = filtered.filter(d => d.is_arctic === isArcticBool);
    }

    currentFilteredData = filtered;

    console.log(`üîç –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è: ${filtered.length} –∏–∑ ${allData.length} –ù–ü`);
    console.log(`   –†–µ–≥–∏–æ–Ω: ${selectedRegions.length > 0 ? selectedRegions.join(', ') : '–≤—Å–µ'}`);
    console.log(`   –ù–ü: ${selectedSettlements.length > 0 ? selectedSettlements.length + ' –≤—ã–±—Ä–∞–Ω–æ' : '–≤—Å–µ'}`);
    console.log(`   –ö–∞—Ç–µ–≥–æ—Ä–∏—è: ${category || '–≤—Å–µ'}`);
    console.log(`   –ê—Ä–∫—Ç–∏—á–µ—Å–∫–∞—è –∑–æ–Ω–∞: ${arcticFilter === 'true' ? '–î–∞' : arcticFilter === 'false' ? '–ù–µ—Ç' : '–≤—Å–µ'}`);

    // –ü–µ—Ä–µ—Å—á—ë—Ç KPI –∫–∞—Ä—Ç–æ—á–µ–∫ –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º (–ü–û–°–õ–ï –≤—Å–µ—Ö —Ñ–∏–ª—å—Ç—Ä–æ–≤)
    const counts = {'–ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–π':0,'–ù–∏–∑–∫–∏–π':0,'–°—Ä–µ–¥–Ω–∏–π':0,'–í—ã—Å–æ–∫–∏–π':0};
    filtered.forEach(d => counts[getCategoryFromNDI(d.ndi_10)]++);
    document.querySelectorAll('.kpi-card').forEach(card => {
        const cat = card.dataset.category;
        const valueEl = card.querySelector('.kpi-value');
        const total = filtered.length;
        const count = counts[cat] || 0;
        const percent = total > 0 ? Math.round((count / total) * 100) : 0;
        if (valueEl) valueEl.innerHTML = `${count}<span class="kpi-percent">(${percent}%)</span>`;
    });

    // –û–±–Ω–æ–≤–ª—è–µ–º –∫–Ω–æ–ø–∫—É "–°–±—Ä–æ—Å–∏—Ç—å –≤—Å–µ"
    updateResetAllButton();

    // –û–±–Ω–æ–≤–ª—è–µ–º –≤—Å–µ –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏
    renderTreemap(filtered);
}

function updateSettlementOptions() {
    const selectedRegions = Array.from(document.querySelectorAll('.region-checkbox:checked')).map(cb => cb.value);
    const dropdown = document.getElementById('settlement-filter-dropdown');

    // –û—á–∏—â–∞–µ–º —á–µ–∫–±–æ–∫—Å—ã –ù–ü
    dropdown.innerHTML = '';

    // –§–∏–ª—å—Ç—Ä—É–µ–º –ù–ü –ø–æ –≤—ã–±—Ä–∞–Ω–Ω—ã–º —Ä–µ–≥–∏–æ–Ω–∞–º
    const settlements = selectedRegions.length > 0
        ? allData.filter(d => selectedRegions.includes(d.region_name))
        : allData;

    // –î–æ–±–∞–≤–ª—è–µ–º —á–µ–∫–±–æ–∫—Å—ã
    settlements
        .sort((a, b) => b.ndi_10 - a.ndi_10)
        .forEach(s => {
            const label = document.createElement('label');
            const checkbox = document.createElement('input');
            checkbox.type = 'checkbox';
            checkbox.className = 'settlement-checkbox';
            checkbox.value = s.settlement_id;
            checkbox.addEventListener('change', function() {
                updateMultiSelectButton('settlement-checkbox', 'settlement-filter-button');
                applyFilters(activeCategory);
            });
            label.appendChild(checkbox);
            label.appendChild(document.createTextNode(` ${s.settlement_name} (NDI: ${s.ndi_10})`));
            dropdown.appendChild(label);
        });

    console.log(`üìç –í —Ä–µ–≥–∏–æ–Ω–∞—Ö "${selectedRegions.join(', ') || '–≤—Å–µ'}": ${settlements.length} –ù–ü`);
}

function updateMultiSelectButton(checkboxClass, buttonId) {
    const checked = Array.from(document.querySelectorAll(`.${checkboxClass}:checked`));
    const button = document.getElementById(buttonId);
    if (!button) return;

    const resetButton = document.getElementById(buttonId.replace('-button', '-reset'));

    if (checked.length === 0) {
        button.textContent = checkboxClass.includes('region') ? '–í—Å–µ —Ä–µ–≥–∏–æ–Ω—ã ‚ñº' : '–í—Å–µ –ù–ü ‚ñº';
        // –£–±—Ä–∞—Ç—å –∫–ª–∞—Å—Å active - —Å–µ—Ä–∞—è –∫–Ω–æ–ø–∫–∞ "√ó"
        if (resetButton) resetButton.classList.remove('active');
    } else {
        button.textContent = `–í—ã–±—Ä–∞–Ω–æ: ${checked.length} ‚ñº`;
        // –î–æ–±–∞–≤–∏—Ç—å –∫–ª–∞—Å—Å active - —Å–∏–Ω—è—è –∫–Ω–æ–ø–∫–∞ "√ó"
        if (resetButton) resetButton.classList.add('active');
    }
}

function updateResetAllButton() {
    const resetAllBtn = document.getElementById('reset-all-filters');
    if (!resetAllBtn) return;

    const hasRegionFilters = document.querySelectorAll('.region-checkbox:checked').length > 0;
    const hasSettlementFilters = document.querySelectorAll('.settlement-checkbox:checked').length > 0;
    const categorySelect = document.getElementById('filter-category');
    const arcticSelect = document.getElementById('filter-arctic');
    const hasCategoryFilter = categorySelect && categorySelect.value !== '';
    const hasArcticFilter = arcticSelect && arcticSelect.value !== '';

    const hasAnyFilter = hasRegionFilters || hasSettlementFilters || hasCategoryFilter || hasArcticFilter;

    if (hasAnyFilter) {
        resetAllBtn.classList.add('active');
    } else {
        resetAllBtn.classList.remove('active');
    }
}

// ============================================================================
// PLOTLY –ì–†–ê–§–ò–ö–ò
// ============================================================================

// –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è –¥–ª—è drill-down –∫–∞—Ä—Ç—ã
let currentDrillLevel = 'regions';  // 'regions' –∏–ª–∏ 'settlements'
let currentRegion = null;           // –≤—ã–±—Ä–∞–Ω–Ω—ã–π —Ä–µ–≥–∏–æ–Ω

function renderTreemap(data) {
    if (data.length === 0) {
        Plotly.purge('treemap');
        document.getElementById('treemap').innerHTML = '<div style="text-align:center; padding:50px; color:#999;">–ù–µ—Ç –¥–∞–Ω–Ω—ã—Ö –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è</div>';
        return;
    }

    // –ì—Ä—É–ø–ø–∏—Ä—É–µ–º –ø–æ —Ä–µ–≥–∏–æ–Ω–∞–º
    const regions = {};
    data.forEach(d => {
        if (!regions[d.region_name]) regions[d.region_name] = [];
        regions[d.region_name].push(d);
    });

    const labels = [];
    const parents = [];
    const values = [];
    const colors = [];
    const customdata = [];
    const text = [];

    if (currentDrillLevel === 'regions') {
        // –£–†–û–í–ï–ù–¨ 1: –¢–æ–ª—å–∫–æ —Ä–µ–≥–∏–æ–Ω—ã (–±–µ–∑ –ù–ü)
        Object.keys(regions).forEach(region => {
            const regionData = regions[region];
            const avgNDI = regionData.reduce((sum, d) => sum + d.ndi_10, 0) / regionData.length;
            const avgPoad = regionData.reduce((sum, d) => sum + d.poad_score, 0) / regionData.length;
            const avgMarket = regionData.reduce((sum, d) => sum + d.market_score, 0) / regionData.length;
            const avgConsumption = regionData.reduce((sum, d) => sum + d.consumption_score, 0) / regionData.length;
            const avgAccessibility = regionData.reduce((sum, d) => sum + d.accessibility_score, 0) / regionData.length;
            const avgClimate = regionData.reduce((sum, d) => sum + d.climate_score, 0) / regionData.length;
            const avgMobility = regionData.reduce((sum, d) => sum + d.mobility_score, 0) / regionData.length;

            labels.push(region);
            parents.push('');
            values.push(regionData.length);
            colors.push(getColorByNDI(avgNDI));
            customdata.push([avgPoad, avgMarket, avgConsumption, avgAccessibility, avgClimate, avgMobility, getColorByNDI(avgNDI)]);
            text.push(`${region}<br><b>NDI: ${avgNDI.toFixed(2)}</b><br>${regionData.length} –ù–ü`);
        });

    } else if (currentDrillLevel === 'settlements' && currentRegion) {
        // –£–†–û–í–ï–ù–¨ 2: –ù–ü –≤—ã–±—Ä–∞–Ω–Ω–æ–≥–æ —Ä–µ–≥–∏–æ–Ω–∞

        // 1. –†–æ–¥–∏—Ç–µ–ª—å—Å–∫–∏–π —É–∑–µ–ª - —Ä–µ–≥–∏–æ–Ω
        const regionData = regions[currentRegion];
        if (regionData) {
            const avgNDI = regionData.reduce((sum, d) => sum + d.ndi_10, 0) / regionData.length;
            const avgPoad = regionData.reduce((sum, d) => sum + d.poad_score, 0) / regionData.length;
            const avgMarket = regionData.reduce((sum, d) => sum + d.market_score, 0) / regionData.length;
            const avgConsumption = regionData.reduce((sum, d) => sum + d.consumption_score, 0) / regionData.length;
            const avgAccessibility = regionData.reduce((sum, d) => sum + d.accessibility_score, 0) / regionData.length;
            const avgClimate = regionData.reduce((sum, d) => sum + d.climate_score, 0) / regionData.length;
            const avgMobility = regionData.reduce((sum, d) => sum + d.mobility_score, 0) / regionData.length;

            labels.push(currentRegion);
            parents.push('');
            values.push(regionData.length);
            colors.push(getColorByNDI(avgNDI));
            customdata.push([avgPoad, avgMarket, avgConsumption, avgAccessibility, avgClimate, avgMobility, getColorByNDI(avgNDI)]);
            text.push(`${currentRegion}<br><b>NDI: ${avgNDI.toFixed(2)}</b><br>${regionData.length} –ù–ü`);

            // 2. –î–æ—á–µ—Ä–Ω–∏–µ —É–∑–ª—ã - –ù–ü —Ä–µ–≥–∏–æ–Ω–∞
            regionData.forEach(d => {
                labels.push(d.settlement_name);
                parents.push(currentRegion);
                values.push(1);
                colors.push(getColorByNDI(d.ndi_10));
                customdata.push([
                    d.poad_score,
                    d.market_score,
                    d.consumption_score,
                    d.accessibility_score,
                    d.climate_score,
                    d.mobility_score,
                    getColorByNDI(d.ndi_10)
                ]);
                text.push(`${d.settlement_name}<br><b>${d.ndi_10}</b>`);
            });
        }
    }

    const trace = {
        type: 'treemap',
        labels: labels,
        parents: parents,
        values: values,
        marker: {
            colors: colors,
            line: {
                color: 'white',
                width: 1
            }
        },
        text: text,
        textinfo: 'text',
        textposition: 'middle center',
        customdata: customdata,
        hovertemplate: '<b>%{label}</b><br>' +
                      '‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ<br>' +
                      '<b style="font-size:16px; color:%{customdata[6]};">NDI: %{color:.2f}</b><br>' +
                      '<br>üìä <b>–ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:</b><br>' +
                      '  ‚Ä¢ POAD: %{customdata[0]:.2f}<br>' +
                      '  ‚Ä¢ –†—ã–Ω–æ–∫: %{customdata[1]:.2f}<br>' +
                      '  ‚Ä¢ –ü–æ—Ç—Ä–µ–±–ª–µ–Ω–∏–µ: %{customdata[2]:.2f}<br>' +
                      '  ‚Ä¢ –î–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å: %{customdata[3]:.2f}<br>' +
                      '  ‚Ä¢ –ö–ª–∏–º–∞—Ç: %{customdata[4]:.2f}<br>' +
                      '  ‚Ä¢ –ú–æ–±–∏–ª—å–Ω–æ—Å—Ç—å: %{customdata[5]:.2f}<br>' +
                      '<extra></extra>',
        branchvalues: 'total',
        tiling: {
            packing: 'squarify',
            pad: 3
        }
    };

    const layout = {
        margin: { t: 50, l: 10, r: 10, b: 90 },
        title: '–ö–∞—Ä—Ç–∞ –ø—Ä–∏–≤–ª–µ–∫–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –ù–ü –ø–æ —Ä–µ–≥–∏–æ–Ω–∞–º (–∫–ª–∏–∫–Ω–∏—Ç–µ –Ω–∞ —Ä–µ–≥–∏–æ–Ω –¥–ª—è –¥–µ—Ç–∞–ª–∏–∑–∞—Ü–∏–∏)',
        height: currentDrillLevel === 'settlements' ? 650 : 550,
        autosize: true,
        annotations: [
            {
                text: '<b>–õ–µ–≥–µ–Ω–¥–∞ NDI:</b>    ' +
                      '<span style="color:rgb(165,0,38)">‚ñ†</span> –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–π (<3.0)    ' +
                      '<span style="color:rgb(244,109,67)">‚ñ†</span> –ù–∏–∑–∫–∏–π (3.0-4.5)    ' +
                      '<span style="color:rgb(254,224,139)">‚ñ†</span> –°—Ä–µ–¥–Ω–∏–π (4.5-6.5)    ' +
                      '<span style="color:rgb(0,104,55)">‚ñ†</span> –í—ã—Å–æ–∫–∏–π (6.5+)',
                showarrow: false,
                xref: 'paper',
                yref: 'paper',
                x: 0.5,
                y: -0.12,
                xanchor: 'center',
                yanchor: 'top',
                align: 'center',
                bgcolor: 'rgba(255,255,255,0.9)',
                bordercolor: '#ccc',
                borderwidth: 1,
                borderpad: 10,
                font: { size: 11 }
            }
        ]
    };

    Plotly.newPlot('treemap', [trace], layout, { responsive: true });

    // –ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω—ã–π resize –¥–ª—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–≥–æ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –ø–æ —à–∏—Ä–∏–Ω–µ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ
    setTimeout(() => {
        Plotly.Plots.resize('treemap');
    }, 300);

    // –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–π resize –¥–ª—è –≥–∞—Ä–∞–Ω—Ç–∏–∏ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–π –æ—Ç—Ä–∏—Å–æ–≤–∫–∏
    setTimeout(() => {
        Plotly.Plots.resize('treemap');
    }, 800);

    // –§–∏–Ω–∞–ª—å–Ω—ã–π resize —á–µ—Ä–µ–∑ –±–æ–ª—å—à—É—é –∑–∞–¥–µ—Ä–∂–∫—É –¥–ª—è –ø–æ–ª–Ω–æ–π –∑–∞–≥—Ä—É–∑–∫–∏
    setTimeout(() => {
        Plotly.Plots.resize('treemap');
    }, 1500);

    // Drill-down –æ–±—Ä–∞–±–æ—Ç—á–∏–∫
    document.getElementById('treemap').on('plotly_click', function(eventData) {
        const clickedLabel = eventData.points[0].label;
        const clickedParent = eventData.points[0].parent;

        if (currentDrillLevel === 'regions' && clickedParent === '') {
            // –ö–ª–∏–∫ –ø–æ —Ä–µ–≥–∏–æ–Ω—É -> –ø—Ä–æ–≤–∞–ª–∏—Ç—å—Å—è –≤ —Ä–µ–≥–∏–æ–Ω
            currentDrillLevel = 'settlements';
            currentRegion = clickedLabel;
            renderTreemap(allData);  // –ø–µ—Ä–µ—Ä–∏—Å–æ–≤–∞—Ç—å —Å –ù–ü —Ä–µ–≥–∏–æ–Ω–∞

        } else if (currentDrillLevel === 'settlements' && clickedParent !== '') {
            // –ö–ª–∏–∫ –ø–æ –ù–ü -> —Ñ–∏–ª—å—Ç—Ä–æ–≤–∞—Ç—å –¥–∞—à–±–æ—Ä–¥
            const settlementCheckboxes = document.querySelectorAll('.settlement-checkbox');
            settlementCheckboxes.forEach(cb => {
                cb.checked = (cb.value === clickedLabel);
            });
            updateMultiSelectButton('settlement-checkbox', 'settlement-filter-button');
            applyFilters();
        }
    });

    // –ü–æ–∫–∞–∑–∞—Ç—å/—Å–∫—Ä—ã—Ç—å –∫–Ω–æ–ø–∫—É "–ù–∞–∑–∞–¥" –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —É—Ä–æ–≤–Ω—è
    const backBtn = document.getElementById('treemap-back-btn');
    if (currentDrillLevel === 'settlements') {
        backBtn.style.display = 'inline-block';
    } else {
        backBtn.style.display = 'none';
    }
}

// ============================================================================
// EVENT LISTENERS
// ============================================================================

// Multi-select dropdown toggle –¥–ª—è —Ä–µ–≥–∏–æ–Ω–æ–≤
const regionButton = document.getElementById('region-filter-button');
if (regionButton) {
    regionButton.addEventListener('click', function(e) {
        e.stopPropagation();
        const dropdown = document.getElementById('region-filter-dropdown');
        dropdown.style.display = dropdown.style.display === 'none' ? 'block' : 'none';
        // –ó–∞–∫—Ä—ã—Ç—å dropdown –ù–ü
        const settlementDropdown = document.getElementById('settlement-filter-dropdown');
        if (settlementDropdown) settlementDropdown.style.display = 'none';
    });
}

// Multi-select dropdown toggle –¥–ª—è –ù–ü
const settlementButton = document.getElementById('settlement-filter-button');
if (settlementButton) {
    settlementButton.addEventListener('click', function(e) {
        e.stopPropagation();
        const dropdown = document.getElementById('settlement-filter-dropdown');
        dropdown.style.display = dropdown.style.display === 'none' ? 'block' : 'none';
        // –ó–∞–∫—Ä—ã—Ç—å dropdown —Ä–µ–≥–∏–æ–Ω–æ–≤
        const regionDropdown = document.getElementById('region-filter-dropdown');
        if (regionDropdown) regionDropdown.style.display = 'none';
    });
}

// –ó–∞–∫—Ä—ã—Ç—å dropdowns –ø—Ä–∏ –∫–ª–∏–∫–µ –≤–Ω–µ
document.addEventListener('click', function() {
    document.querySelectorAll('.multi-select-dropdown').forEach(d => d.style.display = 'none');
});

// Event listeners –¥–ª—è —á–µ–∫–±–æ–∫—Å–æ–≤ —Ä–µ–≥–∏–æ–Ω–æ–≤
document.querySelectorAll('.region-checkbox').forEach(cb => {
    cb.addEventListener('change', function() {
        updateMultiSelectButton('region-checkbox', 'region-filter-button');
        updateSettlementOptions();
        applyFilters(activeCategory);
    });
});

// –°–±—Ä–æ—Å —Ñ–∏–ª—å—Ç—Ä–∞ —Ä–µ–≥–∏–æ–Ω–æ–≤
const regionResetBtn = document.getElementById('region-filter-reset');
if (regionResetBtn) {
    regionResetBtn.addEventListener('click', function(e) {
        e.stopPropagation();
        document.querySelectorAll('.region-checkbox').forEach(cb => cb.checked = false);
        updateMultiSelectButton('region-checkbox', 'region-filter-button');
        updateSettlementOptions();
        applyFilters(activeCategory);
    });
}

// –°–±—Ä–æ—Å —Ñ–∏–ª—å—Ç—Ä–∞ –Ω–∞—Å–µ–ª—ë–Ω–Ω—ã—Ö –ø—É–Ω–∫—Ç–æ–≤
const settlementResetBtn = document.getElementById('settlement-filter-reset');
if (settlementResetBtn) {
    settlementResetBtn.addEventListener('click', function(e) {
        e.stopPropagation();
        document.querySelectorAll('.settlement-checkbox').forEach(cb => cb.checked = false);
        updateMultiSelectButton('settlement-checkbox', 'settlement-filter-button');
        applyFilters(activeCategory);
    });
}

// –°–±—Ä–æ—Å –≤—Å–µ—Ö —Ñ–∏–ª—å—Ç—Ä–æ–≤
const resetAllBtn = document.getElementById('reset-all-filters');
if (resetAllBtn) {
    resetAllBtn.addEventListener('click', function() {
        // –°–±—Ä–æ—Å multi-select —Ñ–∏–ª—å—Ç—Ä–æ–≤
        document.querySelectorAll('.region-checkbox').forEach(cb => cb.checked = false);
        document.querySelectorAll('.settlement-checkbox').forEach(cb => cb.checked = false);
        updateMultiSelectButton('region-checkbox', 'region-filter-button');
        updateMultiSelectButton('settlement-checkbox', 'settlement-filter-button');

        // –°–±—Ä–æ—Å single-select —Ñ–∏–ª—å—Ç—Ä–æ–≤
        const categorySelect = document.getElementById('filter-category');
        const arcticSelect = document.getElementById('filter-arctic');
        if (categorySelect) categorySelect.value = '';
        if (arcticSelect) arcticSelect.value = '';

        // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö
        updateSettlementOptions();
        applyFilters(activeCategory);
        updateResetAllButton();

        console.log('–í—Å–µ —Ñ–∏–ª—å—Ç—Ä—ã —Å–±—Ä–æ—à–µ–Ω—ã');
    });
}

// –§–∏–ª—å—Ç—Ä –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ (single-select –æ—Å—Ç–∞—ë—Ç—Å—è)
const categorySelect = document.getElementById('filter-category');
if (categorySelect) {
    categorySelect.addEventListener('change', function() {
        const category = this.value;

        // –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä—É–µ–º —Å KPI –∫–∞—Ä—Ç–æ—á–∫–∞–º–∏
        const cards = document.querySelectorAll('.kpi-card');
        cards.forEach(c => c.classList.remove('active'));

        if (category) {
            activeCategory = category;
            const card = document.querySelector(`.kpi-card[data-category="${category}"]`);
            if (card) card.classList.add('active');
        } else {
            activeCategory = null;
        }

        applyFilters(category);
    });
}

// Arctic zone filter event listener
const arcticSelect = document.getElementById('filter-arctic');
if (arcticSelect) {
    arcticSelect.addEventListener('change', function() {
        applyFilters(activeCategory);
    });

    // –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –∫–Ω–æ–ø–∫–∏ "–ù–∞–∑–∞–¥ –∫ —Ä–µ–≥–∏–æ–Ω–∞–º"
    const treemapBackBtn = document.getElementById('treemap-back-btn');
    treemapBackBtn.addEventListener('click', function() {
        currentDrillLevel = 'regions';
        currentRegion = null;
        renderTreemap(allData);
    });
}

// ============================================================================
// –ò–ù–ò–¶–ò–ê–õ–ò–ó–ê–¶–ò–Ø
// ============================================================================

// –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
console.log('‚úÖ –î–∞—à–±–æ—Ä–¥ –∑–∞–≥—Ä—É–∂–µ–Ω');
console.log(`üìä –í—Å–µ–≥–æ –¥–∞–Ω–Ω—ã—Ö: ${allData.length} –ù–ü`);
console.log(`üìç –†–µ–≥–∏–æ–Ω–æ–≤: ${new Set(allData.map(d => d.region_name)).size}`);

// –†–µ–Ω–¥–µ—Ä–∏–º –≥—Ä–∞—Ñ–∏–∫–∏ —Å –ø–æ–ª–Ω—ã–º –Ω–∞–±–æ—Ä–æ–º –¥–∞–Ω–Ω—ã—Ö
renderTreemap(allData);

// –ó–∞–ø–æ–ª–Ω—è–µ–º —Å–ø–∏—Å–æ–∫ –ù–ü
updateSettlementOptions();
applyFilters();

// –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ–º —Å–æ—Å—Ç–æ—è–Ω–∏–µ –∫–Ω–æ–ø–∫–∏ "–°–±—Ä–æ—Å–∏—Ç—å –≤—Å–µ"
updateResetAllButton();

// === CRITICAL SETTLEMENTS WIDGET ===

// –§—É–Ω–∫—Ü–∏—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ —Ç–∞–±–ª–∏—Ü—ã –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –ù–ü
function renderCriticalSettlements() {
    // –§–∏–ª—å—Ç—Ä—É–µ–º –ù–ü —Å NDI < 3.0
    const critical = arcticData.filter(d => d.ndi_10 < 3.0)
        .sort((a, b) => a.ndi_10 - b.ndi_10)
        .slice(0, 15);

    const tbody = document.getElementById('criticalTableBody');
    tbody.innerHTML = '';

    critical.forEach((d, i) => {
        const tr = document.createElement('tr');
        tr.onclick = () => highlightSettlement(d.settlement_name);
        tr.innerHTML = `
            <td>${i + 1}</td>
            <td><strong>${d.settlement_name}</strong></td>
            <td><strong style="color:#e74c3c">${d.ndi_10.toFixed(2)}</strong></td>
            <td>${d.region_name}</td>
            <td><span class="badge badge-risk">AT RISK</span></td>
        `;
        tbody.appendChild(tr);
    });

    // Treemap –¥–ª—è –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –ù–ü
    renderCriticalTreemap(critical);
}

// –§—É–Ω–∫—Ü–∏—è –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏ treemap –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –ù–ü
function renderCriticalTreemap(data) {
    const labels = data.map(d => d.settlement_name);
    const parents = data.map(d => d.region_name);
    const values = data.map(d => 1); // –†–∞–≤–Ω—ã–µ —Ä–∞–∑–º–µ—Ä—ã
    const colors = data.map(d => d.ndi_10);

    const trace = {
        type: 'treemap',
        labels: labels,
        parents: parents,
        values: values,
        marker: {
            colors: colors,
            colorscale: [
                [0, 'rgb(165,0,38)'],
                [0.5, 'rgb(244,109,67)'],
                [1, 'rgb(254,224,139)']
            ],
            showscale: false
        },
        textposition: 'middle center',
        hovertemplate: '<b>%{label}</b><br>NDI: %{color:.2f}<extra></extra>'
    };

    const layout = {
        margin: { t: 0, l: 0, r: 0, b: 0 },
        autosize: true
    };

    Plotly.newPlot('critical-treemap', [trace], layout, { responsive: true });
}

// –§—É–Ω–∫—Ü–∏—è –ø–æ–¥—Å–≤–µ—Ç–∫–∏ –≤—ã–±—Ä–∞–Ω–Ω–æ–≥–æ –ù–ü (–∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–º–∏ –≥—Ä–∞—Ñ–∏–∫–∞–º–∏)
function highlightSettlement(name) {
    console.log('–í—ã–±—Ä–∞–Ω –ù–ü:', name);
    // TODO: Waterfall/Radar –≥—Ä–∞—Ñ–∏–∫–∏ –≤—Ä–µ–º–µ–Ω–Ω–æ —É–¥–∞–ª–µ–Ω—ã, –±—É–¥—É—Ç –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã –ø–æ–∑–∂–µ
    alert('–í—ã–±—Ä–∞–Ω –ù–ü: ' + name + '\n\n–î–µ—Ç–∞–ª—å–Ω—ã–µ –≥—Ä–∞—Ñ–∏–∫–∏ –±—É–¥—É—Ç –¥–æ–±–∞–≤–ª–µ–Ω—ã –ø–æ–∑–∂–µ.');
}

// –í—ã–∑–≤–∞—Ç—å –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
renderCriticalSettlements();

</script>

</body>
</html>
