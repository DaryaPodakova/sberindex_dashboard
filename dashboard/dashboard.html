<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ARCTIC INDEX - –ò–Ω–¥–µ–∫—Å —Ä–∞–∑–≤–∏—Ç–∏—è –∞—Ä–∫—Ç–∏—á–µ—Å–∫–∏—Ö –ù–ü</title>
    <script src="https://cdn.plot.ly/plotly-3.1.1.min.js"></script>
    <script src="ndi_widget.js"></script>
    <script src="arctic_table.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: #f5f7fa;
            color: #2c3e50;
        }

        /* –ö–æ–º–ø–∞–∫—Ç–Ω—ã–π header –¥–ª—è –≤—Å–µ–≥–æ –¥–∞—à–±–æ—Ä–¥–∞ */
        .header {
            background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%);
            color: white;
            padding: 15px 40px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.2);
            position: relative;
            overflow: hidden;
        }

        .header::after {
            content: '';
            position: absolute;
            right: -50px;
            top: -20px;
            width: 200px;
            height: 200px;
            background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 200 200'%3E%3Cpath d='M100,20 L120,40 L140,35 L145,50 L160,55 L155,70 L165,85 L150,95 L145,110 L130,105 L120,120 L105,115 L95,125 L85,120 L75,130 L65,120 L55,125 L50,110 L40,105 L35,90 L25,85 L30,70 L20,60 L30,50 L35,40 L50,35 L60,25 L75,30 L85,20 L100,20 Z' fill='none' stroke='rgba(255,255,255,0.1)' stroke-width='2'/%3E%3Ccircle cx='100' cy='70' r='3' fill='rgba(255,255,255,0.2)'/%3E%3Ccircle cx='130' cy='85' r='2' fill='rgba(255,255,255,0.15)'/%3E%3Ccircle cx='70' cy='90' r='2' fill='rgba(255,255,255,0.15)'/%3E%3C/svg%3E");
            background-size: contain;
            background-repeat: no-repeat;
            opacity: 0.3;
        }

        .header h1 {
            font-size: 28px;
            margin: 0;
            font-weight: 700;
            letter-spacing: 2px;
        }

        .header p {
            font-size: 14px;
            margin: 5px 0 0 0;
            opacity: 0.9;
        }

        /* Tabs Navigation */
        .tabs-navigation {
            display: flex;
            justify-content: center;
            gap: 0;
            background: white;
            border-bottom: 3px solid #e0e0e0;
            padding: 0 40px;
            position: sticky;
            top: 0;
            z-index: 100;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }

        .tab-btn {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 5px;
            padding: 15px 30px;
            background: none;
            border: none;
            border-bottom: 3px solid transparent;
            cursor: pointer;
            font-size: 14px;
            font-weight: 600;
            color: #7f8c8d;
            transition: all 0.3s ease;
        }

        .tab-btn:hover {
            background: #f8f9fa;
            color: #2c3e50;
        }

        .tab-btn.active {
            color: #667eea;
            border-bottom-color: #667eea;
            background: #f0f4ff;
        }

        .tab-icon {
            font-size: 24px;
        }

        .tab-content {
            display: none;
            animation: fadeIn 0.4s ease-in-out;
        }

        .tab-content.active {
            display: block;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* Intro Section */
        .intro-section {
            background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
            padding: 50px 40px;
            text-align: center;
            position: relative;
            overflow: hidden;
        }

        .intro-section::before {
            content: '';
            position: absolute;
            left: 50%;
            top: 50%;
            transform: translate(-50%, -50%);
            width: 600px;
            height: 600px;
            background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 400 400'%3E%3Cpath d='M200,40 L240,80 L280,70 L290,100 L320,110 L310,140 L330,170 L300,190 L290,220 L260,210 L240,240 L210,230 L190,250 L170,240 L150,260 L130,240 L110,250 L100,220 L80,210 L70,180 L50,170 L60,140 L40,120 L60,100 L70,80 L100,70 L120,50 L150,60 L170,40 L200,40 Z' fill='none' stroke='rgba(102,126,234,0.15)' stroke-width='3'/%3E%3Ccircle cx='200' cy='140' r='5' fill='rgba(102,126,234,0.2)'/%3E%3Ccircle cx='260' cy='170' r='4' fill='rgba(102,126,234,0.15)'/%3E%3Ccircle cx='140' cy='180' r='4' fill='rgba(102,126,234,0.15)'/%3E%3C/svg%3E");
            background-size: contain;
            background-repeat: no-repeat;
            opacity: 0.4;
            z-index: 0;
        }

        .intro-section h2 {
            position: relative;
            z-index: 1;
            font-size: 32px;
            margin-bottom: 30px;
            color: #2c3e50;
        }

        .intro-stats {
            position: relative;
            z-index: 1;
            display: flex;
            justify-content: center;
            gap: 50px;
            margin: 40px 0;
        }

        .stat {
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        .stat-number {
            font-size: 52px;
            font-weight: 800;
            color: #667eea;
        }

        .stat-label {
            font-size: 16px;
            color: #7f8c8d;
            margin-top: 8px;
        }

        .intro-text {
            position: relative;
            z-index: 1;
            font-size: 18px;
            color: #34495e;
            margin: 20px 0;
        }

        .intro-sources {
            position: relative;
            z-index: 1;
            font-size: 14px;
            color: #95a5a6;
        }

        /* Story Hero Section */
        .story-hero-section {
            background: white;
            padding: 40px;
            margin: 20px;
            border-radius: 12px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
        }

        .story-hero {
            display: flex;
            align-items: center;
            gap: 20px;
            margin-bottom: 30px;
        }

        .story-hero-icon {
            font-size: 64px;
        }

        .story-hero-badge {
            background: #f39c12;
            color: white;
            padding: 10px 20px;
            border-radius: 25px;
            font-weight: bold;
        }

        .story-text {
            line-height: 1.8;
        }

        .story-text h2 {
            color: #2c3e50;
            margin-bottom: 20px;
        }

        .story-text p {
            margin-bottom: 15px;
            color: #34495e;
        }

        .lead {
            font-size: 18px;
            font-weight: 500;
        }

        .highlight-blue {
            background: #e3f2fd;
            padding: 2px 8px;
            border-radius: 4px;
            font-weight: bold;
            color: #1976d2;
        }

        .highlight-green {
            background: #e8f5e9;
            padding: 2px 8px;
            border-radius: 4px;
            font-weight: bold;
            color: #388e3c;
        }

        .insight-quote {
            background: #fff3cd;
            border-left: 4px solid #ffc107;
            padding: 15px 20px;
            margin: 20px 0;
            font-style: italic;
        }

        .story-contrast {
            margin-top: 40px;
        }

        .story-contrast h3 {
            text-align: center;
            margin-bottom: 20px;
            color: #e74c3c;
        }

        .contrast-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin-bottom: 20px;
        }

        .contrast-card {
            padding: 20px;
            border-radius: 8px;
            border: 2px solid;
        }

        .contrast-card.good {
            background: #e8f5e9;
            border-color: #4caf50;
        }

        .contrast-card.bad {
            background: #ffebee;
            border-color: #f44336;
        }

        .story-question {
            text-align: center;
            font-size: 20px;
            color: #d32f2f;
            font-weight: bold;
            margin-top: 20px;
        }

        /* Section Navigation */
        .section-nav {
            text-align: center;
            padding: 30px;
            background: #f8f9fa;
        }

        .nav-btn {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            padding: 15px 40px;
            font-size: 16px;
            border-radius: 25px;
            cursor: pointer;
            font-weight: 600;
            transition: transform 0.2s ease, box-shadow 0.2s ease;
        }

        .nav-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 16px rgba(102,126,234,0.3);
        }

        /* Filters Section */
        .filters-section {
            background: white;
            padding: 30px 40px;
            margin: 20px;
            border-radius: 12px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
        }

        .filters-title {
            font-size: 18px;
            font-weight: bold;
            margin-bottom: 20px;
            color: #2c3e50;
        }

        .filters-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 20px;
        }

        .filter-group label {
            display: block;
            font-weight: 600;
            margin-bottom: 8px;
            color: #34495e;
        }

        .filter-group select {
            width: 100%;
            padding: 12px;
            border: 2px solid #e0e0e0;
            border-radius: 8px;
            font-size: 14px;
            transition: border-color 0.3s ease;
        }

        .filter-group select:focus {
            outline: none;
            border-color: #667eea;
        }

        /* Multi-select dropdown */
        .multi-select-wrapper {
            position: relative;
        }

        .multi-select-button {
            text-align: left;
            cursor: pointer;
            background: white;
            width: 100%;
            padding: 12px;
            border: 2px solid #e0e0e0;
            border-radius: 8px;
            font-size: 14px;
            transition: border-color 0.3s ease;
        }

        .multi-select-button:hover {
            border-color: #667eea;
        }

        .multi-select-dropdown {
            position: absolute;
            top: 100%;
            left: 0;
            right: 0;
            background: white;
            border: 1px solid #ced4da;
            border-radius: 8px;
            max-height: 250px;
            overflow-y: auto;
            z-index: 1000;
            box-shadow: 0 4px 12px rgba(0,0,0,0.15);
            margin-top: 4px;
        }

        .multi-select-dropdown label {
            display: block;
            padding: 8px 12px;
            margin: 0;
            cursor: pointer;
            font-weight: normal;
        }

        .multi-select-dropdown label:hover {
            background: #f8f9fa;
        }

        .multi-select-dropdown input[type="checkbox"] {
            margin-right: 8px;
        }

        /* Filters header with reset button on the right */
        .filters-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
        }

        .filters-header h4 {
            margin: 0;
            font-size: 18px;
            font-weight: bold;
            color: #2c3e50;
        }

        /* Compact filters grid layout */
        .control-panel {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
            gap: 10px;
            margin-bottom: 20px;
        }

        .form-group, .filter-group {
            margin-bottom: 0;
        }

        .form-group label, .filter-group label {
            font-size: 12px;
            font-weight: 600;
            margin-bottom: 3px;
            display: block;
        }

        /* Compact multi-select buttons */
        .multi-select-button {
            font-size: 13px;
            padding: 8px 10px;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }

        /* Reset button - gray by default, blue when active */
        .btn-reset {
            background: #6c757d;
            color: white;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-size: 18px;
            font-weight: bold;
            padding: 8px 12px;
            min-width: 40px;
            flex-shrink: 0;
            transition: background-color 0.2s;
        }
        .btn-reset:hover {
            background: #5a6268;
        }

        .btn-reset.active {
            background: #007bff;
        }

        .btn-reset.active:hover {
            background: #0056b3;
        }

        /* Reset all button - gray by default, blue when active */
        .btn-reset-all {
            background: #6c757d;
            color: white;
            border: none;
            border-radius: 4px;
            padding: 10px 16px;
            cursor: pointer;
            font-size: 13px;
            font-weight: bold;
            width: auto;
            min-width: 180px;
            white-space: nowrap;
            transition: background-color 0.2s;
        }
        .btn-reset-all:hover {
            background: #5a6268;
        }
        .btn-reset-all.active {
            background: #007bff;
        }
        .btn-reset-all.active:hover {
            background: #0056b3;
        }

        .filter-button-group {
            display: flex;
            gap: 5px;
            align-items: stretch;
        }

        .filter-button-group .multi-select-button {
            flex: 1;
        }

        /* KPI Cards */
        .kpi-section {
            padding: 0 40px 30px;
            margin: 0 20px;
        }

        .kpi-grid {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 20px;
        }

        .kpi-card {
            background: white;
            padding: 20px;
            border-radius: 12px;
            border: 1px solid #e0e0e0;
            border-left: 4px solid;
            cursor: pointer;
            transition: all 0.3s ease;
            text-align: center;
        }

        .kpi-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 20px rgba(0,0,0,0.15);
        }

        .kpi-card.active {
            box-shadow: 0 8px 20px rgba(0,0,0,0.2);
            transform: scale(1.05);
        }

        .kpi-card.critical {
            border-left-color: #d32f2f;
        }

        .kpi-card.low {
            border-left-color: #f57c00;
        }

        .kpi-card.medium {
            border-left-color: #fbc02d;
        }

        .kpi-card.high {
            border-left-color: #388e3c;
        }

        .kpi-card.critical:hover {
            background: rgba(211, 47, 47, 0.05);
        }

        .kpi-card.low:hover {
            background: rgba(245, 124, 0, 0.05);
        }

        .kpi-card.medium:hover {
            background: rgba(251, 192, 45, 0.05);
        }

        .kpi-card.high:hover {
            background: rgba(56, 142, 60, 0.05);
        }

        .kpi-label {
            font-size: 14px;
            color: #7f8c8d;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .kpi-value {
            font-size: 48px;
            font-weight: bold;
            margin: 10px 0;
        }

        .kpi-percent {
            font-size: 24px;
            font-weight: normal;
            opacity: 0.6;
            margin-left: 8px;
        }

        .kpi-description {
            font-size: 12px;
            color: #95a5a6;
        }

        /* Visualizations */
        .vis-section {
            background: white;
            padding: 30px 40px;
            margin: 20px;
            border-radius: 12px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
        }

        .vis-title {
            font-size: 20px;
            font-weight: bold;
            margin-bottom: 20px;
            color: #2c3e50;
        }

        /* Methodology Section */
        .methodology-section {
            background: white;
            padding: 40px;
            margin: 20px;
            border-radius: 12px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
        }

        .methodology-section h2 {
            color: #2c3e50;
            margin-bottom: 20px;
        }

        .methodology-section h3 {
            color: #667eea;
            margin: 30px 0 15px 0;
        }

        .methodology-section p {
            line-height: 1.8;
            color: #34495e;
            margin-bottom: 15px;
        }

        .methodology-formula {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 8px;
            font-family: 'Courier New', monospace;
            font-size: 16px;
            text-align: center;
            margin: 20px 0;
            border-left: 4px solid #667eea;
        }

        .component-list {
            list-style: none;
            padding: 0;
        }

        .component-list li {
            padding: 10px 0;
            border-bottom: 1px solid #e0e0e0;
        }

        .component-list li:last-child {
            border-bottom: none;
        }

        /* Public Benefit Section */
        .public-benefit-section {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 40px;
            margin: 20px;
            border-radius: 12px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
        }

        .public-benefit-section h2 {
            margin-bottom: 20px;
        }

        .benefit-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 20px;
            margin-top: 30px;
        }

        .benefit-card {
            background: rgba(255,255,255,0.1);
            padding: 20px;
            border-radius: 8px;
            backdrop-filter: blur(10px);
        }

        .benefit-icon {
            font-size: 48px;
            margin-bottom: 15px;
        }

        .benefit-title {
            font-size: 18px;
            font-weight: bold;
            margin-bottom: 10px;
        }

        .benefit-text {
            font-size: 14px;
            opacity: 0.9;
            line-height: 1.6;
        }

        /* CTA Section */
        .cta-section {
            background: white;
            padding: 60px 40px;
            margin: 20px;
            text-align: center;
            border-radius: 12px;
        }

        .cta-title {
            font-size: 36px;
            color: #2c3e50;
            margin-bottom: 20px;
        }

        .cta-subtitle {
            font-size: 18px;
            color: #7f8c8d;
            margin-bottom: 40px;
        }

        .cta-buttons {
            display: flex;
            justify-content: center;
            gap: 20px;
        }

        .cta-btn {
            padding: 15px 40px;
            font-size: 16px;
            font-weight: 600;
            border: none;
            border-radius: 25px;
            cursor: pointer;
            transition: transform 0.2s ease, box-shadow 0.2s ease;
        }

        .cta-btn.primary {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
        }

        .cta-btn.secondary {
            background: white;
            color: #667eea;
            border: 2px solid #667eea;
        }

        .cta-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 16px rgba(0,0,0,0.2);
        }

        /* Responsive */
        @media (max-width: 1024px) {
            .filters-grid {
                grid-template-columns: 1fr;
            }

            .kpi-grid {
                grid-template-columns: repeat(2, 1fr);
            }

            .contrast-grid {
                grid-template-columns: 1fr;
            }

            .benefit-grid {
                grid-template-columns: 1fr;
            }

            .intro-stats {
                flex-direction: column;
                gap: 30px;
            }
        }

        /* Critical Settlements Widget Styles */
        .panel-title {
            font-size: 16px;
            font-weight: 600;
            margin-bottom: 16px;
            color: #2c3e50;
            display: flex;
            align-items: center;
        }

        .panel-title .icon {
            font-size: 20px;
            margin-right: 10px;
        }

        .priority-table {
            width: 100%;
            border-collapse: collapse;
            font-size: 12px;
        }

        .priority-table th {
            background: #34495e;
            color: white;
            padding: 8px 10px;
            text-align: left;
            font-weight: 600;
            font-size: 11px;
        }

        .priority-table td {
            padding: 6px 8px;
            border-bottom: 1px solid #ecf0f1;
        }

        .priority-table tr:hover {
            background: #f8f9fa;
            cursor: pointer;
        }

        .badge {
            padding: 4px 10px;
            border-radius: 12px;
            font-size: 11px;
            font-weight: 600;
        }

        .badge-risk {
            background: #f39c12;
            color: white;
        }

        .table-container {
            overflow-y: auto;
            max-height: 320px;
        }

        /* ============================================================================ */
        /* NDI WIDGET STYLES - –î–µ–∫–æ–º–ø–æ–∑–∏—Ü–∏—è NDI –∏ —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ */
        /* ============================================================================ */
        .ndi-widget-panel {
            background: white;
            border-radius: 12px;
            padding: 24px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.08);
            transition: box-shadow 0.3s;
            margin-bottom: 20px;
        }

        .ndi-widget-panel:hover {
            box-shadow: 0 4px 16px rgba(0,0,0,0.12);
        }

        .ndi-widget-panel-title {
            font-size: 18px;
            font-weight: 600;
            margin-bottom: 16px;
            color: #2c3e50;
            display: flex;
            align-items: center;
        }

        .ndi-widget-panel-title .icon {
            font-size: 24px;
            margin-right: 10px;
        }

        .ndi-widget-controls {
            display: flex;
            gap: 15px;
            margin-bottom: 20px;
            flex-wrap: wrap;
        }

        .control-group {
            display: flex;
            flex-direction: column;
            gap: 5px;
        }

        .control-group label {
            font-size: 12px;
            font-weight: 600;
            color: #34495e;
            text-transform: uppercase;
        }

        .control-group select {
            padding: 8px 12px;
            border: 1px solid #bdc3c7;
            border-radius: 6px;
            font-size: 14px;
            font-family: 'Segoe UI', Arial, sans-serif;
            background: white;
            cursor: pointer;
            transition: border-color 0.3s;
        }

        .control-group select:hover {
            border-color: #3498db;
        }

        .control-group select:focus {
            outline: none;
            border-color: #3498db;
            box-shadow: 0 0 0 3px rgba(52, 152, 219, 0.1);
        }

        .control-group input[type="text"] {
            padding: 8px 12px;
            border: 1px solid #bdc3c7;
            border-radius: 6px;
            font-size: 14px;
            font-family: 'Segoe UI', Arial, sans-serif;
            background: white;
            transition: border-color 0.3s;
        }

        .control-group input[type="text"]:focus {
            outline: none;
            border-color: #3498db;
            box-shadow: 0 0 0 3px rgba(52, 152, 219, 0.1);
        }

        .ndi-widget-filter-group {
            display: flex;
            gap: 1%;
            align-items: flex-end;
            flex-wrap: wrap;
        }

        .ndi-widget-filter-group .control-group {
            flex: 0 0 18%;
            min-width: 150px;
        }

        .ndi-widget-filter-group .control-group:nth-child(2) {
            flex: 0 0 28%;
            min-width: 200px;
        }

        .ndi-widget-reset-btn {
            padding: 8px 14px;
            border: 2px solid #bdc3c7;
            border-radius: 6px;
            background: white;
            color: #7f8c8d;
            font-size: 16px;
            cursor: pointer;
            transition: all 0.3s;
            min-width: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .ndi-widget-reset-btn:hover {
            background: #ecf0f1;
        }

        .ndi-widget-reset-btn.active {
            border-color: #3498db;
            color: #3498db;
            background: #f0f8ff;
        }

        .ndi-widget-reset-all-btn {
            padding: 8px 16px;
            border: 2px solid #bdc3c7;
            border-radius: 6px;
            background: white;
            color: #7f8c8d;
            font-size: 13px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            white-space: nowrap;
        }

        .ndi-widget-reset-all-btn:hover {
            background: #ecf0f1;
        }

        .ndi-widget-reset-all-btn.active {
            border-color: #3498db;
            background: #3498db;
            color: white;
        }

        .ndi-widget-reset-all-btn.active:hover {
            background: #2980b9;
            border-color: #2980b9;
        }

        .ndi-widget-reset-btn.active:hover {
            background: #e1f0ff;
        }

        .ndi-widget-charts-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
        }

        .ndi-widget-chart-container {
            background: #fafbfc;
            border-radius: 8px;
            padding: 15px;
            position: relative;
            overflow: hidden;
        }

        @media (max-width: 1200px) {
            .ndi-widget-charts-grid {
                grid-template-columns: 1fr;
            }
        }

        .ndi-widget-info-box {
            background: #f0f8ff;
            border-left: 4px solid #3498db;
            padding: 15px;
            margin-bottom: 20px;
            border-radius: 4px;
        }

        .ndi-widget-info-box p {
            font-size: 14px;
            line-height: 1.6;
            color: #2c3e50;
        }

        /* ============================================================================ */
        /* ARCTIC TABLE STYLES - –¢–∞–±–ª–∏—Ü–∞ –Ω–∞—Å–µ–ª—ë–Ω–Ω—ã—Ö –ø—É–Ω–∫—Ç–æ–≤ */
        /* ============================================================================ */
        .loading {
            text-align: center;
            padding: 40px;
            font-size: 16px;
            color: #7f8c8d;
        }

        .error {
            display: none;
            text-align: center;
            padding: 40px;
            color: #e74c3c;
            font-size: 16px;
        }

        .sort-icon {
            font-size: 10px;
            opacity: 0.5;
            margin-left: 4px;
        }

        .priority-table th[data-sort] {
            user-select: none;
            cursor: pointer;
        }

        .priority-table th[data-sort]:hover {
            background: #415b76;
        }

        .score-cell {
            text-align: center;
        }

        .badge {
            padding: 3px 8px;
            border-radius: 10px;
            font-size: 10px;
            font-weight: 600;
            white-space: nowrap;
        }

        .badge-arctic {
            background: #3498db;
            color: white;
        }

        .temp-cold {
            color: #3498db;
            font-weight: 600;
        }

        .temp-hot {
            color: #e74c3c;
            font-weight: 600;
        }
    </style>
</head>
<body>

<header class="header">
    <h1>ARCTIC INDEX</h1>
    <p>–ò–Ω–¥–µ–∫—Å —Ä–∞–∑–≤–∏—Ç–∏—è –∞—Ä–∫—Ç–∏—á–µ—Å–∫–∏—Ö –Ω–∞—Å–µ–ª—ë–Ω–Ω—ã—Ö –ø—É–Ω–∫—Ç–æ–≤</p>
</header>

<nav class="tabs-navigation">
    <button type="button" class="tab-btn active" onclick="switchTab('story')">
        <span class="tab-icon">üìñ</span>
        <span>–í—Å—Ç—É–ø–ª–µ–Ω–∏–µ</span>
    </button>
    <button type="button" class="tab-btn" onclick="switchTab('dashboard')">
        <span class="tab-icon">üìä</span>
        <span>–î–∞—à–±–æ—Ä–¥</span>
    </button>
    <button type="button" class="tab-btn" onclick="switchTab('methodology')">
        <span class="tab-icon">üî¨</span>
        <span>–ú–µ—Ç–æ–¥–æ–ª–æ–≥–∏—è</span>
    </button>
</nav>

<!-- –í–ö–õ–ê–î–ö–ê 1: –í–°–¢–£–ü–õ–ï–ù–ò–ï -->
<div id="tab-story" class="tab-content active">

<section class="intro-section">
    <h2>–ê–†–ö–¢–ò–ö–ê: –¢–ï–†–†–ò–¢–û–†–ò–Ø –ö–û–ù–¢–†–ê–°–¢–û–í</h2>
    <div class="intro-stats">
        <div class="stat">
            <span class="stat-number">650k+</span>
            <span class="stat-label">–ñ–∏—Ç–µ–ª–µ–π</span>
        </div>
        <div class="stat">
            <span class="stat-number">128</span>
            <span class="stat-label">–ù–∞—Å–µ–ª—ë–Ω–Ω—ã—Ö –ø—É–Ω–∫—Ç–æ–≤</span>
        </div>
        <div class="stat">
            <span class="stat-number">60%</span>
            <span class="stat-label">–ù–∞ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–æ–º —É—Ä–æ–≤–Ω–µ</span>
        </div>
    </div>
</section>

<section class="story-hero-section">
    <div class="story-container">
        <div class="story-text" style="max-width: 900px; margin: 0 auto; line-height: 1.8;">
            <p style="font-size: 18px; margin-bottom: 20px;">
                –í –ê—Ä–∫—Ç–∏–∫–µ –∂–∏–≤—É—Ç –±–æ–ª–µ–µ <strong>650 —Ç—ã—Å—è—á —á–µ–ª–æ–≤–µ–∫</strong> –≤ <strong>128 –Ω–∞—Å–µ–ª—ë–Ω–Ω—ã—Ö –ø—É–Ω–∫—Ç–∞—Ö</strong>.
                –°–æ–∑–¥–∞–Ω–Ω—ã–π –º–Ω–æ–π –∏–Ω–¥–µ–∫—Å <strong style="color: #2196F3;">NDI</strong> –ø–æ–∑–≤–æ–ª—è–µ—Ç —É–≤–∏–¥–µ—Ç—å, –Ω–∞—Å–∫–æ–ª—å–∫–æ —ç—Ç–∏ –ø–æ—Å–µ–ª–µ–Ω–∏—è —É—Å—Ç–æ–π—á–∏–≤—ã –∏ –ø—Ä–∏–≤–ª–µ–∫–∞—Ç–µ–ª—å–Ω—ã –¥–ª—è –ª—é–¥–µ–π, –∂–∏–≤—É—â–∏—Ö –≤ –æ–¥–Ω–æ–º –∏–∑ —Å–∞–º—ã—Ö —Å—É—Ä–æ–≤—ã—Ö –∫–ª–∏–º–∞—Ç–æ–≤ –ø–ª–∞–Ω–µ—Ç—ã.
            </p>

            <p style="font-size: 18px; margin-bottom: 20px;">
                –°–µ–≥–æ–¥–Ω—è <strong style="color: #f44336;">60% –Ω–∞—Å–µ–ª—ë–Ω–Ω—ã—Ö –ø—É–Ω–∫—Ç–æ–≤</strong> –Ω–∞—Ö–æ–¥—è—Ç—Å—è –Ω–∞ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–æ–º –∏–ª–∏ –Ω–∏–∑–∫–æ–º —É—Ä–æ–≤–Ω–µ —Ä–∞–∑–≤–∏—Ç–∏—è.
                <strong style="color: #2196F3;">NDI</strong> –¥–∞—ë—Ç –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —É–≤–∏–¥–µ—Ç—å –∫–∞—Ä—Ç–∏–Ω—É —Å—Ä–∞–∑—É –Ω–∞ –¥–≤—É—Ö –º–∞—Å—à—Ç–∞–±–∞—Ö:
            </p>

            <ul style="font-size: 18px; margin: 20px 0; padding-left: 40px;">
                <li style="margin-bottom: 10px;">–æ–±—â—É—é —Å–∏—Ç—É–∞—Ü–∏—é –ø–æ —Ä–µ–≥–∏–æ–Ω—É,</li>
                <li>–∏ —Å—Ä–µ–¥–Ω–∏–π —É—Ä–æ–≤–µ–Ω—å —Ä–∞–∑–≤–∏—Ç–∏—è –∫–∞–∂–¥–æ–≥–æ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –Ω–∞—Å–µ–ª—ë–Ω–Ω–æ–≥–æ –ø—É–Ω–∫—Ç–∞.</li>
            </ul>

            <p style="font-size: 18px; margin-bottom: 20px;">
                –ù–∞ –≤—Ç–æ—Ä–æ–π –≤–∫–ª–∞–¥–∫–µ –¥–∞—à–±–æ—Ä–¥–∞ –º–æ–∂–Ω–æ —É–≤–∏–¥–µ—Ç—å <strong>—Ä–µ–≥–∏–æ–Ω–∞–ª—å–Ω—ã–µ —Ä–∞–∑–ª–∏—á–∏—è</strong>,
                –∞ –Ω–∞ –≤–∫–ª–∞–¥–∫–µ <strong>–ú–µ—Ç–æ–¥–∏–∫–∞</strong> ‚Äî –ø–æ–ª–Ω—ã–π —Ä–∞–∑–±–æ—Ä —Ñ–æ—Ä–º—É–ª—ã –∏ –≤—ã—á–∏—Å–ª–µ–Ω–∏–π, —á—Ç–æ–±—ã –ª—é–±–æ–π —Å–ø–µ—Ü–∏–∞–ª–∏—Å—Ç –º–æ–≥ –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ—Å—Ç–∏ –∏–ª–∏ —É–ª—É—á—à–∏—Ç—å –º–æ–π —Ä–∞—Å—á—ë—Ç.
            </p>

            <p style="font-size: 18px; margin-bottom: 30px;">
                –ò–º–µ–Ω–Ω–æ –±–ª–∞–≥–æ–¥–∞—Ä—è –¥–∞–Ω–Ω—ã–º <strong>–†–æ—Å—Å—Ç–∞—Ç–∞</strong>, <strong>–°–±–µ—Ä–ò–Ω–¥–µ–∫—Å–∞</strong> –∏ <strong>Open-Meteo</strong> —É–¥–∞–ª–æ—Å—å –ø–æ—Å—Ç—Ä–æ–∏—Ç—å –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç, –∫–æ—Ç–æ—Ä—ã–π –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç, —á—Ç–æ —É–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –ª—é–¥–µ–π –≤ –ê—Ä–∫—Ç–∏–∫–µ,
                –∏ –ø–æ—á–µ–º—É –æ–¥–Ω–∏ —Ç–µ—Ä—Ä–∏—Ç–æ—Ä–∏–∏ –≤—ã–∂–∏–≤–∞—é—Ç –∏ —Ä–∞–∑–≤–∏–≤–∞—é—Ç—Å—è, –∞ –¥—Ä—É–≥–∏–µ ‚Äî —Å—Ç—Ä–µ–º–∏—Ç–µ–ª—å–Ω–æ —Ç–µ—Ä—è—é—Ç –Ω–∞—Å–µ–ª–µ–Ω–∏–µ.
            </p>

            <p style="font-size: 20px; font-style: italic; color: #6c757d; text-align: center; margin: 40px 0; padding: 30px; background: #f8f9fa; border-radius: 10px; border-left: 4px solid #2196F3;">
                ¬´–ê —Ç–µ–ø–µ—Ä—å –ø–æ—Å–º–æ—Ç—Ä–∏–º, –≥–¥–µ –≤ –Ω–∞—à–µ–π —Å—É—Ä–æ–≤–æ–π –ê—Ä–∫—Ç–∏–∫–µ –º–æ–∂–Ω–æ –Ω–µ —Ç–æ–ª—å–∫–æ –∂–∏—Ç—å, –Ω–æ –∏ —Ö–æ—Ç—å –Ω–µ–º–Ω–æ–≥–æ –ø–æ–≥—Ä–µ—Ç—å—Å—è...¬ª
            </p>
        </div>
    </div>
</section>

<div class="section-nav">
    <button type="button" class="nav-btn" onclick="switchTab('dashboard')">–ü–µ—Ä–µ–π—Ç–∏ –∫ –¥–∞—à–±–æ—Ä–¥—É ‚Üí</button>
</div>

</div>
<!-- –ö–û–ù–ï–¶ –í–ö–õ–ê–î–ö–ò 1: –í–°–¢–£–ü–õ–ï–ù–ò–ï -->

<!-- –í–ö–õ–ê–î–ö–ê 2: –î–ê–®–ë–û–†–î -->
<div id="tab-dashboard" class="tab-content">

<!-- –§–ò–õ–¨–¢–†–´ -->
<section class="filters-section">
    <div class="filters-header">
        <h4 style="color: #6c757d;">–í—ã–±–µ—Ä–∏—Ç–µ —Ñ–∏–ª—å—Ç—Ä</h4>
        <button type="button" class="btn-reset-all" id="reset-all-filters">
            üîÑ –°–±—Ä–æ—Å–∏—Ç—å –≤—Å–µ
        </button>
    </div>

    <div class="control-panel">
        <div class="filter-group">
            <label id="region-filter-label">–†–µ–≥–∏–æ–Ω</label>
            <div class="multi-select-wrapper" id="region-filter-wrapper">
                <div class="filter-button-group">
                    <button type="button" class="multi-select-button" id="region-filter-button" aria-labelledby="region-filter-label">
                        –í—Å–µ —Ä–µ–≥–∏–æ–Ω—ã ‚ñº
                    </button>
                    <button type="button" class="btn-reset" id="region-filter-reset" title="–°–±—Ä–æ—Å–∏—Ç—å —Ñ–∏–ª—å—Ç—Ä —Ä–µ–≥–∏–æ–Ω–æ–≤">√ó</button>
                </div>
                <div class="multi-select-dropdown" id="region-filter-dropdown" style="display: none;">
                    <label><input type="checkbox" class="region-checkbox" value="–ê—Ä—Ö–∞–Ω–≥–µ–ª—å—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å"> –ê—Ä—Ö–∞–Ω–≥–µ–ª—å—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å</label>
                    <label><input type="checkbox" class="region-checkbox" value="–ö—Ä–∞—Å–Ω–æ—è—Ä—Å–∫–∏–π –∫—Ä–∞–π"> –ö—Ä–∞—Å–Ω–æ—è—Ä—Å–∫–∏–π –∫—Ä–∞–π</label>
                    <label><input type="checkbox" class="region-checkbox" value="–ú—É—Ä–º–∞–Ω—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å"> –ú—É—Ä–º–∞–Ω—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å</label>
                    <label><input type="checkbox" class="region-checkbox" value="–ù–µ–Ω–µ—Ü–∫–∏–π –∞–≤—Ç–æ–Ω–æ–º–Ω—ã–π –æ–∫—Ä—É–≥"> –ù–µ–Ω–µ—Ü–∫–∏–π –∞–≤—Ç–æ–Ω–æ–º–Ω—ã–π –æ–∫—Ä—É–≥</label>
                    <label><input type="checkbox" class="region-checkbox" value="–†–µ—Å–ø—É–±–ª–∏–∫–∞ –ö–∞—Ä–µ–ª–∏—è"> –†–µ—Å–ø—É–±–ª–∏–∫–∞ –ö–∞—Ä–µ–ª–∏—è</label>
                    <label><input type="checkbox" class="region-checkbox" value="–†–µ—Å–ø—É–±–ª–∏–∫–∞ –ö–æ–º–∏"> –†–µ—Å–ø—É–±–ª–∏–∫–∞ –ö–æ–º–∏</label>
                    <label><input type="checkbox" class="region-checkbox" value="–†–µ—Å–ø—É–±–ª–∏–∫–∞ –°–∞—Ö–∞ (–Ø–∫—É—Ç–∏—è)"> –†–µ—Å–ø—É–±–ª–∏–∫–∞ –°–∞—Ö–∞ (–Ø–∫—É—Ç–∏—è)</label>
                    <label><input type="checkbox" class="region-checkbox" value="–•–∞–Ω—Ç—ã-–ú–∞–Ω—Å–∏–π—Å–∫–∏–π –∞–≤—Ç–æ–Ω–æ–º–Ω—ã–π –æ–∫—Ä—É–≥ - –Æ–≥—Ä–∞"> –•–∞–Ω—Ç—ã-–ú–∞–Ω—Å–∏–π—Å–∫–∏–π –∞–≤—Ç–æ–Ω–æ–º–Ω—ã–π –æ–∫—Ä—É–≥ - –Æ–≥—Ä–∞</label>
                    <label><input type="checkbox" class="region-checkbox" value="–ß—É–∫–æ—Ç—Å–∫–∏–π –∞–≤—Ç–æ–Ω–æ–º–Ω—ã–π –æ–∫—Ä—É–≥"> –ß—É–∫–æ—Ç—Å–∫–∏–π –∞–≤—Ç–æ–Ω–æ–º–Ω—ã–π –æ–∫—Ä—É–≥</label>
                    <label><input type="checkbox" class="region-checkbox" value="–Ø–º–∞–ª–æ-–ù–µ–Ω–µ—Ü–∫–∏–π –∞–≤—Ç–æ–Ω–æ–º–Ω—ã–π –æ–∫—Ä—É–≥"> –Ø–º–∞–ª–æ-–ù–µ–Ω–µ—Ü–∫–∏–π –∞–≤—Ç–æ–Ω–æ–º–Ω—ã–π –æ–∫—Ä—É–≥</label>
                </div>
            </div>
        </div>

        <div class="filter-group">
            <label id="settlement-filter-label">–ù–∞—Å–µ–ª—ë–Ω–Ω—ã–π –ø—É–Ω–∫—Ç</label>
            <div class="multi-select-wrapper" id="settlement-filter-wrapper">
                <div class="filter-button-group">
                    <button type="button" class="multi-select-button" id="settlement-filter-button" aria-labelledby="settlement-filter-label">
                        –í—Å–µ –ù–ü ‚ñº
                    </button>
                    <button type="button" class="btn-reset" id="settlement-filter-reset" title="–°–±—Ä–æ—Å–∏—Ç—å —Ñ–∏–ª—å—Ç—Ä –Ω–∞—Å–µ–ª—ë–Ω–Ω—ã—Ö –ø—É–Ω–∫—Ç–æ–≤">√ó</button>
                </div>
                <div class="multi-select-dropdown" id="settlement-filter-dropdown" style="display: none;">
                </div>
            </div>
        </div>

        <div class="filter-group">
            <label for="filter-category">–£—Ä–æ–≤–µ–Ω—å –ø—Ä–∏–≤–ª–µ–∫–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–∏</label>
            <select id="filter-category">
                <option value="">–í—Å–µ —É—Ä–æ–≤–Ω–∏</option>
                <option value="–ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–π">‚ùå –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–π (NDI < 3.0)</option>
                <option value="–ù–∏–∑–∫–∏–π">üî¥ –ù–∏–∑–∫–∏–π (3.0 ‚â§ NDI < 4.5)</option>
                <option value="–°—Ä–µ–¥–Ω–∏–π">üü° –°—Ä–µ–¥–Ω–∏–π (4.5 ‚â§ NDI < 6.5)</option>
                <option value="–í—ã—Å–æ–∫–∏–π">üü¢ –í—ã—Å–æ–∫–∏–π (NDI ‚â• 6.5)</option>
            </select>
        </div>
    </div>
</section>

<!-- KPI CARDS -->
<section class="kpi-section">
    <div class="kpi-grid">
        <div class="kpi-card critical" data-category="–ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–π" onclick="filterByCategory('–ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–π')">
            <div class="kpi-label">–ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–π</div>
            <div class="kpi-value">14</div>
            <div class="kpi-description">–Ω–∞—Å–µ–ª—ë–Ω–Ω—ã—Ö –ø—É–Ω–∫—Ç–æ–≤</div>
        </div>
        <div class="kpi-card low" data-category="–ù–∏–∑–∫–∏–π" onclick="filterByCategory('–ù–∏–∑–∫–∏–π')">
            <div class="kpi-label">–ù–∏–∑–∫–∏–π</div>
            <div class="kpi-value">63</div>
            <div class="kpi-description">–Ω–∞—Å–µ–ª—ë–Ω–Ω—ã—Ö –ø—É–Ω–∫—Ç–æ–≤</div>
        </div>
        <div class="kpi-card medium" data-category="–°—Ä–µ–¥–Ω–∏–π" onclick="filterByCategory('–°—Ä–µ–¥–Ω–∏–π')">
            <div class="kpi-label">–°—Ä–µ–¥–Ω–∏–π</div>
            <div class="kpi-value">47</div>
            <div class="kpi-description">–Ω–∞—Å–µ–ª—ë–Ω–Ω—ã—Ö –ø—É–Ω–∫—Ç–æ–≤</div>
        </div>
        <div class="kpi-card high" data-category="–í—ã—Å–æ–∫–∏–π" onclick="filterByCategory('–í—ã—Å–æ–∫–∏–π')">
            <div class="kpi-label">–í—ã—Å–æ–∫–∏–π</div>
            <div class="kpi-value">4</div>
            <div class="kpi-description">–Ω–∞—Å–µ–ª—ë–Ω–Ω—ã—Ö –ø—É–Ω–∫—Ç–æ–≤</div>
        </div>
    </div>
</section>

<!-- TREEMAP -->
<section class="vis-section">
    <div class="vis-title">
        üó∫Ô∏è –ö–∞—Ä—Ç–∞ –ø—Ä–∏–≤–ª–µ–∫–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –ù–ü –ø–æ —Ä–µ–≥–∏–æ–Ω–∞–º
        <span style="color: #6c757d; font-size: 14px; font-weight: normal; margin-left: 10px;">(*–ø—Ä–æ–≤–∞–ª–∏—Ç—å—Å—è –≤ –ù–ü –º–æ–∂–Ω–æ –ø–æ –∫–ª–∏–∫—É –≤ —Ä–µ–≥–∏–æ–Ω)</span>
        <button type="button" id="treemap-back-btn" style="display:none; margin-left: 20px; padding: 5px 15px; background: #6c757d; color: white; border: none; border-radius: 4px; cursor: pointer;">
            ‚Üê –ù–∞–∑–∞–¥ –∫ —Ä–µ–≥–∏–æ–Ω–∞–º
        </button>
    </div>
    <div id="treemap" style="height: 550px;"></div>
</section>

<!-- ============================================================================ -->
<!-- NDI DECOMPOSITION WIDGET - –î–µ–∫–æ–º–ø–æ–∑–∏—Ü–∏—è NDI –∏ —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ -->
<!-- ============================================================================ -->
<section class="vis-section">
<div class="ndi-widget-panel">
    <div class="ndi-widget-panel-title">
        <span class="icon">üìä</span>
        –î–µ–∫–æ–º–ø–æ–∑–∏—Ü–∏—è NDI –∏ —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
    </div>

    <div class="ndi-widget-info-box">
        <p><strong>Waterfall:</strong> –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –≤–∫–ª–∞–¥ –∫–∞–∂–¥–æ–≥–æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ –≤ –∏—Ç–æ–≥–æ–≤—ã–π –∏–Ω–¥–µ–∫—Å NDI –≤—ã–±—Ä–∞–Ω–Ω–æ–≥–æ –ù–ü –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ —Å—Ä–µ–¥–Ω–µ–≥–æ –∑–Ω–∞—á–µ–Ω–∏—è –ª–∏–±–æ –ø–æ –≤—Å–µ–º –ù–ü –ª–∏–±–æ —Ä–µ–≥–∏–æ–Ω–∞.</p>
        <p><strong>Radar:</strong> –°—Ä–∞–≤–Ω–∏–≤–∞–µ—Ç –ø—Ä–æ—Ñ–∏–ª—å –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ –º–µ–∂–¥—É —Å—Ä–µ–¥–Ω–∏–º–∏.</p>
    </div>

    <div class="filters-header">
        <h4 style="color: #6c757d;">–§–∏–ª—å—Ç—Ä—ã</h4>
        <button type="button" class="btn-reset-all" id="reset-all-filters">
            üîÑ –°–±—Ä–æ—Å–∏—Ç—å –≤—Å–µ
        </button>
    </div>

    <div class="ndi-widget-controls">
        <div class="ndi-widget-filter-group">
            <div class="control-group">
                <label for="settlement-search">–ü–æ–∏—Å–∫ –ù–ü:</label>
                <input type="text" id="settlement-search" placeholder="–ù–∞—á–Ω–∏—Ç–µ –≤–≤–æ–¥–∏—Ç—å –Ω–∞–∑–≤–∞–Ω–∏–µ...">
            </div>
            <div class="control-group">
                <label for="settlement-select">–í—ã–±–µ—Ä–∏—Ç–µ –ù–ü –¥–ª—è –¥–µ–∫–æ–º–ø–æ–∑–∏—Ü–∏–∏:</label>
                <select id="settlement-select">
                    <option value="average">–í—Å–µ –ù–ü (—Å—Ä–µ–¥–Ω–µ–µ)</option>
                    <!-- –ë—É–¥–µ—Ç –∑–∞–ø–æ–ª–Ω–µ–Ω–æ –∏–∑ JavaScript -->
                </select>
            </div>
            <div class="control-group">
                <label for="compare-mode">–†–µ–∂–∏–º —Å—Ä–∞–≤–Ω–µ–Ω–∏—è:</label>
                <select id="compare-mode">
                    <option value="vs-russia">vs –°—Ä–µ–¥–Ω–µ–µ –ø–æ –†–§</option>
                    <option value="vs-region">vs –°—Ä–µ–¥–Ω–µ–µ –ø–æ —Ä–µ–≥–∏–æ–Ω—É</option>
                </select>
            </div>
            <div class="control-group">
                <label for="region-filter">–†–µ–≥–∏–æ–Ω:</label>
                <select id="region-filter">
                    <option value="all">–í—Å–µ —Ä–µ–≥–∏–æ–Ω—ã</option>
                    <!-- –ë—É–¥–µ—Ç –∑–∞–ø–æ–ª–Ω–µ–Ω–æ –∏–∑ JavaScript -->
                </select>
            </div>
        </div>
    </div>

    <div class="ndi-widget-charts-grid">
        <div class="ndi-widget-chart-container">
            <div id="waterfall" style="height: 450px;"></div>
        </div>
        <div class="ndi-widget-chart-container">
            <div id="radar" style="height: 450px;"></div>
        </div>
    </div>
</div>
</section>

<!-- ============================================================================ -->
<!-- –¢–ê–ë–õ–ò–¶–ê –í–°–ï–• –ù–ê–°–ï–õ–Å–ù–ù–´–• –ü–£–ù–ö–¢–û–í –ê–†–ö–¢–ò–ß–ï–°–ö–û–ô –ó–û–ù–´ -->
<!-- ============================================================================ -->
<section class="vis-section">
    <div class="panel">
        <div class="panel-title">
            <span class="icon">üìä</span>
            –ù–ê–°–ï–õ–Å–ù–ù–´–ï –ü–£–ù–ö–¢–´ –ê–†–ö–¢–ò–ß–ï–°–ö–û–ô –ó–û–ù–´
        </div>

        <div id="loading-table" class="loading">–ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö...</div>
        <div id="error-table" class="error"></div>

        <div id="tableWrapper" style="display: none;">
            <!-- –§–∏–ª—å—Ç—Ä—ã –Ω–∞–¥ —Ç–∞–±–ª–∏—Ü–µ–π -->
            <div class="filters-header">
                <h4 style="color: #6c757d;">–§–∏–ª—å—Ç—Ä—ã —Ç–∞–±–ª–∏—Ü—ã</h4>
                <button type="button" class="btn-reset-all" id="table-reset-all-filters">
                    üîÑ –°–±—Ä–æ—Å–∏—Ç—å –≤—Å–µ
                </button>
            </div>
            <div class="ndi-widget-controls" style="margin-bottom: 20px;">
                <div class="ndi-widget-filter-group">
                    <div class="control-group">
                        <label for="table-search">–ü–æ–∏—Å–∫ –ù–ü:</label>
                        <input type="text" id="table-search" placeholder="–ù–∞—á–Ω–∏—Ç–µ –≤–≤–æ–¥–∏—Ç—å –Ω–∞–∑–≤–∞–Ω–∏–µ...">
                    </div>
                    <div class="control-group">
                        <label for="table-settlement-select">–í—ã–±–µ—Ä–∏—Ç–µ –ù–ü –¥–ª—è –¥–µ–∫–æ–º–ø–æ–∑–∏—Ü–∏–∏:</label>
                        <select id="table-settlement-select">
                            <option value="average">–í—Å–µ –ù–ü (—Å—Ä–µ–¥–Ω–µ–µ)</option>
                            <!-- –ë—É–¥–µ—Ç –∑–∞–ø–æ–ª–Ω–µ–Ω–æ –∏–∑ JavaScript -->
                        </select>
                    </div>
                    <div class="control-group">
                        <label for="table-region-filter">–†–µ–≥–∏–æ–Ω:</label>
                        <select id="table-region-filter">
                            <option value="all">–í—Å–µ —Ä–µ–≥–∏–æ–Ω—ã</option>
                            <!-- –ë—É–¥–µ—Ç –∑–∞–ø–æ–ª–Ω–µ–Ω–æ –∏–∑ JavaScript -->
                        </select>
                    </div>
                    <div class="control-group">
                        <label for="arctic-filter">–ê—Ä–∫—Ç–∏—á–µ—Å–∫–∞—è –∑–æ–Ω–∞:</label>
                        <select id="arctic-filter">
                            <option value="all">–í—Å–µ –ù–ü</option>
                            <option value="yes">–¢–æ–ª—å–∫–æ –∞—Ä–∫—Ç–∏—á–µ—Å–∫–∏–µ</option>
                            <option value="no">–¢–æ–ª—å–∫–æ –Ω–µ –∞—Ä–∫—Ç–∏—á–µ—Å–∫–∏–µ</option>
                        </select>
                    </div>
                </div>
            </div>

            <div class="table-container">
                <table class="priority-table" id="arcticTable">
                    <thead>
                        <tr>
                            <th>‚Ññ</th>
                            <th data-sort="settlement_name">–ù–∞—Å–µ–ª—ë–Ω–Ω—ã–π –ø—É–Ω–∫—Ç <span class="sort-icon">‚áÖ</span></th>
                            <th data-sort="is_arctic">–ê—Ä–∫—Ç–∏–∫–∞ <span class="sort-icon">‚áÖ</span></th>
                            <th data-sort="ndi_10">NDI<br>(0-10) <span class="sort-icon">‚áÖ</span></th>
                            <th data-sort="poad_score_100">–ö–∞—á–µ—Å—Ç–≤–æ<br>–∂–∏–∑–Ω–∏ <span class="sort-icon">‚áÖ</span></th>
                            <th data-sort="market_score_100">–î–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å<br>—Ä—ã–Ω–∫–æ–≤ <span class="sort-icon">‚áÖ</span></th>
                            <th data-sort="consumption_score_100">–ü–æ—Ç—Ä–µ–±–ª–µ–Ω–∏–µ <span class="sort-icon">‚áÖ</span></th>
                            <th data-sort="accessibility_score_100">–î–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å<br>–∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—ã <span class="sort-icon">‚áÖ</span></th>
                            <th data-sort="climate_score_100">–ö–ª–∏–º–∞—Ç <span class="sort-icon">‚áÖ</span></th>
                            <th data-sort="mobility_score_100">–ú–æ–±–∏–ª—å–Ω–æ—Å—Ç—å <span class="sort-icon">‚áÖ</span></th>
                            <th data-sort="temp_amplitude_celsius">–ê–º–ø–ª–∏—Ç—É–¥–∞<br>—Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä <span class="sort-icon">‚áÖ</span></th>
                            <th data-sort="avg_temp_winter_celsius">–≠–∫—Å—Ç—Ä–µ–º—É–º—ã<br>(–∑–∏–º–∞/–ª–µ—Ç–æ ¬∞C) <span class="sort-icon">‚áÖ</span></th>
                            <th data-sort="region_name">–†–µ–≥–∏–æ–Ω <span class="sort-icon">‚áÖ</span></th>
                        </tr>
                    </thead>
                    <tbody id="arcticTableBody">
                    </tbody>
                </table>
            </div>
        </div>
    </div>
</section>

<div class="section-nav">
    <button type="button" class="nav-btn" onclick="switchTab('story')">‚Üê –ö –∏—Å—Ç–æ—Ä–∏–∏</button>
    <button type="button" class="nav-btn" onclick="switchTab('methodology')">–ö –º–µ—Ç–æ–¥–æ–ª–æ–≥–∏–∏ ‚Üí</button>
</div>

</div>
<!-- –ö–û–ù–ï–¶ –í–ö–õ–ê–î–ö–ò 2: –î–ê–®–ë–û–†–î -->

<!-- –í–ö–õ–ê–î–ö–ê 3: –ú–ï–¢–û–î–û–õ–û–ì–ò–Ø -->
<div id="tab-methodology" class="tab-content">

<section class="methodology-section" style="max-width: 1200px; margin: 0 auto; padding: 40px 20px;">
    <div class="markdown-content" style="line-height: 1.8; color: #2c3e50;">

        <h2 style="color: #2c3e50; margin-top: 40px;">–í—Å—Ç—É–ø–ª–µ–Ω–∏–µ</h2>
        <p>–ü—Ä–∏–≤–µ—Ç! –ú–µ–Ω—è –∑–æ–≤—É—Ç –î–∞—Ä—å—è –∏ —è —Ä–∞–¥–∞ –ø—Ä–µ–¥—Å—Ç–∞–≤–∏—Ç—å –≤–∞–º –¥–∞—à–±–æ—Ä–¥ "ARCTIC INDEX-–ò–Ω–¥–µ–∫—Å —Ä–∞–∑–≤–∏—Ç–∏—è –∞—Ä–∫—Ç–∏—á–µ—Å–∫–∏—Ö –Ω–∞—Å–µ–ª—ë–Ω–Ω—ã—Ö –ø—É–Ω–∫—Ç–æ–≤" –ø–æ —Ç–µ–º–µ "–ê—Ä–∫—Ç–∏—á–µ—Å–∫–∏–µ –ø–µ—Ä–µ—Å–µ–ª–µ–Ω–∏—è".</p>

        <p>–ù–∞ —Å–µ–≥–æ–¥–Ω—è—à–Ω–∏–π –¥–µ–Ω—å —Å—É—â–µ—Å—Ç–≤—É–µ—Ç 128 –º–∞–ª—ã—Ö –Ω–∞—Å–µ–ª—ë–Ω–Ω—ã—Ö –ø—É–Ω–∫—Ç–æ–≤ –ê—Ä–∫—Ç–∏—á–µ—Å–∫–æ–π –∑–æ–Ω—ã –†–æ—Å—Å–∏–π—Å–∫–æ–π –§–µ–¥–µ—Ä–∞—Ü–∏–∏ –∏ –º–µ–Ω—è –≤–æ—Å—Ö–∏—â–∞–µ—Ç —Å—Ç–æ–π–∫–æ—Å—Ç—å –ª—é–¥–µ–π, –∂–∏–≤—É—â–∏—Ö —Ç–∞–º –≤ –Ω–µ–ø—Ä–æ—Å—Ç—ã—Ö –∫–ª–∏–º–∞—Ç–∏—á–µ—Å–∫–∏—Ö —É—Å–ª–æ–≤–∏—è—Ö.
        –ò —á—Ç–æ–±—ã –∏–º–µ—Ç—å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –±—ã—Å—Ç—Ä–æ –æ—Ü–µ–Ω–∏—Ç—å –∂–∏–∑–Ω—å –≤ –ø–æ–¥–æ–±–Ω—ã—Ö —É—Å–ª–æ–≤–∏—è—Ö, —è —Ä–µ—à–∏–ª–∞ —Å–æ–∑–¥–∞—Ç—å –∫–æ–º–ø–æ–∑–∏—Ç–Ω—ã–π –∏–Ω–¥–µ–∫—Å –æ—Ü–µ–Ω–∫–∏ –ø—Ä–∏–≤–ª–µ–∫–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∞—Ä–∫—Ç–∏—á–µ—Å–∫–∏—Ö –Ω–∞—Å–µ–ª—ë–Ω–Ω—ã—Ö –ø—É–Ω–∫—Ç–æ–≤: <strong>Northern Development Index (NDI)</strong>.</p>

        <h2 style="color: #2c3e50; margin-top: 40px;">NDI</h2>
        <div style="background: #f8f9fa; padding: 20px; border-radius: 8px; border-left: 4px solid #2196F3; margin: 20px 0;">
            <code style="font-size: 16px; font-weight: bold;">NDI = 0.35√óPOAD + 0.20√óMarket + 0.15√óConsumption + 0.15√óAccess + 0.10√óClimate + 0.05√óMobility</code>
        </div>

        <ol style="font-size: 16px;">
            <li><strong>POAD. –ö–∞—á–µ—Å—Ç–≤–æ –∂–∏–∑–Ω–∏ (35%)</strong> ‚Äî –º–µ–¥–∏—Ü–∏–Ω–∞, –æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ, –∫—É–ª—å—Ç—É—Ä–∞</li>
            <li><strong>Market. –î–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å —Ä—ã–Ω–∫–æ–≤ (20%)</strong> ‚Äî —ç–∫–æ–Ω–æ–º–∏—á–µ—Å–∫–∞—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è</li>
            <li><strong>Consumption. –ü–æ–∫—É–ø–∞—Ç–µ–ª—å–Ω–∞—è —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å (15%)</strong> ‚Äî –ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏–µ vs –ø—Ä–æ–∂–∏—Ç–æ—á–Ω—ã–π –º–∏–Ω–∏–º—É–º</li>
            <li><strong>Access. –¢—Ä–∞–Ω—Å–ø–æ—Ä—Ç–Ω–∞—è –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å (15%)</strong> ‚Äî –±–ª–∏–∑–æ—Å—Ç—å –∫ —Ö–∞–±–∞–º</li>
            <li><strong>Climate. –ö–ª–∏–º–∞—Ç (10%)</strong> ‚Äî –∑–∞—Ç—Ä–∞—Ç—ã –Ω–∞ –æ—Ç–æ–ø–ª–µ–Ω–∏–µ</li>
            <li><strong>Mobility. –ú–æ–±–∏–ª—å–Ω–æ—Å—Ç—å –Ω–∞—Å–µ–ª–µ–Ω–∏—è (5%)</strong> ‚Äî —ç–∫–æ–Ω–æ–º–∏—á–µ—Å–∫–∞—è –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å</li>
        </ol>

        <p style="font-style: italic; background: #e8f4f8; padding: 15px; border-radius: 6px;">–ö–∞–∂–¥—ã–π –ù–ü –ø–æ–ª—É—á–∞–µ—Ç –æ—Ü–µ–Ω–∫—É 0-10. –ß–µ–º –≤—ã—à–µ –±–∞–ª–ª, —Ç–µ–º —É—Å—Ç–æ–π—á–∏–≤–µ–µ —Ç–µ—Ä—Ä–∏—Ç–æ—Ä–∏—è.</p>

        <h2 style="color: #2c3e50; margin-top: 40px;">–û—Ç–∫—É–¥–∞ —Ñ–æ—Ä–º–∏—Ä—É—é—Ç—Å—è –ø–æ–∫–∞–∑–∞—Ç–µ–ª–∏: Pipeline –æ–±—Ä–∞–±–æ—Ç–∫–∏ –¥–∞–Ω–Ω—ã—Ö</h2>

        <h3 style="color: #34495e; margin-top: 30px;">1. POAD (–ö–∞—á–µ—Å—Ç–≤–æ –∂–∏–∑–Ω–∏) ‚Äî 35% –≤–µ—Å–∞ –≤ NDI</h3>

        <p><strong>–†–∞—Å—à–∏—Ñ—Ä–æ–≤–∫–∞:</strong></p>
        <ul>
            <li><strong>P</strong>opulation (–ù–∞—Å–µ–ª–µ–Ω–∏–µ)</li>
            <li><strong>O</strong>pportunity (–í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏)</li>
            <li><strong>A</strong>ttractiveness (–ü—Ä–∏–≤–ª–µ–∫–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å)</li>
            <li><strong>D</strong>evelopment (–†–∞–∑–≤–∏—Ç–∏–µ)</li>
        </ul>

        <p><strong>–ü–µ—Ä–≤–∏—á–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ:</strong></p>
        <ul>
            <li><strong>–§–∞–π–ª:</strong> <code>Data_SberIndex_POAD.xlsx</code> (187 –ö–ë)</li>
            <li><strong>–ò—Å—Ç–æ—á–Ω–∏–∫:</strong> SberIndex ‚Äî –¥–∞–Ω–Ω—ã–µ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ç–æ—Ä–æ–≤ —Ö–∞–∫–∞—Ç–æ–Ω–∞</li>
            <li><strong>–°—Ç—Ä—É–∫—Ç—É—Ä–∞:</strong> 128 –Ω–∞—Å–µ–ª—ë–Ω–Ω—ã—Ö –ø—É–Ω–∫—Ç–æ–≤ √ó 93 –ø–æ–∫–∞–∑–∞—Ç–µ–ª—è –∫–∞—á–µ—Å—Ç–≤–∞ –∂–∏–∑–Ω–∏</li>
            <li><strong>–î–æ–º–µ–Ω—ã:</strong> –î–æ—Ö–æ–¥—ã, –ñ–ö–•, –ó–¥—Ä–∞–≤–æ–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ, –ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞, –û–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ, –≠–∫–æ–ª–æ–≥–∏—è, –≠–∫–æ–Ω–æ–º–∏–∫–∞, –ö–ú–ù–°, –ö–∞—á–µ—Å—Ç–≤–æ –∂–∏–∑–Ω–∏</li>
        </ul>

        <p><strong>–°–∫—Ä–∏–ø—Ç—ã –æ–±—Ä–∞–±–æ—Ç–∫–∏:</strong></p>
        <ol>
            <li><code>scripts/01_load_data.py</code> ‚Äî –ó–∞–≥—Ä—É–∑–∫–∞ Excel –≤ PostgreSQL</li>
            <li><code>scripts/02_correlation_analysis.py</code> ‚Äî –ö–æ—Ä—Ä–µ–ª—è—Ü–∏–æ–Ω–Ω—ã–π –∞–Ω–∞–ª–∏–∑ + PCA</li>
            <li><code>scripts/03_attractiveness_v1.py</code> ‚Äî –†–∞—Å—á—ë—Ç –∏–Ω–¥–µ–∫—Å–∞ –ø—Ä–∏–≤–ª–µ–∫–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–∏</li>
        </ol>

        <p><strong>–¢–æ–ø-10 –ø–æ–∫–∞–∑–∞—Ç–µ–ª–µ–π –≤ POAD (–ø–æ –∫–æ—Ä—Ä–µ–ª—è—Ü–∏–∏ —Å –Ω–∞—Å–µ–ª–µ–Ω–∏–µ–º):</strong></p>
        <table style="width: 100%; border-collapse: collapse; margin: 20px 0; font-size: 14px;">
            <thead style="background: #34495e; color: white;">
                <tr>
                    <th style="padding: 12px; border: 1px solid #ddd;">–†–∞–Ω–≥</th>
                    <th style="padding: 12px; border: 1px solid #ddd;">–ö–æ–¥</th>
                    <th style="padding: 12px; border: 1px solid #ddd;">–ü–æ–∫–∞–∑–∞—Ç–µ–ª—å</th>
                    <th style="padding: 12px; border: 1px solid #ddd;">–ö–æ—Ä—Ä–µ–ª—è—Ü–∏—è</th>
                    <th style="padding: 12px; border: 1px solid #ddd;">–î–æ–º–µ–Ω</th>
                </tr>
            </thead>
            <tbody>
                <tr><td style="padding: 10px; border: 1px solid #ddd; text-align: center;">1</td><td style="padding: 10px; border: 1px solid #ddd;">4.8</td><td style="padding: 10px; border: 1px solid #ddd;">–î–æ–º–∞ –∫—É–ª—å—Ç—É—Ä—ã –∏ —Ü–µ–Ω—Ç—Ä—ã —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–æ–≥–æ —Ç–≤–æ—Ä—á–µ—Å—Ç–≤–∞</td><td style="padding: 10px; border: 1px solid #ddd; text-align: center;">0.455</td><td style="padding: 10px; border: 1px solid #ddd;">–ò–ù–§–†–ê–°–¢–†–£–ö–¢–£–†–ê</td></tr>
                <tr style="background: #f8f9fa;"><td style="padding: 10px; border: 1px solid #ddd; text-align: center;">2</td><td style="padding: 10px; border: 1px solid #ddd;">4.6</td><td style="padding: 10px; border: 1px solid #ddd;">–ë–∏–±–ª–∏–æ—Ç–µ–∫–∏ (–Ω–∞ 1000 —á–µ–ª)</td><td style="padding: 10px; border: 1px solid #ddd; text-align: center;">0.448</td><td style="padding: 10px; border: 1px solid #ddd;">–ò–ù–§–†–ê–°–¢–†–£–ö–¢–£–†–ê</td></tr>
                <tr><td style="padding: 10px; border: 1px solid #ddd; text-align: center;">3</td><td style="padding: 10px; border: 1px solid #ddd;">6.1</td><td style="padding: 10px; border: 1px solid #ddd;">–ó–∞—Ç—Ä–∞—Ç—ã –Ω–∞ –æ—Ö—Ä–∞–Ω—É –æ–∫—Ä—É–∂–∞—é—â–µ–π —Å—Ä–µ–¥—ã</td><td style="padding: 10px; border: 1px solid #ddd; text-align: center;">0.414</td><td style="padding: 10px; border: 1px solid #ddd;">–≠–ö–û–õ–û–ì–ò–Ø</td></tr>
                <tr style="background: #f8f9fa;"><td style="padding: 10px; border: 1px solid #ddd; text-align: center;">4</td><td style="padding: 10px; border: 1px solid #ddd;">4.12</td><td style="padding: 10px; border: 1px solid #ddd;">–î–æ–ª—è –¥–æ—Å—Ç—É–ø–Ω–æ–≥–æ —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–∞ –¥–ª—è –º–∞–ª–æ–º–æ–±–∏–ª—å–Ω—ã—Ö –≥—Ä—É–ø–ø</td><td style="padding: 10px; border: 1px solid #ddd; text-align: center;">0.366</td><td style="padding: 10px; border: 1px solid #ddd;">–ò–ù–§–†–ê–°–¢–†–£–ö–¢–£–†–ê</td></tr>
                <tr><td style="padding: 10px; border: 1px solid #ddd; text-align: center;">5</td><td style="padding: 10px; border: 1px solid #ddd;">3.11</td><td style="padding: 10px; border: 1px solid #ddd;">–°–º–µ—Ä—Ç–Ω–æ—Å—Ç—å –≤ —Ç—Ä—É–¥–æ—Å–ø–æ—Å–æ–±–Ω–æ–º –≤–æ–∑—Ä–∞—Å—Ç–µ</td><td style="padding: 10px; border: 1px solid #ddd; text-align: center;">0.332</td><td style="padding: 10px; border: 1px solid #ddd;">–ó–î–†–ê–í</td></tr>
            </tbody>
        </table>

        <h3 style="color: #34495e; margin-top: 30px;">2. Market Access (–î–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å —Ä—ã–Ω–∫–æ–≤) ‚Äî 20% –≤–µ—Å–∞ –≤ NDI</h3>
        <p><strong>–§–æ—Ä–º—É–ª–∞ –∏–Ω–¥–µ–∫—Å–∞:</strong></p>
        <pre style="background: #f8f9fa; padding: 15px; border-radius: 6px; overflow-x: auto;"><code>market_access = Œ£ (–Ω–∞—Å–µ–ª–µ–Ω–∏–µ_—Å–æ—Å–µ–¥–Ω–∏—Ö_–ú–û / —Ä–∞—Å—Å—Ç–æ—è–Ω–∏–µ_–¥–æ_–Ω–∏—Ö)</code></pre>

        <h3 style="color: #34495e; margin-top: 30px;">3. Consumption (–ü–æ–∫—É–ø–∞—Ç–µ–ª—å–Ω–∞—è —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å) ‚Äî 15% –≤–µ—Å–∞ –≤ NDI</h3>
        <p><strong>–ú–µ—Ç—Ä–∏–∫–∞ –≤ NDI:</strong></p>
        <ul>
            <li>Welfare ratio = <code>–ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏–µ / –ø—Ä–æ–∂–∏—Ç–æ—á–Ω—ã–π_–º–∏–Ω–∏–º—É–º_—Ä–µ–≥–∏–æ–Ω–∞</code></li>
            <li>Clipping: –º–∞–∫—Å–∏–º—É–º 2.0 (–Ω–æ—Ä–º–∞)</li>
            <li>–ù–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è: 0-1 (0.5 = –ø—Ä–æ–∂–∏—Ç–æ—á–Ω—ã–π –º–∏–Ω–∏–º—É–º, 1.0 = 2√ó –º–∏–Ω–∏–º—É–º)</li>
        </ul>

        <h3 style="color: #34495e; margin-top: 30px;">4. Accessibility (–¢—Ä–∞–Ω—Å–ø–æ—Ä—Ç–Ω–∞—è –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å) ‚Äî 15% –≤–µ—Å–∞ –≤ NDI</h3>
        <p><strong>–§–æ—Ä–º—É–ª–∞:</strong></p>
        <pre style="background: #f8f9fa; padding: 15px; border-radius: 6px; overflow-x: auto;"><code>Accessibility = 1 / (1 + distance_to_hub / 500)</code></pre>

        <h3 style="color: #34495e; margin-top: 30px;">5. Climate (–ö–ª–∏–º–∞—Ç ‚Äî –Ω–∞–≥—Ä—É–∑–∫–∞ HDD) ‚Äî 10% –≤–µ—Å–∞ –≤ NDI</h3>
        <p><strong>–ú–µ—Ç—Ä–∏–∫–∞ HDD (Heating Degree Days):</strong></p>
        <pre style="background: #f8f9fa; padding: 15px; border-radius: 6px; overflow-x: auto;"><code>HDD_daily = max(0, 18¬∞C - T_mean_daily)</code></pre>
        <p>–ë–∞–∑–æ–≤–∞—è —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞ 18¬∞C ‚Äî —Å—Ç–∞–Ω–¥–∞—Ä—Ç –°–ù–∏–ü</p>

        <h3 style="color: #34495e; margin-top: 30px;">6. Mobility (–ú–æ–±–∏–ª—å–Ω–æ—Å—Ç—å –Ω–∞—Å–µ–ª–µ–Ω–∏—è) ‚Äî 5% –≤–µ—Å–∞ –≤ NDI</h3>
        <p><strong>‚ö†Ô∏è –í–∞–∂–Ω–æ:</strong> –ü—Ä–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–∏ –¥–∞–Ω–Ω—ã—Ö –¥–ª—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –ù–ü –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è <strong>fallback –∑–Ω–∞—á–µ–Ω–∏–µ 0.5</strong> (–Ω–µ–π—Ç—Ä–∞–ª—å–Ω–æ–µ).</p>

        <h2 style="color: #2c3e50; margin-top: 40px;">–î–∏–∞–≥—Ä–∞–º–º–∞ Pipeline –æ–±—Ä–∞–±–æ—Ç–∫–∏ –¥–∞–Ω–Ω—ã—Ö NDI</h2>
        <pre style="background: #2c3e50; color: #ecf0f1; padding: 20px; border-radius: 8px; overflow-x: auto; font-size: 13px; line-height: 1.6;">
–ü–ï–†–í–ò–ß–ù–´–ï –î–ê–ù–ù–´–ï                     –û–ë–†–ê–ë–û–¢–ö–ê                           –ò–¢–û–ì–û–í–´–ï CSV
================================================================================

Data_SberIndex_POAD.xlsx   ‚Üí  01_load_data.py          ‚Üí  poad_attractiveness_v1.csv
(187 KB, 128 –ù–ü √ó 93)         02_correlation_analysis.py   (128√ó4, –≤–µ—Å 35%)
                              03_attractiveness_v1.py

sberindex.market_access    ‚Üí  (–≥–æ—Ç–æ–≤–∞—è —Ç–∞–±–ª–∏—Ü–∞ –ë–î)    ‚Üí  market_access_municipality.csv
(PostgreSQL, 2571 –ú–û)                                     (2571√ó3, –≤–µ—Å 20%)

sberindex.consumption      ‚Üí  (–≥–æ—Ç–æ–≤–∞—è —Ç–∞–±–ª–∏—Ü–∞ –ë–î)    ‚Üí  consumption_municipality_2024.csv
(PostgreSQL, time-series)                                 (12578√ó4, –≤–µ—Å 15%)

–ù–ü –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã              ‚Üí  06_distances.py          ‚Üí  accessibility_scores.csv
(latitude, longitude)         07_accessibility.py         (128√ó4, –≤–µ—Å 15%)

Open-Meteo API             ‚Üí  09_fetch_climate_data.py ‚Üí  climate_monthly_2023_2024.csv
(2023-2024 —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞)       10_load_climate_to_db.py    climate_yearly_hdd.csv
                                                          (–≤–µ—Å 10%)

mobility_index.xlsx        ‚Üí  etl_load_mobility_index.py ‚Üí mobility_index_municipality.csv
(–ú–û, –º–æ–±–∏–ª—å–Ω–æ—Å—Ç—å –∫–º)                                        (297√ó3, –≤–µ—Å 5%)

                                     ‚Üì
                         create_ndi_view.sql
                      (PostgreSQL VIEW: —Ñ–æ—Ä–º—É–ª–∞ NDI)
                                     ‚Üì
                            ndi_scores.csv
                          (128 –ù–ü, —Ñ–∏–Ω–∞–ª—å–Ω—ã–π NDI)
        </pre>

        <h2 style="color: #2c3e50; margin-top: 40px;">–¢–∞–±–ª–∏—Ü–∞ –≤–æ—Å–ø—Ä–æ–∏–∑–≤–æ–¥–∏–º–æ—Å—Ç–∏ –¥–∞–Ω–Ω—ã—Ö</h2>
        <table style="width: 100%; border-collapse: collapse; margin: 20px 0; font-size: 14px;">
            <thead style="background: #2196F3; color: white;">
                <tr>
                    <th style="padding: 12px; border: 1px solid #ddd;">–ö–æ–º–ø–æ–Ω–µ–Ω—Ç</th>
                    <th style="padding: 12px; border: 1px solid #ddd;">–ü–µ—Ä–≤–∏—á–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ</th>
                    <th style="padding: 12px; border: 1px solid #ddd;">–ò—Ç–æ–≥–æ–≤—ã–π —Ñ–∞–π–ª</th>
                    <th style="padding: 12px; border: 1px solid #ddd;">–ü–æ–∫—Ä—ã—Ç–∏–µ</th>
                </tr>
            </thead>
            <tbody>
                <tr><td style="padding: 10px; border: 1px solid #ddd;"><strong>POAD (35%)</strong></td><td style="padding: 10px; border: 1px solid #ddd;"><code>Data_SberIndex_POAD.xlsx</code></td><td style="padding: 10px; border: 1px solid #ddd;"><code>poad_attractiveness_v1.csv</code></td><td style="padding: 10px; border: 1px solid #ddd; text-align: center;">128/128 (100%)</td></tr>
                <tr style="background: #f8f9fa;"><td style="padding: 10px; border: 1px solid #ddd;"><strong>Market Access (20%)</strong></td><td style="padding: 10px; border: 1px solid #ddd;">PostgreSQL: <code>market_access_municipality</code></td><td style="padding: 10px; border: 1px solid #ddd;"><code>market_access_municipality.csv</code></td><td style="padding: 10px; border: 1px solid #ddd; text-align: center;">128/128 (100%)</td></tr>
                <tr><td style="padding: 10px; border: 1px solid #ddd;"><strong>Consumption (15%)</strong></td><td style="padding: 10px; border: 1px solid #ddd;">PostgreSQL: <code>consumption_municipality</code></td><td style="padding: 10px; border: 1px solid #ddd;"><code>consumption_municipality_2024.csv</code></td><td style="padding: 10px; border: 1px solid #ddd; text-align: center;">128/128 (100%)</td></tr>
                <tr style="background: #f8f9fa;"><td style="padding: 10px; border: 1px solid #ddd;"><strong>Accessibility (15%)</strong></td><td style="padding: 10px; border: 1px solid #ddd;">–ö–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã –ù–ü</td><td style="padding: 10px; border: 1px solid #ddd;"><code>accessibility_scores.csv</code></td><td style="padding: 10px; border: 1px solid #ddd; text-align: center;">128/128 (100%)</td></tr>
                <tr><td style="padding: 10px; border: 1px solid #ddd;"><strong>Climate (10%)</strong></td><td style="padding: 10px; border: 1px solid #ddd;">Open-Meteo API</td><td style="padding: 10px; border: 1px solid #ddd;"><code>climate_yearly_hdd.csv</code></td><td style="padding: 10px; border: 1px solid #ddd; text-align: center;">128/128 (100%)</td></tr>
                <tr style="background: #f8f9fa;"><td style="padding: 10px; border: 1px solid #ddd;"><strong>Mobility (5%)</strong></td><td style="padding: 10px; border: 1px solid #ddd;"><code>mobility_index.xlsx</code></td><td style="padding: 10px; border: 1px solid #ddd;"><code>mobility_index_municipality.csv</code></td><td style="padding: 10px; border: 1px solid #ddd; text-align: center;">128/128 (100%)</td></tr>
            </tbody>
        </table>

        <p style="font-style: italic; background: #fff3cd; padding: 15px; border-radius: 6px; border-left: 4px solid #ffc107; margin-top: 30px;">
            <strong>–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:</strong> –í—Å–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –∏–º–µ—é—Ç –ø–æ–ª–Ω–æ–µ –ø–æ–∫—Ä—ã—Ç–∏–µ 128 –ù–ü –±–ª–∞–≥–æ–¥–∞—Ä—è fallback —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏ (—Ä–µ–≥–∏–æ–Ω–∞–ª—å–Ω—ã–µ —Å—Ä–µ–¥–Ω–∏–µ –¥–ª—è –ø—Ä–æ–ø—É—Å–∫–æ–≤).
        </p>

    </div>
</section>

<div class="section-nav">
    <button type="button" class="nav-btn" onclick="switchTab('dashboard')">‚Üê –ö –¥–∞—à–±–æ—Ä–¥—É</button>
</div>

</div>
<!-- –ö–û–ù–ï–¶ –í–ö–õ–ê–î–ö–ò 3: –ú–ï–¢–û–î–û–õ–û–ì–ò–Ø -->

<script>
// ============================================================================
// –î–ê–ù–ù–´–ï
// ============================================================================

let allData = [{"settlement_id":43,"settlement_name":"–ø–≥—Ç –ù–∞–¥–≤–æ–∏—Ü—ã","settlement_type":"–ø–≥—Ç","region_name":"–†–µ—Å–ø—É–±–ª–∏–∫–∞ –ö–∞—Ä–µ–ª–∏—è","poad_score":0.6532,"market_score":1.0,"consumption_score":0.6579,"accessibility_score":0.4564,"climate_score":0.8872,"mobility_score":0.5,"ndi_score":0.7095,"ndi_10":7.09,"ndi_rank":1,"avg_hdd_yearly":5350.327272727272},{"settlement_id":31,"settlement_name":"–ø–≥—Ç –ë–∞—Ä—Å–æ–≤–æ","settlement_type":"–ø–≥—Ç","region_name":"–•–∞–Ω—Ç—ã-–ú–∞–Ω—Å–∏–π—Å–∫–∏–π –∞–≤—Ç–æ–Ω–æ–º–Ω—ã–π –æ–∫—Ä—É–≥ - –Æ–≥—Ä–∞","poad_score":1.0,"market_score":0.2325,"consumption_score":0.375,"accessibility_score":0.9921,"climate_score":0.6276,"mobility_score":0.5,"ndi_score":0.6893,"ndi_10":6.89,"ndi_rank":2,"avg_hdd_yearly":6885.2},{"settlement_id":19,"settlement_name":"–ø–æ—Å—ë–ª–æ–∫ –°–æ–ª–Ω–µ—á–Ω—ã–π","settlement_type":"–ø–æ—Å–µ–ª–æ–∫","region_name":"–•–∞–Ω—Ç—ã-–ú–∞–Ω—Å–∏–π—Å–∫–∏–π –∞–≤—Ç–æ–Ω–æ–º–Ω—ã–π –æ–∫—Ä—É–≥ - –Æ–≥—Ä–∞","poad_score":0.9717,"market_score":0.2216,"consumption_score":0.3266,"accessibility_score":1.0,"climate_score":0.6258,"mobility_score":0.5,"ndi_score":0.671,"ndi_10":6.71,"ndi_rank":3,"avg_hdd_yearly":6895.745454545455},{"settlement_id":15,"settlement_name":"–ø–≥—Ç –ë–µ–ª—ã–π –Ø—Ä","settlement_type":"–ø–≥—Ç","region_name":"–•–∞–Ω—Ç—ã-–ú–∞–Ω—Å–∏–π—Å–∫–∏–π –∞–≤—Ç–æ–Ω–æ–º–Ω—ã–π –æ–∫—Ä—É–≥ - –Æ–≥—Ä–∞","poad_score":0.8325,"market_score":0.1749,"consumption_score":0.5692,"accessibility_score":1.0,"climate_score":0.6327,"mobility_score":0.5,"ndi_score":0.65,"ndi_10":6.5,"ndi_rank":4,"avg_hdd_yearly":6855.018181818182},{"settlement_id":95,"settlement_name":"—Å–µ–ª–æ –Ø—Ä–µ–Ω—Å–∫","settlement_type":"—Å–µ–ª–æ","region_name":"–ê—Ä—Ö–∞–Ω–≥–µ–ª—å—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å","poad_score":0.8748,"market_score":0.1875,"consumption_score":0.4655,"accessibility_score":0.7977,"climate_score":0.8288,"mobility_score":0.5,"ndi_score":0.641,"ndi_10":6.41,"ndi_rank":5,"avg_hdd_yearly":5695.772727272727},{"settlement_id":14,"settlement_name":"—Å–µ–ª–æ –ë–æ–≥—É—á–∞–Ω—ã","settlement_type":"—Å–µ–ª–æ","region_name":"–ö—Ä–∞—Å–Ω–æ—è—Ä—Å–∫–∏–π –∫—Ä–∞–π","poad_score":0.6815,"market_score":0.2437,"consumption_score":0.6085,"accessibility_score":1.0,"climate_score":0.6951,"mobility_score":0.5,"ndi_score":0.6231,"ndi_10":6.23,"ndi_rank":6,"avg_hdd_yearly":6485.909090909091},{"settlement_id":125,"settlement_name":"–ø–≥—Ç –í–æ–π–≤–æ–∂","settlement_type":"–ø–≥—Ç","region_name":"–†–µ—Å–ø—É–±–ª–∏–∫–∞ –ö–æ–º–∏","poad_score":0.9266,"market_score":0.217,"consumption_score":0.4252,"accessibility_score":0.6072,"climate_score":0.7122,"mobility_score":0.5,"ndi_score":0.6188,"ndi_10":6.19,"ndi_rank":7,"avg_hdd_yearly":6384.854545454546},{"settlement_id":28,"settlement_name":"—Å–µ–ª–æ –Ø—Ä-–°–∞–ª–µ","settlement_type":"—Å–µ–ª–æ","region_name":"–Ø–º–∞–ª–æ-–ù–µ–Ω–µ—Ü–∫–∏–π –∞–≤—Ç–æ–Ω–æ–º–Ω—ã–π –æ–∫—Ä—É–≥","poad_score":0.9549,"market_score":0.1847,"consumption_score":0.3721,"accessibility_score":0.6736,"climate_score":0.4155,"mobility_score":0.5,"ndi_score":0.5946,"ndi_10":5.95,"ndi_rank":8,"avg_hdd_yearly":8139.072727272727},{"settlement_id":32,"settlement_name":"–ø–≥—Ç –ö–∞–ª–µ–≤–∞–ª–∞","settlement_type":"–ø–≥—Ç","region_name":"–†–µ—Å–ø—É–±–ª–∏–∫–∞ –ö–∞—Ä–µ–ª–∏—è","poad_score":0.9363,"market_score":0.1778,"consumption_score":0.4302,"accessibility_score":0.3476,"climate_score":0.8798,"mobility_score":0.5,"ndi_score":0.5929,"ndi_10":5.93,"ndi_rank":9,"avg_hdd_yearly":5393.936363636363},{"settlement_id":71,"settlement_name":"–ø–æ—Å—ë–ª–æ–∫ –°–∏–Ω–≥–∞–ø–∞–π","settlement_type":"–ø–æ—Å–µ–ª–æ–∫","region_name":"–•–∞–Ω—Ç—ã-–ú–∞–Ω—Å–∏–π—Å–∫–∏–π –∞–≤—Ç–æ–Ω–æ–º–Ω—ã–π –æ–∫—Ä—É–≥ - –Æ–≥—Ä–∞","poad_score":0.6671,"market_score":0.2358,"consumption_score":0.4061,"accessibility_score":0.9282,"climate_score":0.6466,"mobility_score":0.5,"ndi_score":0.5705,"ndi_10":5.7,"ndi_rank":10,"avg_hdd_yearly":6772.645454545454},{"settlement_id":107,"settlement_name":"–ø–≥—Ç –ü–æ–π–∫–æ–≤—Å–∫–∏–π","settlement_type":"–ø–≥—Ç","region_name":"–•–∞–Ω—Ç—ã-–ú–∞–Ω—Å–∏–π—Å–∫–∏–π –∞–≤—Ç–æ–Ω–æ–º–Ω—ã–π –æ–∫—Ä—É–≥ - –Æ–≥—Ä–∞","poad_score":0.6377,"market_score":0.2015,"consumption_score":0.4061,"accessibility_score":1.0,"climate_score":0.6758,"mobility_score":0.5,"ndi_score":0.567,"ndi_10":5.67,"ndi_rank":11,"avg_hdd_yearly":6600.527272727273},{"settlement_id":60,"settlement_name":"–ø–æ—Å—ë–ª–æ–∫ –°–∞–ª—ã–º","settlement_type":"–ø–æ—Å–µ–ª–æ–∫","region_name":"–•–∞–Ω—Ç—ã-–ú–∞–Ω—Å–∏–π—Å–∫–∏–π –∞–≤—Ç–æ–Ω–æ–º–Ω—ã–π –æ–∫—Ä—É–≥ - –Æ–≥—Ä–∞","poad_score":0.6615,"market_score":0.253,"consumption_score":0.4565,"accessibility_score":0.7991,"climate_score":0.7069,"mobility_score":0.5,"ndi_score":0.5661,"ndi_10":5.66,"ndi_rank":12,"avg_hdd_yearly":6416.618181818182},{"settlement_id":21,"settlement_name":"–ø–æ—Å—ë–ª–æ–∫ –ù–∏–∂–Ω–µ—Å–æ—Ä—Ç—ã–º—Å–∫–∏–π","settlement_type":"–ø–æ—Å–µ–ª–æ–∫","region_name":"–•–∞–Ω—Ç—ã-–ú–∞–Ω—Å–∏–π—Å–∫–∏–π –∞–≤—Ç–æ–Ω–æ–º–Ω—ã–π –æ–∫—Ä—É–≥ - –Æ–≥—Ä–∞","poad_score":0.6462,"market_score":0.2187,"consumption_score":0.3664,"accessibility_score":1.0,"climate_score":0.5898,"mobility_score":0.5,"ndi_score":0.5589,"ndi_10":5.59,"ndi_rank":13,"avg_hdd_yearly":7108.590909090909},{"settlement_id":126,"settlement_name":"–ø–≥—Ç –ú–æ—Ä—Ç–∫–∞","settlement_type":"–ø–≥—Ç","region_name":"–•–∞–Ω—Ç—ã-–ú–∞–Ω—Å–∏–π—Å–∫–∏–π –∞–≤—Ç–æ–Ω–æ–º–Ω—ã–π –æ–∫—Ä—É–≥ - –Æ–≥—Ä–∞","poad_score":0.5771,"market_score":0.207,"consumption_score":0.4588,"accessibility_score":0.9371,"climate_score":0.7617,"mobility_score":0.5,"ndi_score":0.554,"ndi_10":5.54,"ndi_rank":14,"avg_hdd_yearly":6092.581818181819},{"settlement_id":117,"settlement_name":"–ø–≥—Ç –ö–æ–Ω–¥–∏–Ω—Å–∫–æ–µ","settlement_type":"–ø–≥—Ç","region_name":"–•–∞–Ω—Ç—ã-–ú–∞–Ω—Å–∏–π—Å–∫–∏–π –∞–≤—Ç–æ–Ω–æ–º–Ω—ã–π –æ–∫—Ä—É–≥ - –Æ–≥—Ä–∞","poad_score":0.6547,"market_score":0.2113,"consumption_score":0.3828,"accessibility_score":0.8311,"climate_score":0.7513,"mobility_score":0.5,"ndi_score":0.5536,"ndi_10":5.54,"ndi_rank":15,"avg_hdd_yearly":6153.918181818181},{"settlement_id":97,"settlement_name":"–ø–æ—Å–µ–ª–æ–∫ –¢–∞–∑–æ–≤—Å–∫–∏–π","settlement_type":"–ø–æ—Å–µ–ª–æ–∫","region_name":"–Ø–º–∞–ª–æ-–ù–µ–Ω–µ—Ü–∫–∏–π –∞–≤—Ç–æ–Ω–æ–º–Ω—ã–π –æ–∫—Ä—É–≥","poad_score":0.9053,"market_score":0.0155,"consumption_score":0.5025,"accessibility_score":0.6079,"climate_score":0.3266,"mobility_score":0.5,"ndi_score":0.5442,"ndi_10":5.44,"ndi_rank":16,"avg_hdd_yearly":8664.936363636363},{"settlement_id":121,"settlement_name":"–ø–≥—Ç –ù–æ–≤–æ–∞–≥–∞–Ω—Å–∫","settlement_type":"–ø–≥—Ç","region_name":"–•–∞–Ω—Ç—ã-–ú–∞–Ω—Å–∏–π—Å–∫–∏–π –∞–≤—Ç–æ–Ω–æ–º–Ω—ã–π –æ–∫—Ä—É–≥ - –Æ–≥—Ä–∞","poad_score":0.6845,"market_score":0.2199,"consumption_score":0.3759,"accessibility_score":0.7908,"climate_score":0.5986,"mobility_score":0.5,"ndi_score":0.5434,"ndi_10":5.43,"ndi_rank":17,"avg_hdd_yearly":7056.754545454545},{"settlement_id":4,"settlement_name":"–ø–≥—Ç –•–∞—Ä–ø","settlement_type":"–ø–≥—Ç","region_name":"–Ø–º–∞–ª–æ-–ù–µ–Ω–µ—Ü–∫–∏–π –∞–≤—Ç–æ–Ω–æ–º–Ω—ã–π –æ–∫—Ä—É–≥","poad_score":0.7178,"market_score":0.2148,"consumption_score":0.6325,"accessibility_score":0.487,"climate_score":0.4526,"mobility_score":0.5,"ndi_score":0.5324,"ndi_10":5.32,"ndi_rank":18,"avg_hdd_yearly":7919.863636363636},{"settlement_id":96,"settlement_name":"–ø–≥—Ç –ò–≥—Ä–∏–º","settlement_type":"–ø–≥—Ç","region_name":"–•–∞–Ω—Ç—ã-–ú–∞–Ω—Å–∏–π—Å–∫–∏–π –∞–≤—Ç–æ–Ω–æ–º–Ω—ã–π –æ–∫—Ä—É–≥ - –Æ–≥—Ä–∞","poad_score":0.7058,"market_score":0.2608,"consumption_score":0.4061,"accessibility_score":0.5014,"climate_score":0.6352,"mobility_score":0.5,"ndi_score":0.5238,"ndi_10":5.24,"ndi_rank":19,"avg_hdd_yearly":6840.354545454546},{"settlement_id":34,"settlement_name":"–ø–≥—Ç –ú–µ–∂–¥—É—Ä–µ—á–µ–Ω—Å–∫–∏–π","settlement_type":"–ø–≥—Ç","region_name":"–•–∞–Ω—Ç—ã-–ú–∞–Ω—Å–∏–π—Å–∫–∏–π –∞–≤—Ç–æ–Ω–æ–º–Ω—ã–π –æ–∫—Ä—É–≥ - –Æ–≥—Ä–∞","poad_score":0.4923,"market_score":0.219,"consumption_score":0.3779,"accessibility_score":1.0,"climate_score":0.7599,"mobility_score":0.5,"ndi_score":0.5238,"ndi_10":5.24,"ndi_rank":20,"avg_hdd_yearly":6103.272727272727},{"settlement_id":18,"settlement_name":"–ø–≥—Ç –§–µ–¥–æ—Ä–æ–≤—Å–∫–∏–π","settlement_type":"–ø–≥—Ç","region_name":"–•–∞–Ω—Ç—ã-–ú–∞–Ω—Å–∏–π—Å–∫–∏–π –∞–≤—Ç–æ–Ω–æ–º–Ω—ã–π –æ–∫—Ä—É–≥ - –Æ–≥—Ä–∞","poad_score":0.5292,"market_score":0.2148,"consumption_score":0.3863,"accessibility_score":1.0,"climate_score":0.621,"mobility_score":0.5,"ndi_score":0.5232,"ndi_10":5.23,"ndi_rank":21,"avg_hdd_yearly":6924.390909090909},{"settlement_id":47,"settlement_name":"–ø–≥—Ç –ü–∞–Ω–≥–æ–¥—ã","settlement_type":"–ø–≥—Ç","region_name":"–Ø–º–∞–ª–æ-–ù–µ–Ω–µ—Ü–∫–∏–π –∞–≤—Ç–æ–Ω–æ–º–Ω—ã–π –æ–∫—Ä—É–≥","poad_score":0.6415,"market_score":0.0129,"consumption_score":0.5025,"accessibility_score":1.0,"climate_score":0.4045,"mobility_score":0.5,"ndi_score":0.5179,"ndi_10":5.18,"ndi_rank":22,"avg_hdd_yearly":8204.627272727274},{"settlement_id":64,"settlement_name":"–ø–≥—Ç –£–º–±–∞","settlement_type":"–ø–≥—Ç","region_name":"–ú—É—Ä–º–∞–Ω—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å","poad_score":0.6964,"market_score":0.2187,"consumption_score":0.4651,"accessibility_score":0.3294,"climate_score":0.8497,"mobility_score":0.5,"ndi_score":0.5166,"ndi_10":5.17,"ndi_rank":23,"avg_hdd_yearly":5571.836363636364},{"settlement_id":12,"settlement_name":"–ø–≥—Ç –ë–µ—Ä–µ–∑–æ–≤–æ","settlement_type":"–ø–≥—Ç","region_name":"–•–∞–Ω—Ç—ã-–ú–∞–Ω—Å–∏–π—Å–∫–∏–π –∞–≤—Ç–æ–Ω–æ–º–Ω—ã–π –æ–∫—Ä—É–≥ - –Æ–≥—Ä–∞","poad_score":0.7191,"market_score":0.1925,"consumption_score":0.4061,"accessibility_score":0.506,"climate_score":0.5782,"mobility_score":0.5,"ndi_score":0.5098,"ndi_10":5.1,"ndi_rank":24,"avg_hdd_yearly":7177.081818181819},{"settlement_id":124,"settlement_name":"–ø–≥—Ç –ö–æ–º–º—É–Ω–∏—Å—Ç–∏—á–µ—Å–∫–∏–π","settlement_type":"–ø–≥—Ç","region_name":"–•–∞–Ω—Ç—ã-–ú–∞–Ω—Å–∏–π—Å–∫–∏–π –∞–≤—Ç–æ–Ω–æ–º–Ω—ã–π –æ–∫—Ä—É–≥ - –Æ–≥—Ä–∞","poad_score":0.6164,"market_score":0.2037,"consumption_score":0.4061,"accessibility_score":0.6212,"climate_score":0.6727,"mobility_score":0.5,"ndi_score":0.5028,"ndi_10":5.03,"ndi_rank":25,"avg_hdd_yearly":6618.763636363637},{"settlement_id":17,"settlement_name":"—Å–µ–ª–æ –í—ã–ª—å–≥–æ—Ä—Ç","settlement_type":"—Å–µ–ª–æ","region_name":"–†–µ—Å–ø—É–±–ª–∏–∫–∞ –ö–æ–º–∏","poad_score":0.3801,"market_score":0.2137,"consumption_score":0.4169,"accessibility_score":1.0,"climate_score":0.8185,"mobility_score":0.5,"ndi_score":0.4952,"ndi_10":4.95,"ndi_rank":26,"avg_hdd_yearly":5756.354545454546},{"settlement_id":110,"settlement_name":"–ø–æ—Å—ë–ª–æ–∫ –ì–æ—Ä–Ω–æ–ø—Ä–∞–≤–¥–∏–Ω—Å–∫","settlement_type":"–ø–æ—Å–µ–ª–æ–∫","region_name":"–•–∞–Ω—Ç—ã-–ú–∞–Ω—Å–∏–π—Å–∫–∏–π –∞–≤—Ç–æ–Ω–æ–º–Ω—ã–π –æ–∫—Ä—É–≥ - –Æ–≥—Ä–∞","poad_score":0.4786,"market_score":0.2663,"consumption_score":0.4445,"accessibility_score":0.7343,"climate_score":0.7098,"mobility_score":0.5,"ndi_score":0.4936,"ndi_10":4.94,"ndi_rank":27,"avg_hdd_yearly":6399.381818181818},{"settlement_id":99,"settlement_name":"—Ä–ø –£—Ä–¥–æ–º–∞","settlement_type":"—Ä–ø","region_name":"–ê—Ä—Ö–∞–Ω–≥–µ–ª—å—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å","poad_score":0.4535,"market_score":0.1875,"consumption_score":0.4655,"accessibility_score":0.7801,"climate_score":0.8397,"mobility_score":0.5,"ndi_score":0.4921,"ndi_10":4.92,"ndi_rank":28,"avg_hdd_yearly":5630.881818181818},{"settlement_id":36,"settlement_name":"—Ä–ø –û–∫—Ç—è–±—Ä—å—Å–∫–∏–π","settlement_type":"—Ä–ø","region_name":"–ê—Ä—Ö–∞–Ω–≥–µ–ª—å—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å","poad_score":0.4389,"market_score":0.2261,"consumption_score":0.4233,"accessibility_score":0.7238,"climate_score":0.8971,"mobility_score":0.5,"ndi_score":0.4856,"ndi_10":4.86,"ndi_rank":29,"avg_hdd_yearly":5291.6},{"settlement_id":123,"settlement_name":"–ø–≥—Ç –¢–∞–µ–∂–Ω—ã–π","settlement_type":"–ø–≥—Ç","region_name":"–•–∞–Ω—Ç—ã-–ú–∞–Ω—Å–∏–π—Å–∫–∏–π –∞–≤—Ç–æ–Ω–æ–º–Ω—ã–π –æ–∫—Ä—É–≥ - –Æ–≥—Ä–∞","poad_score":0.5545,"market_score":0.2041,"consumption_score":0.41,"accessibility_score":0.6175,"climate_score":0.7103,"mobility_score":0.5,"ndi_score":0.485,"ndi_10":4.85,"ndi_rank":30,"avg_hdd_yearly":6396.363636363636},{"settlement_id":40,"settlement_name":"–ø–æ—Å—ë–ª–æ–∫ –ë–µ—Ä–µ–∑–Ω–∏–∫","settlement_type":"–ø–æ—Å–µ–ª–æ–∫","region_name":"–ê—Ä—Ö–∞–Ω–≥–µ–ª—å—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å","poad_score":0.4881,"market_score":0.2135,"consumption_score":0.4177,"accessibility_score":0.6211,"climate_score":0.8689,"mobility_score":0.5,"ndi_score":0.4812,"ndi_10":4.81,"ndi_rank":31,"avg_hdd_yearly":5458.618181818182},{"settlement_id":92,"settlement_name":"–ø–≥—Ç –ó–µ–ª–µ–Ω–æ–±–æ—Ä—Å–∫–∏–π","settlement_type":"–ø–≥—Ç","region_name":"–ú—É—Ä–º–∞–Ω—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å","poad_score":0.6239,"market_score":0.1473,"consumption_score":0.5146,"accessibility_score":0.3066,"climate_score":0.8264,"mobility_score":0.5,"ndi_score":0.4787,"ndi_10":4.79,"ndi_rank":32,"avg_hdd_yearly":5710.0},{"settlement_id":5,"settlement_name":"—Å–µ–ª–æ –ö–∞—Ä–ø–æ–≥–æ—Ä—ã","settlement_type":"—Å–µ–ª–æ","region_name":"–ê—Ä—Ö–∞–Ω–≥–µ–ª—å—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å","poad_score":0.5355,"market_score":0.0723,"consumption_score":0.644,"accessibility_score":0.4887,"climate_score":0.8176,"mobility_score":0.5,"ndi_score":0.4785,"ndi_10":4.79,"ndi_rank":33,"avg_hdd_yearly":5761.954545454545},{"settlement_id":100,"settlement_name":"–ø–≥—Ç –ê–≥–∏—Ä–∏—à","settlement_type":"–ø–≥—Ç","region_name":"–•–∞–Ω—Ç—ã-–ú–∞–Ω—Å–∏–π—Å–∫–∏–π –∞–≤—Ç–æ–Ω–æ–º–Ω—ã–π –æ–∫—Ä—É–≥ - –Æ–≥—Ä–∞","poad_score":0.5582,"market_score":0.2275,"consumption_score":0.4061,"accessibility_score":0.565,"climate_score":0.666,"mobility_score":0.5,"ndi_score":0.4781,"ndi_10":4.78,"ndi_rank":34,"avg_hdd_yearly":6658.345454545454},{"settlement_id":66,"settlement_name":"—Ä–ø –ö–æ–Ω–æ—à–∞","settlement_type":"—Ä–ø","region_name":"–ê—Ä—Ö–∞–Ω–≥–µ–ª—å—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å","poad_score":0.3398,"market_score":0.129,"consumption_score":0.4655,"accessibility_score":1.0,"climate_score":0.87,"mobility_score":0.5,"ndi_score":0.4765,"ndi_10":4.77,"ndi_rank":35,"avg_hdd_yearly":5452.109090909091},{"settlement_id":79,"settlement_name":"—Å–µ–ª–æ –£—Å—Ç—å-–ö—É–ª–æ–º","settlement_type":"—Å–µ–ª–æ","region_name":"–†–µ—Å–ø—É–±–ª–∏–∫–∞ –ö–æ–º–∏","poad_score":0.496,"market_score":0.1406,"consumption_score":0.413,"accessibility_score":0.7283,"climate_score":0.7855,"mobility_score":0.5,"ndi_score":0.4765,"ndi_10":4.76,"ndi_rank":36,"avg_hdd_yearly":5951.372727272727},{"settlement_id":98,"settlement_name":"–ø–≥—Ç –¢–∞–ª–∏–Ω–∫–∞","settlement_type":"–ø–≥—Ç","region_name":"–•–∞–Ω—Ç—ã-–ú–∞–Ω—Å–∏–π—Å–∫–∏–π –∞–≤—Ç–æ–Ω–æ–º–Ω—ã–π –æ–∫—Ä—É–≥ - –Æ–≥—Ä–∞","poad_score":0.4582,"market_score":0.3177,"consumption_score":0.4061,"accessibility_score":0.6476,"climate_score":0.6891,"mobility_score":0.5,"ndi_score":0.4759,"ndi_10":4.76,"ndi_rank":37,"avg_hdd_yearly":6521.818181818182},{"settlement_id":83,"settlement_name":"–ø–≥—Ç –ú–∞–ª–∏–Ω–æ–≤—Å–∫–∏–π","settlement_type":"–ø–≥—Ç","region_name":"–•–∞–Ω—Ç—ã-–ú–∞–Ω—Å–∏–π—Å–∫–∏–π –∞–≤—Ç–æ–Ω–æ–º–Ω—ã–π –æ–∫—Ä—É–≥ - –Æ–≥—Ä–∞","poad_score":0.5114,"market_score":0.1773,"consumption_score":0.474,"accessibility_score":0.6198,"climate_score":0.7159,"mobility_score":0.5,"ndi_score":0.4751,"ndi_10":4.75,"ndi_rank":38,"avg_hdd_yearly":6363.2},{"settlement_id":86,"settlement_name":"—Å–µ–ª–æ –û–±—ä—è—á–µ–≤–æ","settlement_type":"—Å–µ–ª–æ","region_name":"–†–µ—Å–ø—É–±–ª–∏–∫–∞ –ö–æ–º–∏","poad_score":0.4737,"market_score":0.1299,"consumption_score":0.413,"accessibility_score":0.7258,"climate_score":0.8578,"mobility_score":0.5,"ndi_score":0.4734,"ndi_10":4.73,"ndi_rank":39,"avg_hdd_yearly":5524.209090909091},{"settlement_id":37,"settlement_name":"—Å–µ–ª–æ –•–æ–ª–º–æ–≥–æ—Ä—ã","settlement_type":"—Å–µ–ª–æ","region_name":"–ê—Ä—Ö–∞–Ω–≥–µ–ª—å—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å","poad_score":0.5296,"market_score":0.2006,"consumption_score":0.4086,"accessibility_score":0.5113,"climate_score":0.8488,"mobility_score":0.5,"ndi_score":0.4733,"ndi_10":4.73,"ndi_rank":40,"avg_hdd_yearly":5577.190909090909},{"settlement_id":104,"settlement_name":"–ø–≥—Ç –ü—Ä–æ–≤–∏–¥–µ–Ω–∏—è","settlement_type":"–ø–≥—Ç","region_name":"–ß—É–∫–æ—Ç—Å–∫–∏–π –∞–≤—Ç–æ–Ω–æ–º–Ω—ã–π –æ–∫—Ä—É–≥","poad_score":0.787,"market_score":0.2544,"consumption_score":0.4364,"accessibility_score":0.0,"climate_score":0.506,"mobility_score":0.5,"ndi_score":0.4674,"ndi_10":4.67,"ndi_rank":41,"avg_hdd_yearly":7604.436363636363},{"settlement_id":109,"settlement_name":"–ø–≥—Ç –ê–Ω–¥—Ä–∞","settlement_type":"–ø–≥—Ç","region_name":"–•–∞–Ω—Ç—ã-–ú–∞–Ω—Å–∏–π—Å–∫–∏–π –∞–≤—Ç–æ–Ω–æ–º–Ω—ã–π –æ–∫—Ä—É–≥ - –Æ–≥—Ä–∞","poad_score":0.5702,"market_score":0.1882,"consumption_score":0.3684,"accessibility_score":0.566,"climate_score":0.6475,"mobility_score":0.5,"ndi_score":0.4671,"ndi_10":4.67,"ndi_rank":42,"avg_hdd_yearly":6767.309090909091},{"settlement_id":76,"settlement_name":"—Å–µ–ª–æ –ö–æ—Ä—Ç–∫–µ—Ä–æ—Å","settlement_type":"—Å–µ–ª–æ","region_name":"–†–µ—Å–ø—É–±–ª–∏–∫–∞ –ö–æ–º–∏","poad_score":0.3868,"market_score":0.1409,"consumption_score":0.413,"accessibility_score":0.901,"climate_score":0.8124,"mobility_score":0.5,"ndi_score":0.4669,"ndi_10":4.67,"ndi_rank":43,"avg_hdd_yearly":5792.409090909091},{"settlement_id":127,"settlement_name":"–ø–≥—Ç –ó–µ–ª–µ–Ω–æ–±–æ—Ä—Å–∫","settlement_type":"–ø–≥—Ç","region_name":"–•–∞–Ω—Ç—ã-–ú–∞–Ω—Å–∏–π—Å–∫–∏–π –∞–≤—Ç–æ–Ω–æ–º–Ω—ã–π –æ–∫—Ä—É–≥ - –Æ–≥—Ä–∞","poad_score":0.5198,"market_score":0.1811,"consumption_score":0.3949,"accessibility_score":0.6342,"climate_score":0.69,"mobility_score":0.5,"ndi_score":0.4665,"ndi_10":4.67,"ndi_rank":44,"avg_hdd_yearly":6516.463636363636},{"settlement_id":87,"settlement_name":"–ø–≥—Ç –ö—Ä–∞—Å–Ω–æ–∑–∞—Ç–æ–Ω—Å–∫–∏–π","settlement_type":"–ø–≥—Ç","region_name":"–†–µ—Å–ø—É–±–ª–∏–∫–∞ –ö–æ–º–∏","poad_score":0.3363,"market_score":0.1585,"consumption_score":0.413,"accessibility_score":0.971,"climate_score":0.8242,"mobility_score":0.5,"ndi_score":0.4644,"ndi_10":4.64,"ndi_rank":45,"avg_hdd_yearly":5722.8},{"settlement_id":42,"settlement_name":"–ø–≥—Ç –ò–∑–ª—É—á–∏–Ω—Å–∫","settlement_type":"–ø–≥—Ç","region_name":"–•–∞–Ω—Ç—ã-–ú–∞–Ω—Å–∏–π—Å–∫–∏–π –∞–≤—Ç–æ–Ω–æ–º–Ω—ã–π –æ–∫—Ä—É–≥ - –Æ–≥—Ä–∞","poad_score":0.3529,"market_score":0.2151,"consumption_score":0.3992,"accessibility_score":1.0,"climate_score":0.6273,"mobility_score":0.5,"ndi_score":0.4641,"ndi_10":4.64,"ndi_rank":46,"avg_hdd_yearly":6887.263636363637},{"settlement_id":7,"settlement_name":"—Ä–ø –ö—É–ª–æ–π","settlement_type":"—Ä–ø","region_name":"–ê—Ä—Ö–∞–Ω–≥–µ–ª—å—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å","poad_score":0.3924,"market_score":0.0687,"consumption_score":0.5444,"accessibility_score":0.7761,"climate_score":0.8969,"mobility_score":0.5,"ndi_score":0.4639,"ndi_10":4.64,"ndi_rank":47,"avg_hdd_yearly":5293.072727272727},{"settlement_id":54,"settlement_name":"–ø–≥—Ç –ö–æ–∂–≤–∞","settlement_type":"–ø–≥—Ç","region_name":"–†–µ—Å–ø—É–±–ª–∏–∫–∞ –ö–æ–º–∏","poad_score":0.7048,"market_score":0.0007,"consumption_score":0.413,"accessibility_score":0.4259,"climate_score":0.6416,"mobility_score":0.5,"ndi_score":0.4618,"ndi_10":4.62,"ndi_rank":48,"avg_hdd_yearly":6802.409090909091},{"settlement_id":6,"settlement_name":"–ø–≥—Ç –°–∞—Ñ–æ–Ω–æ–≤–æ","settlement_type":"–ø–≥—Ç","region_name":"–ú—É—Ä–º–∞–Ω—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å","poad_score":0.5698,"market_score":0.0742,"consumption_score":0.6871,"accessibility_score":0.2443,"climate_score":0.79,"mobility_score":0.5,"ndi_score":0.458,"ndi_10":4.58,"ndi_rank":49,"avg_hdd_yearly":5924.890909090909},{"settlement_id":108,"settlement_name":"–ø–≥—Ç –í–µ—Ä—Ö–Ω—è—è –ú–∞–∫—Å–∞–∫–æ–≤–∫–∞","settlement_type":"–ø–≥—Ç","region_name":"–†–µ—Å–ø—É–±–ª–∏–∫–∞ –ö–æ–º–∏","poad_score":0.3055,"market_score":0.1585,"consumption_score":0.413,"accessibility_score":0.9758,"climate_score":0.8239,"mobility_score":0.5,"ndi_score":0.4543,"ndi_10":4.54,"ndi_rank":50,"avg_hdd_yearly":5724.745454545455},{"settlement_id":45,"settlement_name":"–ø–≥—Ç –ñ–µ—à–∞—Ä—Ç","settlement_type":"–ø–≥—Ç","region_name":"–†–µ—Å–ø—É–±–ª–∏–∫–∞ –ö–æ–º–∏","poad_score":0.3326,"market_score":0.2358,"consumption_score":0.3739,"accessibility_score":0.8408,"climate_score":0.8192,"mobility_score":0.5,"ndi_score":0.4527,"ndi_10":4.53,"ndi_rank":51,"avg_hdd_yearly":5752.1},{"settlement_id":85,"settlement_name":"–ø–≥—Ç –ü–∏–æ–Ω–µ—Ä—Å–∫–∏–π","settlement_type":"–ø–≥—Ç","region_name":"–•–∞–Ω—Ç—ã-–ú–∞–Ω—Å–∏–π—Å–∫–∏–π –∞–≤—Ç–æ–Ω–æ–º–Ω—ã–π –æ–∫—Ä—É–≥ - –Æ–≥—Ä–∞","poad_score":0.4837,"market_score":0.1516,"consumption_score":0.39,"accessibility_score":0.6216,"climate_score":0.7125,"mobility_score":0.5,"ndi_score":0.4476,"ndi_10":4.48,"ndi_rank":52,"avg_hdd_yearly":6382.990909090909},{"settlement_id":77,"settlement_name":"—Å–µ–ª–æ –ò–∂–º–∞","settlement_type":"—Å–µ–ª–æ","region_name":"–†–µ—Å–ø—É–±–ª–∏–∫–∞ –ö–æ–º–∏","poad_score":0.4908,"market_score":0.2287,"consumption_score":0.413,"accessibility_score":0.4829,"climate_score":0.7048,"mobility_score":0.5,"ndi_score":0.4474,"ndi_10":4.47,"ndi_rank":53,"avg_hdd_yearly":6428.918181818181},{"settlement_id":69,"settlement_name":"–ø–≥—Ç –í—ã—Å–æ–∫–∏–π","settlement_type":"–ø–≥—Ç","region_name":"–•–∞–Ω—Ç—ã-–ú–∞–Ω—Å–∏–π—Å–∫–∏–π –∞–≤—Ç–æ–Ω–æ–º–Ω—ã–π –æ–∫—Ä—É–≥ - –Æ–≥—Ä–∞","poad_score":0.3807,"market_score":0.1742,"consumption_score":0.383,"accessibility_score":0.8882,"climate_score":0.635,"mobility_score":0.5,"ndi_score":0.4473,"ndi_10":4.47,"ndi_rank":54,"avg_hdd_yearly":6841.636363636364},{"settlement_id":116,"settlement_name":"–ø–≥—Ç –õ—É–≥–æ–≤–æ–π","settlement_type":"–ø–≥—Ç","region_name":"–•–∞–Ω—Ç—ã-–ú–∞–Ω—Å–∏–π—Å–∫–∏–π –∞–≤—Ç–æ–Ω–æ–º–Ω—ã–π –æ–∫—Ä—É–≥ - –Æ–≥—Ä–∞","poad_score":0.2824,"market_score":0.2047,"consumption_score":0.4061,"accessibility_score":0.9662,"climate_score":0.7634,"mobility_score":0.5,"ndi_score":0.447,"ndi_10":4.47,"ndi_rank":55,"avg_hdd_yearly":6082.372727272727},{"settlement_id":114,"settlement_name":"–ø–≥—Ç –û–∫—Ç—è–±—Ä—å—Å–∫–æ–µ","settlement_type":"–ø–≥—Ç","region_name":"–•–∞–Ω—Ç—ã-–ú–∞–Ω—Å–∏–π—Å–∫–∏–π –∞–≤—Ç–æ–Ω–æ–º–Ω—ã–π –æ–∫—Ä—É–≥ - –Æ–≥—Ä–∞","poad_score":0.4827,"market_score":0.197,"consumption_score":0.4112,"accessibility_score":0.5734,"climate_score":0.6494,"mobility_score":0.5,"ndi_score":0.446,"ndi_10":4.46,"ndi_rank":56,"avg_hdd_yearly":6756.145454545454},{"settlement_id":112,"settlement_name":"–°–µ–≤–µ—Ä–æ-–ï–Ω–∏—Å–µ–π—Å–∫–∏–π –≥–ø","settlement_type":"–ø–≥—Ç","region_name":"–ö—Ä–∞—Å–Ω–æ—è—Ä—Å–∫–∏–π –∫—Ä–∞–π","poad_score":0.557,"market_score":0.1899,"consumption_score":0.3665,"accessibility_score":0.5383,"climate_score":0.5128,"mobility_score":0.5,"ndi_score":0.4449,"ndi_10":4.45,"ndi_rank":57,"avg_hdd_yearly":7563.936363636363},{"settlement_id":56,"settlement_name":"–ø–≥—Ç –ë–ª–∞–≥–æ–µ–≤–æ","settlement_type":"–ø–≥—Ç","region_name":"–†–µ—Å–ø—É–±–ª–∏–∫–∞ –ö–æ–º–∏","poad_score":0.5223,"market_score":0.0088,"consumption_score":0.413,"accessibility_score":0.6201,"climate_score":0.798,"mobility_score":0.5,"ndi_score":0.4443,"ndi_10":4.44,"ndi_rank":58,"avg_hdd_yearly":5877.781818181818},{"settlement_id":55,"settlement_name":"—Å–µ–ª–æ –í–∏–∑–∏–Ω–≥–∞","settlement_type":"—Å–µ–ª–æ","region_name":"–†–µ—Å–ø—É–±–ª–∏–∫–∞ –ö–æ–º–∏","poad_score":0.4138,"market_score":0.0,"consumption_score":0.413,"accessibility_score":0.8571,"climate_score":0.8374,"mobility_score":0.5,"ndi_score":0.4441,"ndi_10":4.44,"ndi_rank":59,"avg_hdd_yearly":5644.572727272727},{"settlement_id":2,"settlement_name":"—Å–µ–ª–æ –ü—Ä–∏–≥–æ—Ä–æ–¥–Ω—ã–π","settlement_type":"—Å–µ–ª–æ","region_name":"–†–µ—Å–ø—É–±–ª–∏–∫–∞ –°–∞—Ö–∞ (–Ø–∫—É—Ç–∏—è)","poad_score":0.7048,"market_score":0.2122,"consumption_score":0.4716,"accessibility_score":0.2359,"climate_score":0.2351,"mobility_score":0.5,"ndi_score":0.4438,"ndi_10":4.44,"ndi_rank":60,"avg_hdd_yearly":9205.872727272726},{"settlement_id":115,"settlement_name":"—Å–µ–ª–æ –ê–π–∫–∏–Ω–æ","settlement_type":"—Å–µ–ª–æ","region_name":"–†–µ—Å–ø—É–±–ª–∏–∫–∞ –ö–æ–º–∏","poad_score":0.3128,"market_score":0.174,"consumption_score":0.4401,"accessibility_score":0.8453,"climate_score":0.8041,"mobility_score":0.5,"ndi_score":0.4425,"ndi_10":4.42,"ndi_rank":61,"avg_hdd_yearly":5841.845454545454},{"settlement_id":88,"settlement_name":"—Ä–ø –®–∏–ø–∏—Ü—ã–Ω–æ","settlement_type":"—Ä–ø","region_name":"–ê—Ä—Ö–∞–Ω–≥–µ–ª—å—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å","poad_score":0.3771,"market_score":0.1371,"consumption_score":0.4655,"accessibility_score":0.6386,"climate_score":0.8829,"mobility_score":0.5,"ndi_score":0.4383,"ndi_10":4.38,"ndi_rank":62,"avg_hdd_yearly":5375.445454545455},{"settlement_id":111,"settlement_name":"–ø–æ—Å–µ–ª–æ–∫ –•–∞–Ω—ã–º–µ–π","settlement_type":"–ø–æ—Å–µ–ª–æ–∫","region_name":"–Ø–º–∞–ª–æ-–ù–µ–Ω–µ—Ü–∫–∏–π –∞–≤—Ç–æ–Ω–æ–º–Ω—ã–π –æ–∫—Ä—É–≥","poad_score":0.4552,"market_score":0.2223,"consumption_score":0.4289,"accessibility_score":0.6194,"climate_score":0.5065,"mobility_score":0.5,"ndi_score":0.4367,"ndi_10":4.37,"ndi_rank":63,"avg_hdd_yearly":7601.590909090909},{"settlement_id":105,"settlement_name":"–ø–≥—Ç –ü–æ–≤–µ–Ω–µ—Ü","settlement_type":"–ø–≥—Ç","region_name":"–†–µ—Å–ø—É–±–ª–∏–∫–∞ –ö–∞—Ä–µ–ª–∏—è","poad_score":0.34,"market_score":0.2397,"consumption_score":0.481,"accessibility_score":0.524,"climate_score":0.9284,"mobility_score":0.5,"ndi_score":0.4355,"ndi_10":4.36,"ndi_rank":64,"avg_hdd_yearly":5106.863636363636},{"settlement_id":91,"settlement_name":"–ø–≥—Ç –°–∏–Ω–¥–æ—Ä","settlement_type":"–ø–≥—Ç","region_name":"–†–µ—Å–ø—É–±–ª–∏–∫–∞ –ö–æ–º–∏","poad_score":0.3866,"market_score":0.1316,"consumption_score":0.413,"accessibility_score":0.7353,"climate_score":0.7596,"mobility_score":0.5,"ndi_score":0.4348,"ndi_10":4.35,"ndi_rank":65,"avg_hdd_yearly":6104.963636363636},{"settlement_id":113,"settlement_name":"–ø–≥—Ç –í–µ—Ä—Ö–Ω–µ—Ç—É–ª–æ–º—Å–∫–∏–π","settlement_type":"–ø–≥—Ç","region_name":"–ú—É—Ä–º–∞–Ω—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å","poad_score":0.5575,"market_score":0.1908,"consumption_score":0.3917,"accessibility_score":0.2494,"climate_score":0.7789,"mobility_score":0.5,"ndi_score":0.4323,"ndi_10":4.32,"ndi_rank":66,"avg_hdd_yearly":5990.909090909091},{"settlement_id":1,"settlement_name":"–ø–≥—Ç –£—Ä–µ–Ω–≥–æ–π","settlement_type":"–ø–≥—Ç","region_name":"–Ø–º–∞–ª–æ-–ù–µ–Ω–µ—Ü–∫–∏–π –∞–≤—Ç–æ–Ω–æ–º–Ω—ã–π –æ–∫—Ä—É–≥","poad_score":0.4369,"market_score":0.2223,"consumption_score":0.4289,"accessibility_score":0.6997,"climate_score":0.3961,"mobility_score":0.5,"ndi_score":0.4313,"ndi_10":4.31,"ndi_rank":67,"avg_hdd_yearly":8254.181818181818},{"settlement_id":103,"settlement_name":"—Å–µ–ª–æ –ê–∫—Å–∞—Ä–∫–∞","settlement_type":"—Å–µ–ª–æ","region_name":"–Ø–º–∞–ª–æ-–ù–µ–Ω–µ—Ü–∫–∏–π –∞–≤—Ç–æ–Ω–æ–º–Ω—ã–π –æ–∫—Ä—É–≥","poad_score":0.4524,"market_score":0.1882,"consumption_score":0.5415,"accessibility_score":0.5593,"climate_score":0.4343,"mobility_score":0.5,"ndi_score":0.4295,"ndi_10":4.3,"ndi_rank":68,"avg_hdd_yearly":8027.990909090909},{"settlement_id":25,"settlement_name":"–ø–æ—Å—ë–ª–æ–∫ –£–Ω—ä—é–≥–∞–Ω","settlement_type":"–ø–æ—Å–µ–ª–æ–∫","region_name":"–•–∞–Ω—Ç—ã-–ú–∞–Ω—Å–∏–π—Å–∫–∏–π –∞–≤—Ç–æ–Ω–æ–º–Ω—ã–π –æ–∫—Ä—É–≥ - –Æ–≥—Ä–∞","poad_score":0.3983,"market_score":0.231,"consumption_score":0.4073,"accessibility_score":0.5981,"climate_score":0.666,"mobility_score":0.5,"ndi_score":0.428,"ndi_10":4.28,"ndi_rank":69,"avg_hdd_yearly":6658.045454545455},{"settlement_id":30,"settlement_name":"—Å–µ–ª–æ –õ–µ—à—É–∫–æ–Ω—Å–∫–æ–µ","settlement_type":"—Å–µ–ª–æ","region_name":"–ê—Ä—Ö–∞–Ω–≥–µ–ª—å—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å","poad_score":0.3758,"market_score":0.2339,"consumption_score":0.506,"accessibility_score":0.4602,"climate_score":0.7774,"mobility_score":0.5,"ndi_score":0.426,"ndi_10":4.26,"ndi_rank":70,"avg_hdd_yearly":5999.272727272727},{"settlement_id":118,"settlement_name":"–ø–≥—Ç –ó–∞–ø–æ–ª—è—Ä–Ω—ã–π","settlement_type":"–ø–≥—Ç","region_name":"–Ø–º–∞–ª–æ-–ù–µ–Ω–µ—Ü–∫–∏–π –∞–≤—Ç–æ–Ω–æ–º–Ω—ã–π –æ–∫—Ä—É–≥","poad_score":0.4419,"market_score":0.0129,"consumption_score":0.5025,"accessibility_score":0.8546,"climate_score":0.3984,"mobility_score":0.5,"ndi_score":0.4256,"ndi_10":4.26,"ndi_rank":71,"avg_hdd_yearly":8240.40909090909},{"settlement_id":70,"settlement_name":"–ø–≥—Ç –£—Å–æ–≥–æ—Ä—Å–∫","settlement_type":"–ø–≥—Ç","region_name":"–†–µ—Å–ø—É–±–ª–∏–∫–∞ –ö–æ–º–∏","poad_score":0.3794,"market_score":0.1545,"consumption_score":0.413,"accessibility_score":0.6408,"climate_score":0.7888,"mobility_score":0.5,"ndi_score":0.4256,"ndi_10":4.26,"ndi_rank":72,"avg_hdd_yearly":5932.190909090909},{"settlement_id":90,"settlement_name":"–ø–≥—Ç –ú–µ–∂–¥—É—Ä–µ—á–µ–Ω—Å–∫","settlement_type":"–ø–≥—Ç","region_name":"–†–µ—Å–ø—É–±–ª–∏–∫–∞ –ö–æ–º–∏","poad_score":0.3656,"market_score":0.1554,"consumption_score":0.413,"accessibility_score":0.659,"climate_score":0.7818,"mobility_score":0.5,"ndi_score":0.423,"ndi_10":4.23,"ndi_rank":73,"avg_hdd_yearly":5973.254545454545},{"settlement_id":41,"settlement_name":"—Å–µ–ª–æ –£—Å—Ç—å-–¶–∏–ª—å–º–∞","settlement_type":"—Å–µ–ª–æ","region_name":"–†–µ—Å–ø—É–±–ª–∏–∫–∞ –ö–æ–º–∏","poad_score":0.4718,"market_score":0.2142,"consumption_score":0.3247,"accessibility_score":0.4678,"climate_score":0.708,"mobility_score":0.5,"ndi_score":0.4226,"ndi_10":4.23,"ndi_rank":74,"avg_hdd_yearly":6409.6},{"settlement_id":44,"settlement_name":"–ø–≥—Ç –ê–π—Ö–∞–ª","settlement_type":"–ø–≥—Ç","region_name":"–†–µ—Å–ø—É–±–ª–∏–∫–∞ –°–∞—Ö–∞ (–Ø–∫—É—Ç–∏—è)","poad_score":0.3959,"market_score":0.2099,"consumption_score":0.3431,"accessibility_score":1.0,"climate_score":0.1386,"mobility_score":0.5,"ndi_score":0.4209,"ndi_10":4.21,"ndi_rank":75,"avg_hdd_yearly":9776.690909090908},{"settlement_id":27,"settlement_name":"–ø–æ—Å—ë–ª–æ–∫ –ö–∞—Ç—É–Ω–∏–Ω–æ","settlement_type":"–ø–æ—Å–µ–ª–æ–∫","region_name":"–ê—Ä—Ö–∞–Ω–≥–µ–ª—å—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å","poad_score":0.3663,"market_score":0.2346,"consumption_score":0.4018,"accessibility_score":0.5026,"climate_score":0.8505,"mobility_score":0.5,"ndi_score":0.4208,"ndi_10":4.21,"ndi_rank":76,"avg_hdd_yearly":5567.345454545454},{"settlement_id":52,"settlement_name":"–ø–≥—Ç –•–µ–ª—é–ª—è","settlement_type":"–ø–≥—Ç","region_name":"–†–µ—Å–ø—É–±–ª–∏–∫–∞ –ö–∞—Ä–µ–ª–∏—è","poad_score":0.4431,"market_score":0.0195,"consumption_score":0.481,"accessibility_score":0.4143,"climate_score":1.0,"mobility_score":0.5,"ndi_score":0.4183,"ndi_10":4.18,"ndi_rank":77,"avg_hdd_yearly":4683.345454545454},{"settlement_id":10,"settlement_name":"–ø–≥—Ç –í–æ–¥–Ω—ã–π","settlement_type":"–ø–≥—Ç","region_name":"–†–µ—Å–ø—É–±–ª–∏–∫–∞ –ö–æ–º–∏","poad_score":0.4059,"market_score":0.0645,"consumption_score":0.4666,"accessibility_score":0.6172,"climate_score":0.7445,"mobility_score":0.5,"ndi_score":0.417,"ndi_10":4.17,"ndi_rank":78,"avg_hdd_yearly":6194.190909090909},{"settlement_id":73,"settlement_name":"–ø–≥—Ç –¢—Ä–æ–∏—Ü–∫–æ-–ü–µ—á–æ—Ä—Å–∫","settlement_type":"–ø–≥—Ç","region_name":"–†–µ—Å–ø—É–±–ª–∏–∫–∞ –ö–æ–º–∏","poad_score":0.4097,"market_score":0.1452,"consumption_score":0.413,"accessibility_score":0.5627,"climate_score":0.7234,"mobility_score":0.5,"ndi_score":0.4161,"ndi_10":4.16,"ndi_rank":79,"avg_hdd_yearly":6319.045454545455},{"settlement_id":82,"settlement_name":"–ø–≥—Ç –ü—Ä–∏–æ–±—å–µ","settlement_type":"–ø–≥—Ç","region_name":"–•–∞–Ω—Ç—ã-–ú–∞–Ω—Å–∏–π—Å–∫–∏–π –∞–≤—Ç–æ–Ω–æ–º–Ω—ã–π –æ–∫—Ä—É–≥ - –Æ–≥—Ä–∞","poad_score":0.4305,"market_score":0.1742,"consumption_score":0.3703,"accessibility_score":0.5545,"climate_score":0.6472,"mobility_score":0.5,"ndi_score":0.414,"ndi_10":4.14,"ndi_rank":80,"avg_hdd_yearly":6769.654545454546},{"settlement_id":22,"settlement_name":"–ø–≥—Ç –ü–∏–Ω–¥—É—à–∏","settlement_type":"–ø–≥—Ç","region_name":"–†–µ—Å–ø—É–±–ª–∏–∫–∞ –ö–∞—Ä–µ–ª–∏—è","poad_score":0.3215,"market_score":0.2015,"consumption_score":0.4388,"accessibility_score":0.5127,"climate_score":0.9233,"mobility_score":0.5,"ndi_score":0.4129,"ndi_10":4.13,"ndi_rank":81,"avg_hdd_yearly":5136.972727272727},{"settlement_id":16,"settlement_name":"–ø–≥—Ç –ü–æ–¥—Ç–µ—Å–æ–≤–æ","settlement_type":"–ø–≥—Ç","region_name":"–ö—Ä–∞—Å–Ω–æ—è—Ä—Å–∫–∏–π –∫—Ä–∞–π","poad_score":0.4097,"market_score":0.1837,"consumption_score":0.3518,"accessibility_score":0.5572,"climate_score":0.7011,"mobility_score":0.5,"ndi_score":0.4116,"ndi_10":4.12,"ndi_rank":82,"avg_hdd_yearly":6450.418181818181},{"settlement_id":94,"settlement_name":"–ø–≥—Ç –ö–∏–ª—å–¥–∏–Ω—Å—Ç—Ä–æ–π","settlement_type":"–ø–≥—Ç","region_name":"–ú—É—Ä–º–∞–Ω—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å","poad_score":0.4684,"market_score":0.1364,"consumption_score":0.5146,"accessibility_score":0.2506,"climate_score":0.7783,"mobility_score":0.5,"ndi_score":0.4088,"ndi_10":4.09,"ndi_rank":83,"avg_hdd_yearly":5994.363636363636},{"settlement_id":39,"settlement_name":"–ø–≥—Ç –ù–∏–∂–Ω–∏–π –û–¥–µ—Å","settlement_type":"–ø–≥—Ç","region_name":"–†–µ—Å–ø—É–±–ª–∏–∫–∞ –ö–æ–º–∏","poad_score":0.3591,"market_score":0.222,"consumption_score":0.3763,"accessibility_score":0.5627,"climate_score":0.7026,"mobility_score":0.5,"ndi_score":0.4062,"ndi_10":4.06,"ndi_rank":84,"avg_hdd_yearly":6441.536363636364},{"settlement_id":106,"settlement_name":"–ø–≥—Ç –®—É–¥–∞—è–≥","settlement_type":"–ø–≥—Ç","region_name":"–†–µ—Å–ø—É–±–ª–∏–∫–∞ –ö–æ–º–∏","poad_score":0.3783,"market_score":0.0645,"consumption_score":0.4666,"accessibility_score":0.6093,"climate_score":0.7424,"mobility_score":0.5,"ndi_score":0.4059,"ndi_10":4.06,"ndi_rank":85,"avg_hdd_yearly":6206.654545454546},{"settlement_id":23,"settlement_name":"–ø–≥—Ç –õ–æ—É—Ö–∏","settlement_type":"–ø–≥—Ç","region_name":"–†–µ—Å–ø—É–±–ª–∏–∫–∞ –ö–∞—Ä–µ–ª–∏—è","poad_score":0.3974,"market_score":0.2225,"consumption_score":0.3971,"accessibility_score":0.3409,"climate_score":0.8465,"mobility_score":0.5,"ndi_score":0.4039,"ndi_10":4.04,"ndi_rank":86,"avg_hdd_yearly":5591.181818181818},{"settlement_id":8,"settlement_name":"–ø–æ—Å–µ–ª–æ–∫ –£–µ–º—Å–∫–∏–π","settlement_type":"–ø–æ—Å–µ–ª–æ–∫","region_name":"–ê—Ä—Ö–∞–Ω–≥–µ–ª—å—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å","poad_score":0.3981,"market_score":0.0602,"consumption_score":0.4585,"accessibility_score":0.495,"climate_score":0.8443,"mobility_score":0.5,"ndi_score":0.4038,"ndi_10":4.04,"ndi_rank":87,"avg_hdd_yearly":5603.827272727272},{"settlement_id":80,"settlement_name":"–ø–≥—Ç –°–µ–¥–∫—ã—Ä–∫–µ—â","settlement_type":"–ø–≥—Ç","region_name":"–†–µ—Å–ø—É–±–ª–∏–∫–∞ –ö–æ–º–∏","poad_score":0.1548,"market_score":0.1585,"consumption_score":0.413,"accessibility_score":0.9667,"climate_score":0.8234,"mobility_score":0.5,"ndi_score":0.4002,"ndi_10":4.0,"ndi_rank":88,"avg_hdd_yearly":5727.290909090909},{"settlement_id":102,"settlement_name":"–ø–≥—Ç –ú—É–µ–∑–µ—Ä—Å–∫–∏–π","settlement_type":"–ø–≥—Ç","region_name":"–†–µ—Å–ø—É–±–ª–∏–∫–∞ –ö–∞—Ä–µ–ª–∏—è","poad_score":0.2445,"market_score":0.3369,"consumption_score":0.481,"accessibility_score":0.4031,"climate_score":0.8854,"mobility_score":0.5,"ndi_score":0.3991,"ndi_10":3.99,"ndi_rank":89,"avg_hdd_yearly":5361.0},{"settlement_id":63,"settlement_name":"–ø–æ—Å–µ–ª–æ–∫ –¢–∞–µ–∂–Ω—ã–π","settlement_type":"–ø–æ—Å–µ–ª–æ–∫","region_name":"–ö—Ä–∞—Å–Ω–æ—è—Ä—Å–∫–∏–π –∫—Ä–∞–π","poad_score":0.1893,"market_score":0.1692,"consumption_score":0.4461,"accessibility_score":0.925,"climate_score":0.6795,"mobility_score":0.5,"ndi_score":0.3987,"ndi_10":3.99,"ndi_rank":90,"avg_hdd_yearly":6578.163636363636},{"settlement_id":58,"settlement_name":"—Ä–ø –ü—Ä–∏–≤–æ–¥–∏–Ω–æ","settlement_type":"—Ä–ø","region_name":"–ê—Ä—Ö–∞–Ω–≥–µ–ª—å—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å","poad_score":0.3282,"market_score":0.0171,"consumption_score":0.4655,"accessibility_score":0.6317,"climate_score":0.8748,"mobility_score":0.5,"ndi_score":0.3954,"ndi_10":3.95,"ndi_rank":91,"avg_hdd_yearly":5423.627272727273},{"settlement_id":68,"settlement_name":"–ø–≥—Ç –í—è—Ä—Ç—Å–∏–ª—è","settlement_type":"–ø–≥—Ç","region_name":"–†–µ—Å–ø—É–±–ª–∏–∫–∞ –ö–∞—Ä–µ–ª–∏—è","poad_score":0.3117,"market_score":0.15,"consumption_score":0.481,"accessibility_score":0.4114,"climate_score":0.9571,"mobility_score":0.5,"ndi_score":0.3937,"ndi_10":3.94,"ndi_rank":92,"avg_hdd_yearly":4937.281818181818},{"settlement_id":93,"settlement_name":"–ø–≥—Ç –ö—É–º–∏–Ω—Å–∫–∏–π","settlement_type":"–ø–≥—Ç","region_name":"–•–∞–Ω—Ç—ã-–ú–∞–Ω—Å–∏–π—Å–∫–∏–π –∞–≤—Ç–æ–Ω–æ–º–Ω—ã–π –æ–∫—Ä—É–≥ - –Æ–≥—Ä–∞","poad_score":0.2086,"market_score":0.1509,"consumption_score":0.4061,"accessibility_score":0.83,"climate_score":0.7761,"mobility_score":0.5,"ndi_score":0.3912,"ndi_10":3.91,"ndi_rank":93,"avg_hdd_yearly":6007.309090909091},{"settlement_id":84,"settlement_name":"–ø–≥—Ç –†–µ–≤–¥–∞","settlement_type":"–ø–≥—Ç","region_name":"–ú—É—Ä–º–∞–Ω—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å","poad_score":0.4286,"market_score":0.115,"consumption_score":0.5146,"accessibility_score":0.2845,"climate_score":0.7216,"mobility_score":0.5,"ndi_score":0.39,"ndi_10":3.9,"ndi_rank":94,"avg_hdd_yearly":6329.327272727272},{"settlement_id":3,"settlement_name":"—Ä–∞–±–æ—á–∏–π –ø–æ—Å–µ–ª–æ–∫ –ò—Å–∫–∞—Ç–µ–ª–µ–π","settlement_type":"—Ä–ø","region_name":"–ù–µ–Ω–µ—Ü–∫–∏–π –∞–≤—Ç–æ–Ω–æ–º–Ω—ã–π –æ–∫—Ä—É–≥","poad_score":0.377,"market_score":0.2021,"consumption_score":0.5245,"accessibility_score":0.3357,"climate_score":0.6006,"mobility_score":0.5,"ndi_score":0.3864,"ndi_10":3.86,"ndi_rank":95,"avg_hdd_yearly":7044.963636363636},{"settlement_id":72,"settlement_name":"–ø–≥—Ç –ú–æ–ª–æ—á–Ω—ã–π","settlement_type":"–ø–≥—Ç","region_name":"–ú—É—Ä–º–∞–Ω—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å","poad_score":0.3902,"market_score":0.15,"consumption_score":0.5146,"accessibility_score":0.2488,"climate_score":0.7766,"mobility_score":0.5,"ndi_score":0.3838,"ndi_10":3.84,"ndi_rank":96,"avg_hdd_yearly":6004.027272727273},{"settlement_id":53,"settlement_name":"–ø–≥—Ç –ß–µ—Ä–Ω—ã—à–µ–≤—Å–∫–∏–π","settlement_type":"–ø–≥—Ç","region_name":"–†–µ—Å–ø—É–±–ª–∏–∫–∞ –°–∞—Ö–∞ (–Ø–∫—É—Ç–∏—è)","poad_score":0.4921,"market_score":0.0185,"consumption_score":0.4519,"accessibility_score":0.5433,"climate_score":0.2973,"mobility_score":0.5,"ndi_score":0.38,"ndi_10":3.8,"ndi_rank":97,"avg_hdd_yearly":8837.981818181817},{"settlement_id":13,"settlement_name":"–ø–≥—Ç –Ø—Ä–µ–≥–∞","settlement_type":"–ø–≥—Ç","region_name":"–†–µ—Å–ø—É–±–ª–∏–∫–∞ –ö–æ–º–∏","poad_score":0.2995,"market_score":0.0645,"consumption_score":0.4666,"accessibility_score":0.6187,"climate_score":0.7261,"mobility_score":0.5,"ndi_score":0.3781,"ndi_10":3.78,"ndi_rank":98,"avg_hdd_yearly":6303.054545454545},{"settlement_id":101,"settlement_name":"–ø–≥—Ç –°–≤–µ—Ç–ª—ã–π","settlement_type":"–ø–≥—Ç","region_name":"–†–µ—Å–ø—É–±–ª–∏–∫–∞ –°–∞—Ö–∞ (–Ø–∫—É—Ç–∏—è)","poad_score":0.3946,"market_score":0.1733,"consumption_score":0.4519,"accessibility_score":0.5384,"climate_score":0.2917,"mobility_score":0.5,"ndi_score":0.3755,"ndi_10":3.75,"ndi_rank":99,"avg_hdd_yearly":8871.518181818183},{"settlement_id":75,"settlement_name":"–ø–≥—Ç –ù–∏–∫–µ–ª—å","settlement_type":"–ø–≥—Ç","region_name":"–ú—É—Ä–º–∞–Ω—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å","poad_score":0.3868,"market_score":0.1225,"consumption_score":0.5146,"accessibility_score":0.2212,"climate_score":0.7621,"mobility_score":0.5,"ndi_score":0.3714,"ndi_10":3.71,"ndi_rank":100,"avg_hdd_yearly":6090.263636363637},{"settlement_id":24,"settlement_name":"–ø–≥—Ç –í–æ—Ä–≥–∞—à–æ—Ä","settlement_type":"–ø–≥—Ç","region_name":"–†–µ—Å–ø—É–±–ª–∏–∫–∞ –ö–æ–º–∏","poad_score":0.3823,"market_score":0.2375,"consumption_score":0.3929,"accessibility_score":0.4204,"climate_score":0.4159,"mobility_score":0.5,"ndi_score":0.3699,"ndi_10":3.7,"ndi_rank":101,"avg_hdd_yearly":8136.736363636363},{"settlement_id":89,"settlement_name":"—Å–µ–ª–æ –ê–ª–∞–∫—É—Ä—Ç—Ç–∏","settlement_type":"—Å–µ–ª–æ","region_name":"–ú—É—Ä–º–∞–Ω—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å","poad_score":0.3395,"market_score":0.1316,"consumption_score":0.5146,"accessibility_score":0.2845,"climate_score":0.7839,"mobility_score":0.5,"ndi_score":0.3684,"ndi_10":3.68,"ndi_rank":102,"avg_hdd_yearly":5960.990909090909},{"settlement_id":33,"settlement_name":"—Ä–ø –ú–∞–ª–æ—à—É–π–∫–∞","settlement_type":"—Ä–ø","region_name":"–ê—Ä—Ö–∞–Ω–≥–µ–ª—å—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å","poad_score":0.1873,"market_score":0.2356,"consumption_score":0.3848,"accessibility_score":0.5368,"climate_score":0.9012,"mobility_score":0.5,"ndi_score":0.366,"ndi_10":3.66,"ndi_rank":103,"avg_hdd_yearly":5267.327272727272},{"settlement_id":20,"settlement_name":"–ø–≥—Ç –°–µ–≤–µ—Ä–Ω—ã–π","settlement_type":"–ø–≥—Ç","region_name":"–†–µ—Å–ø—É–±–ª–∏–∫–∞ –ö–æ–º–∏","poad_score":0.3553,"market_score":0.2375,"consumption_score":0.3929,"accessibility_score":0.427,"climate_score":0.437,"mobility_score":0.5,"ndi_score":0.3635,"ndi_10":3.64,"ndi_rank":104,"avg_hdd_yearly":8012.4},{"settlement_id":74,"settlement_name":"–ø–≥—Ç –†–∞–∑–¥–æ–ª–∏–Ω—Å–∫","settlement_type":"–ø–≥—Ç","region_name":"–ö—Ä–∞—Å–Ω–æ—è—Ä—Å–∫–∏–π –∫—Ä–∞–π","poad_score":0.1911,"market_score":0.1354,"consumption_score":0.4461,"accessibility_score":0.7141,"climate_score":0.6581,"mobility_score":0.5,"ndi_score":0.3588,"ndi_10":3.59,"ndi_rank":105,"avg_hdd_yearly":6704.845454545454},{"settlement_id":26,"settlement_name":"—Å–µ–ª–æ –í–µ—Ä—Ö–Ω–µ–ø–∞—à–∏–Ω–æ","settlement_type":"—Å–µ–ª–æ","region_name":"–ö—Ä–∞—Å–Ω–æ—è—Ä—Å–∫–∏–π –∫—Ä–∞–π","poad_score":0.113,"market_score":0.2294,"consumption_score":0.6036,"accessibility_score":0.5655,"climate_score":0.7099,"mobility_score":0.5,"ndi_score":0.3568,"ndi_10":3.57,"ndi_rank":106,"avg_hdd_yearly":6398.827272727272},{"settlement_id":78,"settlement_name":"–Ω–∞—Å–µ–ª–µ–Ω–Ω—ã–π –ø—É–Ω–∫—Ç –í–∏–¥—è–µ–≤–æ","settlement_type":"–ø–æ—Å–µ–ª–æ–∫","region_name":"–ú—É—Ä–º–∞–Ω—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å","poad_score":0.3081,"market_score":0.1377,"consumption_score":0.5146,"accessibility_score":0.2352,"climate_score":0.799,"mobility_score":0.5,"ndi_score":0.3527,"ndi_10":3.53,"ndi_rank":107,"avg_hdd_yearly":5871.581818181819},{"settlement_id":81,"settlement_name":"–ø–≥—Ç –ü–µ—á–µ–Ω–≥–∞","settlement_type":"–ø–≥—Ç","region_name":"–ú—É—Ä–º–∞–Ω—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å","poad_score":0.31,"market_score":0.1225,"consumption_score":0.5146,"accessibility_score":0.2226,"climate_score":0.782,"mobility_score":0.5,"ndi_score":0.3468,"ndi_10":3.47,"ndi_rank":108,"avg_hdd_yearly":5972.390909090909},{"settlement_id":48,"settlement_name":"–ø–≥—Ç –ú—É—Ä–º–∞—à–∏","settlement_type":"–ø–≥—Ç","region_name":"–ú—É—Ä–º–∞–Ω—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å","poad_score":0.3494,"market_score":0.0036,"consumption_score":0.5146,"accessibility_score":0.2489,"climate_score":0.7778,"mobility_score":0.5,"ndi_score":0.3403,"ndi_10":3.4,"ndi_rank":109,"avg_hdd_yearly":5997.445454545455},{"settlement_id":9,"settlement_name":"—Å–µ–ª–æ –ö—Ä–∞—Å–Ω–æ—Å–µ–ª—å–∫—É–ø","settlement_type":"—Å–µ–ª–æ","region_name":"–Ø–º–∞–ª–æ-–ù–µ–Ω–µ—Ü–∫–∏–π –∞–≤—Ç–æ–Ω–æ–º–Ω—ã–π –æ–∫—Ä—É–≥","poad_score":0.2503,"market_score":0.0642,"consumption_score":0.611,"accessibility_score":0.5153,"climate_score":0.4094,"mobility_score":0.5,"ndi_score":0.3353,"ndi_10":3.35,"ndi_rank":110,"avg_hdd_yearly":8175.472727272727},{"settlement_id":46,"settlement_name":"—Å–µ–ª–æ –í–∞–Ω–∞–≤–∞—Ä–∞","settlement_type":"—Å–µ–ª–æ","region_name":"–ö—Ä–∞—Å–Ω–æ—è—Ä—Å–∫–∏–π –∫—Ä–∞–π","poad_score":0.2078,"market_score":0.2361,"consumption_score":0.3391,"accessibility_score":0.5258,"climate_score":0.5041,"mobility_score":0.5,"ndi_score":0.3251,"ndi_10":3.25,"ndi_rank":111,"avg_hdd_yearly":7615.636363636364},{"settlement_id":62,"settlement_name":"–ø–≥—Ç –ú–æ—Ç—ã–≥–∏–Ω–æ","settlement_type":"–ø–≥—Ç","region_name":"–ö—Ä–∞—Å–Ω–æ—è—Ä—Å–∫–∏–π –∫—Ä–∞–π","poad_score":0.0537,"market_score":0.1549,"consumption_score":0.4635,"accessibility_score":0.7172,"climate_score":0.6959,"mobility_score":0.5,"ndi_score":0.3215,"ndi_10":3.21,"ndi_rank":112,"avg_hdd_yearly":6481.572727272727},{"settlement_id":51,"settlement_name":"—Å–µ–ª–æ –ì—ã–¥–∞","settlement_type":"—Å–µ–ª–æ","region_name":"–Ø–º–∞–ª–æ-–ù–µ–Ω–µ—Ü–∫–∏–π –∞–≤—Ç–æ–Ω–æ–º–Ω—ã–π –æ–∫—Ä—É–≥","poad_score":0.3987,"market_score":0.0155,"consumption_score":0.5025,"accessibility_score":0.3801,"climate_score":0.2126,"mobility_score":0.5,"ndi_score":0.3213,"ndi_10":3.21,"ndi_rank":113,"avg_hdd_yearly":9339.09090909091},{"settlement_id":119,"settlement_name":"–ø–≥—Ç –ê–ª–º–∞–∑–Ω—ã–π","settlement_type":"–ø–≥—Ç","region_name":"–†–µ—Å–ø—É–±–ª–∏–∫–∞ –°–∞—Ö–∞ (–Ø–∫—É—Ç–∏—è)","poad_score":0.2109,"market_score":0.1901,"consumption_score":0.4519,"accessibility_score":0.4801,"climate_score":0.3597,"mobility_score":0.5,"ndi_score":0.3126,"ndi_10":3.13,"ndi_rank":114,"avg_hdd_yearly":8469.190909090908},{"settlement_id":122,"settlement_name":"—Å–µ–ª–æ –•–∞—Ç–∞—Å—Å—ã","settlement_type":"—Å–µ–ª–æ","region_name":"–†–µ—Å–ø—É–±–ª–∏–∫–∞ –°–∞—Ö–∞ (–Ø–∫—É—Ç–∏—è)","poad_score":0.255,"market_score":0.2122,"consumption_score":0.4716,"accessibility_score":0.2355,"climate_score":0.2378,"mobility_score":0.5,"ndi_score":0.2865,"ndi_10":2.87,"ndi_rank":115,"avg_hdd_yearly":9189.963636363636},{"settlement_id":29,"settlement_name":"—Å–µ–ª–æ –ê–Ω—Ç–æ–Ω–æ–≤–∫–∞","settlement_type":"—Å–µ–ª–æ","region_name":"–†–µ—Å–ø—É–±–ª–∏–∫–∞ –°–∞—Ö–∞ (–Ø–∫—É—Ç–∏—è)","poad_score":0.136,"market_score":0.2254,"consumption_score":0.4559,"accessibility_score":0.4601,"climate_score":0.305,"mobility_score":0.5,"ndi_score":0.2856,"ndi_10":2.86,"ndi_rank":116,"avg_hdd_yearly":8792.445454545454},{"settlement_id":65,"settlement_name":"–ø–æ—Å–µ–ª–æ–∫ –¢—É—Ä–∞","settlement_type":"–ø–æ—Å–µ–ª–æ–∫","region_name":"–ö—Ä–∞—Å–Ω–æ—è—Ä—Å–∫–∏–π –∫—Ä–∞–π","poad_score":0.1048,"market_score":0.3334,"consumption_score":0.4461,"accessibility_score":0.3922,"climate_score":0.3046,"mobility_score":0.5,"ndi_score":0.2846,"ndi_10":2.85,"ndi_rank":117,"avg_hdd_yearly":8795.127272727274},{"settlement_id":50,"settlement_name":"—Å–µ–ª–æ –ë–∞–π–∫–∏—Ç","settlement_type":"—Å–µ–ª–æ","region_name":"–ö—Ä–∞—Å–Ω–æ—è—Ä—Å–∫–∏–π –∫—Ä–∞–π","poad_score":0.151,"market_score":0.0059,"consumption_score":0.4461,"accessibility_score":0.5088,"climate_score":0.4733,"mobility_score":0.5,"ndi_score":0.2696,"ndi_10":2.7,"ndi_rank":118,"avg_hdd_yearly":7797.881818181818},{"settlement_id":59,"settlement_name":"–ø–≥—Ç –ó—ã—Ä—è–Ω–∫–∞","settlement_type":"–ø–≥—Ç","region_name":"–†–µ—Å–ø—É–±–ª–∏–∫–∞ –°–∞—Ö–∞ (–Ø–∫—É—Ç–∏—è)","poad_score":0.4165,"market_score":0.0104,"consumption_score":0.4519,"accessibility_score":0.103,"climate_score":0.134,"mobility_score":0.5,"ndi_score":0.2695,"ndi_10":2.69,"ndi_rank":119,"avg_hdd_yearly":9803.90909090909},{"settlement_id":61,"settlement_name":"–ø–≥—Ç –ë–µ—Ä–∏–Ω–≥–æ–≤—Å–∫–∏–π","settlement_type":"–ø–≥—Ç","region_name":"–ß—É–∫–æ—Ç—Å–∫–∏–π –∞–≤—Ç–æ–Ω–æ–º–Ω—ã–π –æ–∫—Ä—É–≥","poad_score":0.3154,"market_score":0.1452,"consumption_score":0.353,"accessibility_score":0.0087,"climate_score":0.4949,"mobility_score":0.5,"ndi_score":0.2682,"ndi_10":2.68,"ndi_rank":120,"avg_hdd_yearly":7669.7},{"settlement_id":49,"settlement_name":"—Å–µ–ª–æ –ú—É–∂–∏","settlement_type":"—Å–µ–ª–æ","region_name":"–Ø–º–∞–ª–æ-–ù–µ–Ω–µ—Ü–∫–∏–π –∞–≤—Ç–æ–Ω–æ–º–Ω—ã–π –æ–∫—Ä—É–≥","poad_score":0.1158,"market_score":0.0088,"consumption_score":0.5025,"accessibility_score":0.4535,"climate_score":0.5307,"mobility_score":0.5,"ndi_score":0.2638,"ndi_10":2.64,"ndi_rank":121,"avg_hdd_yearly":7458.181818181818},{"settlement_id":11,"settlement_name":"—Å–µ–ª–æ –¢—É—Ä—É—Ö–∞–Ω—Å–∫","settlement_type":"—Å–µ–ª–æ","region_name":"–ö—Ä–∞—Å–Ω–æ—è—Ä—Å–∫–∏–π –∫—Ä–∞–π","poad_score":0.088,"market_score":0.2173,"consumption_score":0.39,"accessibility_score":0.3664,"climate_score":0.3937,"mobility_score":0.5,"ndi_score":0.2521,"ndi_10":2.52,"ndi_rank":122,"avg_hdd_yearly":8268.436363636363},{"settlement_id":67,"settlement_name":"–ø–≥—Ç –≠–ª—å–¥–∏–∫–∞–Ω","settlement_type":"–ø–≥—Ç","region_name":"–†–µ—Å–ø—É–±–ª–∏–∫–∞ –°–∞—Ö–∞ (–Ø–∫—É—Ç–∏—è)","poad_score":0.1568,"market_score":0.1454,"consumption_score":0.4519,"accessibility_score":0.1683,"climate_score":0.1871,"mobility_score":0.5,"ndi_score":0.2207,"ndi_10":2.21,"ndi_rank":123,"avg_hdd_yearly":9490.081818181818},{"settlement_id":35,"settlement_name":"–ø–≥—Ç –£–≥–æ–ª—å–Ω—ã–µ –ö–æ–ø–∏","settlement_type":"–ø–≥—Ç","region_name":"–ß—É–∫–æ—Ç—Å–∫–∏–π –∞–≤—Ç–æ–Ω–æ–º–Ω—ã–π –æ–∫—Ä—É–≥","poad_score":0.1163,"market_score":0.2242,"consumption_score":0.4036,"accessibility_score":0.0165,"climate_score":0.4009,"mobility_score":0.5,"ndi_score":0.2136,"ndi_10":2.14,"ndi_rank":124,"avg_hdd_yearly":8225.854545454546},{"settlement_id":38,"settlement_name":"–ø–≥—Ç –£—Å—Ç—å-–ú–∞—è","settlement_type":"–ø–≥—Ç","region_name":"–†–µ—Å–ø—É–±–ª–∏–∫–∞ –°–∞—Ö–∞ (–Ø–∫—É—Ç–∏—è)","poad_score":0.0034,"market_score":0.2041,"consumption_score":0.5812,"accessibility_score":0.1688,"climate_score":0.221,"mobility_score":0.5,"ndi_score":0.2016,"ndi_10":2.02,"ndi_rank":125,"avg_hdd_yearly":9289.272727272728},{"settlement_id":57,"settlement_name":"—Å–µ–ª–æ –•–∞—Ç–∞–Ω–≥–∞","settlement_type":"—Å–µ–ª–æ","region_name":"–ö—Ä–∞—Å–Ω–æ—è—Ä—Å–∫–∏–π –∫—Ä–∞–π","poad_score":0.1158,"market_score":0.0104,"consumption_score":0.4461,"accessibility_score":0.3056,"climate_score":0.0618,"mobility_score":0.5,"ndi_score":0.1865,"ndi_10":1.87,"ndi_rank":126,"avg_hdd_yearly":10230.709090909091},{"settlement_id":120,"settlement_name":"–ø–≥—Ç –≠–≥–≤–µ–∫–∏–Ω–æ—Ç","settlement_type":"–ø–≥—Ç","region_name":"–ß—É–∫–æ—Ç—Å–∫–∏–π –∞–≤—Ç–æ–Ω–æ–º–Ω—ã–π –æ–∫—Ä—É–≥","poad_score":0.0469,"market_score":0.1646,"consumption_score":0.3959,"accessibility_score":0.0184,"climate_score":0.3104,"mobility_score":0.5,"ndi_score":0.1675,"ndi_10":1.68,"ndi_rank":127,"avg_hdd_yearly":8760.736363636364},{"settlement_id":128,"settlement_name":"–ø–≥—Ç –î–µ–ø—É—Ç–∞—Ç—Å–∫–∏–π","settlement_type":"–ø–≥—Ç","region_name":"–†–µ—Å–ø—É–±–ª–∏–∫–∞ –°–∞—Ö–∞ (–Ø–∫—É—Ç–∏—è)","poad_score":0.0,"market_score":0.2054,"consumption_score":0.3882,"accessibility_score":0.178,"climate_score":0.0,"mobility_score":0.5,"ndi_score":0.151,"ndi_10":1.51,"ndi_rank":128,"avg_hdd_yearly":10596.127272727274}];
let activeCategory = null;
let currentFilteredData = allData;

// ============================================================================
// –í–°–ü–û–ú–û–ì–ê–¢–ï–õ–¨–ù–´–ï –§–£–ù–ö–¶–ò–ò
// ============================================================================

function getCategoryFromNDI(ndi) {
    if (ndi < 3.0) return '–ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–π';
    if (ndi < 4.5) return '–ù–∏–∑–∫–∏–π';
    if (ndi < 6.5) return '–°—Ä–µ–¥–Ω–∏–π';
    return '–í—ã—Å–æ–∫–∏–π';
}

function getColorByNDI(ndi) {
    if (ndi < 3.0) return 'rgb(165,0,38)';      // –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–π - —Ç–µ–º–Ω–æ-–∫—Ä–∞—Å–Ω—ã–π
    if (ndi < 4.5) return 'rgb(244,109,67)';    // –ù–∏–∑–∫–∏–π - –∫—Ä–∞—Å–Ω—ã–π
    if (ndi < 6.5) return 'rgb(254,224,139)';   // –°—Ä–µ–¥–Ω–∏–π - –∂–µ–ª—Ç—ã–π
    return 'rgb(0,104,55)';                     // –í—ã—Å–æ–∫–∏–π - –∑–µ–ª–µ–Ω—ã–π
}

function switchTab(tabName) {
    // –£–¥–∞–ª—è–µ–º –∞–∫—Ç–∏–≤–Ω—ã–π –∫–ª–∞—Å—Å —Å–æ –≤—Å–µ—Ö –∫–Ω–æ–ø–æ–∫ –∏ –∫–æ–Ω—Ç–µ–Ω—Ç–∞
    document.querySelectorAll('.tab-btn').forEach(btn => btn.classList.remove('active'));
    document.querySelectorAll('.tab-content').forEach(content => content.classList.remove('active'));

    // –î–æ–±–∞–≤–ª—è–µ–º –∞–∫—Ç–∏–≤–Ω—ã–π –∫–ª–∞—Å—Å –∫ –≤—ã–±—Ä–∞–Ω–Ω–æ–π –≤–∫–ª–∞–¥–∫–µ
    const tabButton = event?.target?.closest('.tab-btn') || document.querySelector(`[onclick*="${tabName}"]`);
    if (tabButton) tabButton.classList.add('active');

    document.getElementById(`tab-${tabName}`).classList.add('active');
    window.scrollTo({ top: 0, behavior: 'smooth' });

    // –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —à–∏—Ä–∏–Ω—ã treemap –ø—Ä–∏ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–∏ –Ω–∞ –≤–∫–ª–∞–¥–∫—É "–î–∞—à–±–æ—Ä–¥"
    if (tabName === 'dashboard') {
        // –î–∞—ë–º –≤—Ä–µ–º—è –±—Ä–∞—É–∑–µ—Ä—É –æ—Ç–æ–±—Ä–∞–∑–∏—Ç—å –≤–∫–ª–∞–¥–∫—É, –∑–∞—Ç–µ–º –ø–µ—Ä–µ—Å—á–∏—Ç—ã–≤–∞–µ–º —Ä–∞–∑–º–µ—Ä—ã –≥—Ä–∞—Ñ–∏–∫–æ–≤
        setTimeout(() => {
            if (document.getElementById('treemap')) {
                Plotly.Plots.resize('treemap');
            }
            if (document.getElementById('critical-treemap')) {
                Plotly.Plots.resize('critical-treemap');
            }
        }, 100);
    }

    console.log(`üìë –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–æ –Ω–∞ –≤–∫–ª–∞–¥–∫—É: ${tabName}`);
}

function filterByCategory(category) {
    const cards = document.querySelectorAll('.kpi-card');
    const categorySelect = document.getElementById('filter-category');

    // Toggle active state
    if (activeCategory === category) {
        activeCategory = null;
        cards.forEach(c => c.classList.remove('active'));
        categorySelect.value = '';
        applyFilters(null);
    } else {
        activeCategory = category;
        cards.forEach(c => c.classList.remove('active'));
        document.querySelector(`.kpi-card[data-category="${category}"]`).classList.add('active');
        categorySelect.value = category;
        applyFilters(category);
    }
}

function applyFilters(category) {
    let filtered = allData;

    // –§–∏–ª—å—Ç—Ä –ø–æ —Ä–µ–≥–∏–æ–Ω—É (multi-select)
    const selectedRegions = Array.from(document.querySelectorAll('.region-checkbox:checked')).map(cb => cb.value);
    if (selectedRegions.length > 0) {
        filtered = filtered.filter(d => selectedRegions.includes(d.region_name));
    }

    // –§–∏–ª—å—Ç—Ä –ø–æ –ù–ü (multi-select)
    const selectedSettlements = Array.from(document.querySelectorAll('.settlement-checkbox:checked')).map(cb => cb.value);
    if (selectedSettlements.length > 0) {
        filtered = filtered.filter(d => selectedSettlements.includes(d.settlement_id.toString()));
    }

    // –§–∏–ª—å—Ç—Ä –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏
    if (category) {
        filtered = filtered.filter(d => getCategoryFromNDI(d.ndi_10) === category);
    }

    currentFilteredData = filtered;

    console.log(`üîç –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è: ${filtered.length} –∏–∑ ${allData.length} –ù–ü`);
    console.log(`   –†–µ–≥–∏–æ–Ω: ${selectedRegions.length > 0 ? selectedRegions.join(', ') : '–≤—Å–µ'}`);
    console.log(`   –ù–ü: ${selectedSettlements.length > 0 ? selectedSettlements.length + ' –≤—ã–±—Ä–∞–Ω–æ' : '–≤—Å–µ'}`);
    console.log(`   –ö–∞—Ç–µ–≥–æ—Ä–∏—è: ${category || '–≤—Å–µ'}`);

    // –ü–µ—Ä–µ—Å—á—ë—Ç KPI –∫–∞—Ä—Ç–æ—á–µ–∫ –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º (–ü–û–°–õ–ï –≤—Å–µ—Ö —Ñ–∏–ª—å—Ç—Ä–æ–≤)
    const counts = {'–ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–π':0,'–ù–∏–∑–∫–∏–π':0,'–°—Ä–µ–¥–Ω–∏–π':0,'–í—ã—Å–æ–∫–∏–π':0};
    filtered.forEach(d => counts[getCategoryFromNDI(d.ndi_10)]++);
    document.querySelectorAll('.kpi-card').forEach(card => {
        const cat = card.dataset.category;
        const valueEl = card.querySelector('.kpi-value');
        const total = filtered.length;
        const count = counts[cat] || 0;
        const percent = total > 0 ? Math.round((count / total) * 100) : 0;
        if (valueEl) valueEl.innerHTML = `${count}<span class="kpi-percent">(${percent}%)</span>`;
    });

    // –û–±–Ω–æ–≤–ª—è–µ–º –∫–Ω–æ–ø–∫—É "–°–±—Ä–æ—Å–∏—Ç—å –≤—Å–µ"
    updateResetAllButton();

    // –û–±–Ω–æ–≤–ª—è–µ–º –≤—Å–µ –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏
    renderTreemap(filtered);
}

function updateSettlementOptions() {
    const selectedRegions = Array.from(document.querySelectorAll('.region-checkbox:checked')).map(cb => cb.value);
    const dropdown = document.getElementById('settlement-filter-dropdown');

    // –û—á–∏—â–∞–µ–º —á–µ–∫–±–æ–∫—Å—ã –ù–ü
    dropdown.innerHTML = '';

    // –§–∏–ª—å—Ç—Ä—É–µ–º –ù–ü –ø–æ –≤—ã–±—Ä–∞–Ω–Ω—ã–º —Ä–µ–≥–∏–æ–Ω–∞–º
    const settlements = selectedRegions.length > 0
        ? allData.filter(d => selectedRegions.includes(d.region_name))
        : allData;

    // –î–æ–±–∞–≤–ª—è–µ–º —á–µ–∫–±–æ–∫—Å—ã
    settlements
        .sort((a, b) => b.ndi_10 - a.ndi_10)
        .forEach(s => {
            const label = document.createElement('label');
            const checkbox = document.createElement('input');
            checkbox.type = 'checkbox';
            checkbox.className = 'settlement-checkbox';
            checkbox.value = s.settlement_id;
            checkbox.addEventListener('change', function() {
                updateMultiSelectButton('settlement-checkbox', 'settlement-filter-button');
                applyFilters(activeCategory);
            });
            label.appendChild(checkbox);
            label.appendChild(document.createTextNode(` ${s.settlement_name} (NDI: ${s.ndi_10})`));
            dropdown.appendChild(label);
        });

    console.log(`üìç –í —Ä–µ–≥–∏–æ–Ω–∞—Ö "${selectedRegions.join(', ') || '–≤—Å–µ'}": ${settlements.length} –ù–ü`);
}

function updateMultiSelectButton(checkboxClass, buttonId) {
    const checked = Array.from(document.querySelectorAll(`.${checkboxClass}:checked`));
    const button = document.getElementById(buttonId);
    if (!button) return;

    const resetButton = document.getElementById(buttonId.replace('-button', '-reset'));

    if (checked.length === 0) {
        button.textContent = checkboxClass.includes('region') ? '–í—Å–µ —Ä–µ–≥–∏–æ–Ω—ã ‚ñº' : '–í—Å–µ –ù–ü ‚ñº';
        // –£–±—Ä–∞—Ç—å –∫–ª–∞—Å—Å active - —Å–µ—Ä–∞—è –∫–Ω–æ–ø–∫–∞ "√ó"
        if (resetButton) resetButton.classList.remove('active');
    } else {
        button.textContent = `–í—ã–±—Ä–∞–Ω–æ: ${checked.length} ‚ñº`;
        // –î–æ–±–∞–≤–∏—Ç—å –∫–ª–∞—Å—Å active - —Å–∏–Ω—è—è –∫–Ω–æ–ø–∫–∞ "√ó"
        if (resetButton) resetButton.classList.add('active');
    }
}

function updateResetAllButton() {
    const resetAllBtn = document.getElementById('reset-all-filters');
    if (!resetAllBtn) return;

    const hasRegionFilters = document.querySelectorAll('.region-checkbox:checked').length > 0;
    const hasSettlementFilters = document.querySelectorAll('.settlement-checkbox:checked').length > 0;
    const categorySelect = document.getElementById('filter-category');
    const hasCategoryFilter = categorySelect && categorySelect.value !== '';

    const hasAnyFilter = hasRegionFilters || hasSettlementFilters || hasCategoryFilter;

    if (hasAnyFilter) {
        resetAllBtn.classList.add('active');
    } else {
        resetAllBtn.classList.remove('active');
    }
}

// ============================================================================
// PLOTLY –ì–†–ê–§–ò–ö–ò
// ============================================================================

// –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è –¥–ª—è drill-down –∫–∞—Ä—Ç—ã
let currentDrillLevel = 'regions';  // 'regions' –∏–ª–∏ 'settlements'
let currentRegion = null;           // –≤—ã–±—Ä–∞–Ω–Ω—ã–π —Ä–µ–≥–∏–æ–Ω

function renderTreemap(data) {
    if (data.length === 0) {
        Plotly.purge('treemap');
        document.getElementById('treemap').innerHTML = '<div style="text-align:center; padding:50px; color:#999;">–ù–µ—Ç –¥–∞–Ω–Ω—ã—Ö –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è</div>';
        return;
    }

    // –ì—Ä—É–ø–ø–∏—Ä—É–µ–º –ø–æ —Ä–µ–≥–∏–æ–Ω–∞–º
    const regions = {};
    data.forEach(d => {
        if (!regions[d.region_name]) regions[d.region_name] = [];
        regions[d.region_name].push(d);
    });

    const labels = [];
    const parents = [];
    const values = [];
    const colors = [];
    const customdata = [];
    const text = [];

    if (currentDrillLevel === 'regions') {
        // –£–†–û–í–ï–ù–¨ 1: –¢–æ–ª—å–∫–æ —Ä–µ–≥–∏–æ–Ω—ã (–±–µ–∑ –ù–ü)
        Object.keys(regions).forEach(region => {
            const regionData = regions[region];
            const avgNDI = regionData.reduce((sum, d) => sum + d.ndi_10, 0) / regionData.length;
            const avgPoad = regionData.reduce((sum, d) => sum + d.poad_score, 0) / regionData.length;
            const avgMarket = regionData.reduce((sum, d) => sum + d.market_score, 0) / regionData.length;
            const avgConsumption = regionData.reduce((sum, d) => sum + d.consumption_score, 0) / regionData.length;
            const avgAccessibility = regionData.reduce((sum, d) => sum + d.accessibility_score, 0) / regionData.length;
            const avgClimate = regionData.reduce((sum, d) => sum + d.climate_score, 0) / regionData.length;
            const avgMobility = regionData.reduce((sum, d) => sum + d.mobility_score, 0) / regionData.length;

            labels.push(region);
            parents.push('');
            values.push(regionData.length);
            colors.push(getColorByNDI(avgNDI));
            customdata.push([avgPoad, avgMarket, avgConsumption, avgAccessibility, avgClimate, avgMobility, getColorByNDI(avgNDI)]);
            text.push(`${region}<br><b>NDI: ${avgNDI.toFixed(2)}</b><br>${regionData.length} –ù–ü`);
        });

    } else if (currentDrillLevel === 'settlements' && currentRegion) {
        // –£–†–û–í–ï–ù–¨ 2: –ù–ü –≤—ã–±—Ä–∞–Ω–Ω–æ–≥–æ —Ä–µ–≥–∏–æ–Ω–∞

        // 1. –†–æ–¥–∏—Ç–µ–ª—å—Å–∫–∏–π —É–∑–µ–ª - —Ä–µ–≥–∏–æ–Ω
        const regionData = regions[currentRegion];
        if (regionData) {
            const avgNDI = regionData.reduce((sum, d) => sum + d.ndi_10, 0) / regionData.length;
            const avgPoad = regionData.reduce((sum, d) => sum + d.poad_score, 0) / regionData.length;
            const avgMarket = regionData.reduce((sum, d) => sum + d.market_score, 0) / regionData.length;
            const avgConsumption = regionData.reduce((sum, d) => sum + d.consumption_score, 0) / regionData.length;
            const avgAccessibility = regionData.reduce((sum, d) => sum + d.accessibility_score, 0) / regionData.length;
            const avgClimate = regionData.reduce((sum, d) => sum + d.climate_score, 0) / regionData.length;
            const avgMobility = regionData.reduce((sum, d) => sum + d.mobility_score, 0) / regionData.length;

            labels.push(currentRegion);
            parents.push('');
            values.push(regionData.length);
            colors.push(getColorByNDI(avgNDI));
            customdata.push([avgPoad, avgMarket, avgConsumption, avgAccessibility, avgClimate, avgMobility, getColorByNDI(avgNDI)]);
            text.push(`${currentRegion}<br><b>NDI: ${avgNDI.toFixed(2)}</b><br>${regionData.length} –ù–ü`);

            // 2. –î–æ—á–µ—Ä–Ω–∏–µ —É–∑–ª—ã - –ù–ü —Ä–µ–≥–∏–æ–Ω–∞
            regionData.forEach(d => {
                labels.push(d.settlement_name);
                parents.push(currentRegion);
                values.push(1);
                colors.push(getColorByNDI(d.ndi_10));
                customdata.push([
                    d.poad_score,
                    d.market_score,
                    d.consumption_score,
                    d.accessibility_score,
                    d.climate_score,
                    d.mobility_score,
                    getColorByNDI(d.ndi_10)
                ]);
                text.push(`${d.settlement_name}<br><b>${d.ndi_10}</b>`);
            });
        }
    }

    const trace = {
        type: 'treemap',
        labels: labels,
        parents: parents,
        values: values,
        marker: {
            colors: colors,
            line: {
                color: 'white',
                width: 1
            }
        },
        text: text,
        textinfo: 'text',
        textposition: 'middle center',
        customdata: customdata,
        hovertemplate: '<b>%{label}</b><br>' +
                      '‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ<br>' +
                      '<b style="font-size:16px; color:%{customdata[6]};">NDI: %{color:.2f}</b><br>' +
                      '<br>üìä <b>–ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:</b><br>' +
                      '  ‚Ä¢ POAD: %{customdata[0]:.2f}<br>' +
                      '  ‚Ä¢ –†—ã–Ω–æ–∫: %{customdata[1]:.2f}<br>' +
                      '  ‚Ä¢ –ü–æ—Ç—Ä–µ–±–ª–µ–Ω–∏–µ: %{customdata[2]:.2f}<br>' +
                      '  ‚Ä¢ –î–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å: %{customdata[3]:.2f}<br>' +
                      '  ‚Ä¢ –ö–ª–∏–º–∞—Ç: %{customdata[4]:.2f}<br>' +
                      '  ‚Ä¢ –ú–æ–±–∏–ª—å–Ω–æ—Å—Ç—å: %{customdata[5]:.2f}<br>' +
                      '<extra></extra>',
        branchvalues: 'total',
        tiling: {
            packing: 'squarify',
            pad: 3
        }
    };

    const layout = {
        margin: { t: 50, l: 10, r: 10, b: 90 },
        title: '–ö–∞—Ä—Ç–∞ –ø—Ä–∏–≤–ª–µ–∫–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –ù–ü –ø–æ —Ä–µ–≥–∏–æ–Ω–∞–º (–∫–ª–∏–∫–Ω–∏—Ç–µ –Ω–∞ —Ä–µ–≥–∏–æ–Ω –¥–ª—è –¥–µ—Ç–∞–ª–∏–∑–∞—Ü–∏–∏)',
        height: currentDrillLevel === 'settlements' ? 650 : 550,
        autosize: true,
        annotations: [
            {
                text: '<b>NDI:</b>    ' +
                      '<span style="color:rgb(165,0,38)">‚ñ†</span> –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–π (<3.0)    ' +
                      '<span style="color:rgb(244,109,67)">‚ñ†</span> –ù–∏–∑–∫–∏–π (3.0-4.5)    ' +
                      '<span style="color:rgb(254,224,139)">‚ñ†</span> –°—Ä–µ–¥–Ω–∏–π (4.5-6.5)    ' +
                      '<span style="color:rgb(0,104,55)">‚ñ†</span> –í—ã—Å–æ–∫–∏–π (6.5+)',
                showarrow: false,
                xref: 'paper',
                yref: 'paper',
                x: 0.5,
                y: -0.12,
                xanchor: 'center',
                yanchor: 'top',
                align: 'center',
                bgcolor: 'rgba(255,255,255,0.9)',
                bordercolor: '#ccc',
                borderwidth: 1,
                borderpad: 10,
                font: { size: 11 }
            }
        ]
    };

    Plotly.newPlot('treemap', [trace], layout, { responsive: true });

    // –ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω—ã–π resize –¥–ª—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–≥–æ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –ø–æ —à–∏—Ä–∏–Ω–µ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ
    setTimeout(() => {
        Plotly.Plots.resize('treemap');
    }, 300);

    // –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–π resize –¥–ª—è –≥–∞—Ä–∞–Ω—Ç–∏–∏ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–π –æ—Ç—Ä–∏—Å–æ–≤–∫–∏
    setTimeout(() => {
        Plotly.Plots.resize('treemap');
    }, 800);

    // –§–∏–Ω–∞–ª—å–Ω—ã–π resize —á–µ—Ä–µ–∑ –±–æ–ª—å—à—É—é –∑–∞–¥–µ—Ä–∂–∫—É –¥–ª—è –ø–æ–ª–Ω–æ–π –∑–∞–≥—Ä—É–∑–∫–∏
    setTimeout(() => {
        Plotly.Plots.resize('treemap');
    }, 1500);

    // Drill-down –æ–±—Ä–∞–±–æ—Ç—á–∏–∫
    document.getElementById('treemap').on('plotly_click', function(eventData) {
        const clickedLabel = eventData.points[0].label;
        const clickedParent = eventData.points[0].parent;

        if (currentDrillLevel === 'regions' && clickedParent === '') {
            // –ö–ª–∏–∫ –ø–æ —Ä–µ–≥–∏–æ–Ω—É -> –ø—Ä–æ–≤–∞–ª–∏—Ç—å—Å—è –≤ —Ä–µ–≥–∏–æ–Ω
            currentDrillLevel = 'settlements';
            currentRegion = clickedLabel;
            renderTreemap(allData);  // –ø–µ—Ä–µ—Ä–∏—Å–æ–≤–∞—Ç—å —Å –ù–ü —Ä–µ–≥–∏–æ–Ω–∞

        } else if (currentDrillLevel === 'settlements' && clickedParent !== '') {
            // –ö–ª–∏–∫ –ø–æ –ù–ü -> —Ñ–∏–ª—å—Ç—Ä–æ–≤–∞—Ç—å –¥–∞—à–±–æ—Ä–¥
            const settlementCheckboxes = document.querySelectorAll('.settlement-checkbox');
            settlementCheckboxes.forEach(cb => {
                cb.checked = (cb.value === clickedLabel);
            });
            updateMultiSelectButton('settlement-checkbox', 'settlement-filter-button');
            applyFilters();
        }
    });

    // –ü–æ–∫–∞–∑–∞—Ç—å/—Å–∫—Ä—ã—Ç—å –∫–Ω–æ–ø–∫—É "–ù–∞–∑–∞–¥" –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —É—Ä–æ–≤–Ω—è
    const backBtn = document.getElementById('treemap-back-btn');
    if (currentDrillLevel === 'settlements') {
        backBtn.style.display = 'inline-block';
    } else {
        backBtn.style.display = 'none';
    }
}

// ============================================================================
// EVENT LISTENERS
// ============================================================================

// Multi-select dropdown toggle –¥–ª—è —Ä–µ–≥–∏–æ–Ω–æ–≤
const regionButton = document.getElementById('region-filter-button');
if (regionButton) {
    regionButton.addEventListener('click', function(e) {
        e.stopPropagation();
        const dropdown = document.getElementById('region-filter-dropdown');
        dropdown.style.display = dropdown.style.display === 'none' ? 'block' : 'none';
        // –ó–∞–∫—Ä—ã—Ç—å dropdown –ù–ü
        const settlementDropdown = document.getElementById('settlement-filter-dropdown');
        if (settlementDropdown) settlementDropdown.style.display = 'none';
    });
}

// Multi-select dropdown toggle –¥–ª—è –ù–ü
const settlementButton = document.getElementById('settlement-filter-button');
if (settlementButton) {
    settlementButton.addEventListener('click', function(e) {
        e.stopPropagation();
        const dropdown = document.getElementById('settlement-filter-dropdown');
        dropdown.style.display = dropdown.style.display === 'none' ? 'block' : 'none';
        // –ó–∞–∫—Ä—ã—Ç—å dropdown —Ä–µ–≥–∏–æ–Ω–æ–≤
        const regionDropdown = document.getElementById('region-filter-dropdown');
        if (regionDropdown) regionDropdown.style.display = 'none';
    });
}

// –ó–∞–∫—Ä—ã—Ç—å dropdowns –ø—Ä–∏ –∫–ª–∏–∫–µ –≤–Ω–µ
document.addEventListener('click', function() {
    document.querySelectorAll('.multi-select-dropdown').forEach(d => d.style.display = 'none');
});

// Event listeners –¥–ª—è —á–µ–∫–±–æ–∫—Å–æ–≤ —Ä–µ–≥–∏–æ–Ω–æ–≤
document.querySelectorAll('.region-checkbox').forEach(cb => {
    cb.addEventListener('change', function() {
        updateMultiSelectButton('region-checkbox', 'region-filter-button');
        updateSettlementOptions();
        applyFilters(activeCategory);
    });
});

// –°–±—Ä–æ—Å —Ñ–∏–ª—å—Ç—Ä–∞ —Ä–µ–≥–∏–æ–Ω–æ–≤
const regionResetBtn = document.getElementById('region-filter-reset');
if (regionResetBtn) {
    regionResetBtn.addEventListener('click', function(e) {
        e.stopPropagation();
        document.querySelectorAll('.region-checkbox').forEach(cb => cb.checked = false);
        updateMultiSelectButton('region-checkbox', 'region-filter-button');
        updateSettlementOptions();
        applyFilters(activeCategory);
    });
}

// –°–±—Ä–æ—Å —Ñ–∏–ª—å—Ç—Ä–∞ –Ω–∞—Å–µ–ª—ë–Ω–Ω—ã—Ö –ø—É–Ω–∫—Ç–æ–≤
const settlementResetBtn = document.getElementById('settlement-filter-reset');
if (settlementResetBtn) {
    settlementResetBtn.addEventListener('click', function(e) {
        e.stopPropagation();
        document.querySelectorAll('.settlement-checkbox').forEach(cb => cb.checked = false);
        updateMultiSelectButton('settlement-checkbox', 'settlement-filter-button');
        applyFilters(activeCategory);
    });
}

// –°–±—Ä–æ—Å –≤—Å–µ—Ö —Ñ–∏–ª—å—Ç—Ä–æ–≤
const resetAllBtn = document.getElementById('reset-all-filters');
if (resetAllBtn) {
    resetAllBtn.addEventListener('click', function() {
        // –°–±—Ä–æ—Å multi-select —Ñ–∏–ª—å—Ç—Ä–æ–≤
        document.querySelectorAll('.region-checkbox').forEach(cb => cb.checked = false);
        document.querySelectorAll('.settlement-checkbox').forEach(cb => cb.checked = false);
        updateMultiSelectButton('region-checkbox', 'region-filter-button');
        updateMultiSelectButton('settlement-checkbox', 'settlement-filter-button');

        // –°–±—Ä–æ—Å single-select —Ñ–∏–ª—å—Ç—Ä–æ–≤
        const categorySelect = document.getElementById('filter-category');
        if (categorySelect) categorySelect.value = '';

        // –°–±—Ä–æ—Å –∞–∫—Ç–∏–≤–Ω–æ–π –∫–∞—Ç–µ–≥–æ—Ä–∏–∏
        activeCategory = null;
        document.querySelectorAll('.kpi-card').forEach(c => c.classList.remove('active'));

        // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö
        updateSettlementOptions();
        applyFilters(null);
        updateResetAllButton();

        console.log('‚úÖ –í—Å–µ —Ñ–∏–ª—å—Ç—Ä—ã –ø–µ—Ä–≤–æ–≥–æ —É—Ä–æ–≤–Ω—è —Å–±—Ä–æ—à–µ–Ω—ã');
    });
}

// –§–∏–ª—å—Ç—Ä –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ (single-select –æ—Å—Ç–∞—ë—Ç—Å—è)
const categorySelect = document.getElementById('filter-category');
if (categorySelect) {
    categorySelect.addEventListener('change', function() {
        const category = this.value;

        // –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä—É–µ–º —Å KPI –∫–∞—Ä—Ç–æ—á–∫–∞–º–∏
        const cards = document.querySelectorAll('.kpi-card');
        cards.forEach(c => c.classList.remove('active'));

        if (category) {
            activeCategory = category;
            const card = document.querySelector(`.kpi-card[data-category="${category}"]`);
            if (card) card.classList.add('active');
        } else {
            activeCategory = null;
        }

        applyFilters(category);
    });
}

// –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –∫–Ω–æ–ø–∫–∏ "–ù–∞–∑–∞–¥ –∫ —Ä–µ–≥–∏–æ–Ω–∞–º"
const treemapBackBtn = document.getElementById('treemap-back-btn');
if (treemapBackBtn) {
    treemapBackBtn.addEventListener('click', function() {
        currentDrillLevel = 'regions';
        currentRegion = null;
        renderTreemap(allData);
    });
}

// ============================================================================
// –ò–ù–ò–¶–ò–ê–õ–ò–ó–ê–¶–ò–Ø
// ============================================================================

// –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
console.log('‚úÖ –î–∞—à–±–æ—Ä–¥ –∑–∞–≥—Ä—É–∂–µ–Ω');
console.log(`üìä –í—Å–µ–≥–æ –¥–∞–Ω–Ω—ã—Ö: ${allData.length} –ù–ü`);
console.log(`üìç –†–µ–≥–∏–æ–Ω–æ–≤: ${new Set(allData.map(d => d.region_name)).size}`);

// –†–µ–Ω–¥–µ—Ä–∏–º –≥—Ä–∞—Ñ–∏–∫–∏ —Å –ø–æ–ª–Ω—ã–º –Ω–∞–±–æ—Ä–æ–º –¥–∞–Ω–Ω—ã—Ö
renderTreemap(allData);

// –ó–∞–ø–æ–ª–Ω—è–µ–º —Å–ø–∏—Å–æ–∫ –ù–ü
updateSettlementOptions();
applyFilters();

// –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ–º —Å–æ—Å—Ç–æ—è–Ω–∏–µ –∫–Ω–æ–ø–∫–∏ "–°–±—Ä–æ—Å–∏—Ç—å –≤—Å–µ"
updateResetAllButton();

// === CRITICAL SETTLEMENTS WIDGET ===

</script>

</body>
</html>
